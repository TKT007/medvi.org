var KachingBundlesBlock=function(e){"use strict";var t,n,r,a,i,l=Object.defineProperty,s=e=>{throw TypeError(e)},c=(e,t,n)=>((e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),u=(e,t,n)=>t.has(e)||s("Cannot "+n),o=(e,t,n)=>(u(e,t,"read from private field"),n?n.call(e):t.get(e)),d=(e,t,n)=>t.has(e)?s("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),g=(e,t,n,r)=>(u(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);"undefined"!=typeof window&&(null!=(r=(n=null!=(t=window.__svelte)?t:window.__svelte={}).v)?r:n.v=new Set).add("5");const v="[!",p={},f=Symbol(),h=!1;function b(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var m=Array.isArray,_=Array.prototype.indexOf,y=Array.from,k=Object.keys,P=Object.defineProperty,w=Object.getOwnPropertyDescriptor,$=Object.getOwnPropertyDescriptors,S=Object.prototype,I=Array.prototype,B=Object.getPrototypeOf,C=Object.isExtensible;const x=()=>{};function q(e){return e()}function D(e){for(var t=0;t<e.length;t++)e[t]()}const T=32,V=64,A=128,M=256,z=512,F=1024,N=2048,O=4096,G=8192,j=16384,R=65536,E=1<<20,L=1<<21,Q=Symbol("$state"),U=Symbol("legacy props"),H=Symbol("");function J(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let W,K=!1;function Z(e){K=e}function X(e){if(null===e)throw J(),p;return W=e}function Y(){return X(be(W))}function ee(e){if(K){if(null!==be(W))throw J(),p;W=e}}function te(e=1){if(K){for(var t=e,n=W;t--;)n=be(n);W=n}}function ne(){for(var e=0,t=W;;){if(8===t.nodeType){var n=t.data;if("]"===n){if(0===e)return t;e-=1}else"["!==n&&n!==v||(e+=1)}var r=be(t);t.remove(),t=r}}const re=[];function ae(e,t=!1){return ie(e,new Map,"",re)}function ie(e,t,n,r,a=null){if("object"==typeof e&&null!==e){var i=t.get(e);if(void 0!==i)return i;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(m(e)){var l=Array(e.length);t.set(e,l),null!==a&&t.set(a,l);for(var s=0;s<e.length;s+=1){var c=e[s];s in e&&(l[s]=ie(c,t,n,r))}return l}if(B(e)===S){for(var u in l={},t.set(e,l),null!==a&&t.set(a,l),e)l[u]=ie(e[u],t,n,r);return l}if(e instanceof Date)return structuredClone(e);if("function"==typeof e.toJSON)return ie(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch(o){return e}}let le=!1;function se(e){if("object"!=typeof e||null===e||Q in e)return e;const t=B(e);if(t!==S&&t!==I)return e;var n=new Map,r=m(e),a=Zt(0),i=pt,l=e=>{var t=pt;ht(i);var n=e();return ht(t),n};return r&&n.set("length",Zt(e.length)),new Proxy(e,{defineProperty(e,t,r){"value"in r&&!1!==r.configurable&&!1!==r.enumerable&&!1!==r.writable||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var a=n.get(t);return void 0===a?(a=l((()=>Zt(r.value))),n.set(t,a)):Yt(a,l((()=>se(r.value)))),!0},deleteProperty(e,t){var i=n.get(t);if(void 0===i)t in e&&(n.set(t,l((()=>Zt(f)))),ce(a));else{if(r&&"string"==typeof t){var s=n.get("length"),c=Number(t);Number.isInteger(c)&&c<s.v&&Yt(s,c)}Yt(i,f),ce(a)}return!0},get(t,r,a){var i;if(r===Q)return e;var s=n.get(r),c=r in t;if(void 0!==s||c&&!(null==(i=w(t,r))?void 0:i.writable)||(s=l((()=>Zt(se(c?t[r]:f)))),n.set(r,s)),void 0!==s){var u=Et(s);return u===f?void 0:u}return Reflect.get(t,r,a)},getOwnPropertyDescriptor(e,t){var r=Reflect.getOwnPropertyDescriptor(e,t);if(r&&"value"in r){var a=n.get(t);a&&(r.value=Et(a))}else if(void 0===r){var i=n.get(t),l=null==i?void 0:i.v;if(void 0!==i&&l!==f)return{enumerable:!0,configurable:!0,value:l,writable:!0}}return r},has(e,t){var r;if(t===Q)return!0;var a=n.get(t),i=void 0!==a&&a.v!==f||Reflect.has(e,t);if((void 0!==a||null!==bt&&(!i||(null==(r=w(e,t))?void 0:r.writable)))&&(void 0===a&&(a=l((()=>Zt(i?se(e[t]):f))),n.set(t,a)),Et(a)===f))return!1;return i},set(e,t,i,s){var c,u=n.get(t),o=t in e;if(r&&"length"===t)for(var d=i;d<u.v;d+=1){var g=n.get(d+"");void 0!==g?Yt(g,f):d in e&&(g=l((()=>Zt(f))),n.set(d+"",g))}void 0===u?o&&!(null==(c=w(e,t))?void 0:c.writable)||(Yt(u=l((()=>Zt(void 0))),l((()=>se(i)))),n.set(t,u)):(o=u.v!==f,Yt(u,l((()=>se(i)))));var v=Reflect.getOwnPropertyDescriptor(e,t);if((null==v?void 0:v.set)&&v.set.call(s,i),!o){if(r&&"string"==typeof t){var p=n.get("length"),h=Number(t);Number.isInteger(h)&&h>=p.v&&Yt(p,h+1)}ce(a)}return!0},ownKeys(e){Et(a);var t=Reflect.ownKeys(e).filter((e=>{var t=n.get(e);return void 0===t||t.v!==f}));for(var[r,i]of n)i.v===f||r in e||t.push(r);return t},setPrototypeOf(){!function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function ce(e,t=1){Yt(e,e.v+t)}function ue(e){try{if(null!==e&&"object"==typeof e&&Q in e)return e[Q]}catch{}return e}var oe,de,ge,ve;function pe(){if(void 0===oe){oe=window,de=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ge=w(t,"firstChild").get,ve=w(t,"nextSibling").get,C(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),C(n)&&(n.__t=void 0)}}function fe(e=""){return document.createTextNode(e)}function he(e){return ge.call(e)}function be(e){return ve.call(e)}function me(e,t){if(!K)return he(e);var n=he(W);if(null===n)n=W.appendChild(fe());else if(t&&3!==n.nodeType){var r=fe();return null==n||n.before(r),X(r),r}return X(n),n}function _e(e,t){if(!K){var n=he(e);return n instanceof Comment&&""===n.data?be(n):n}return W}function ye(e,t=1,n=!1){let r=K?W:e;for(var a;t--;)a=r,r=be(r);if(!K)return r;var i=null==r?void 0:r.nodeType;if(n&&3!==i){var l=fe();return null===r?null==a||a.after(l):r.before(l),X(l),l}return X(r),r}function ke(e){e.textContent=""}function Pe(e){return e===this.v}function we(e,t){return e!=e?t==t:e!==t||null!==e&&"object"==typeof e||"function"==typeof e}function $e(e,t){return e!==t}function Se(e){return!we(e,this.v)}function Ie(e){var t=2050,n=null!==pt&&2&pt.f?pt:null;null===bt||null!==n&&n.f&M?t|=M:bt.f|=E;return{ctx:nn,deps:null,effects:null,equals:Pe,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:null!=n?n:bt}}function Be(e){const t=Ie(e);return yt(t),t}function Ce(e){const t=Ie(e);return t.equals=Se,t}function xe(e){var t=e.effects;if(null!==t){e.effects=null;for(var n=0;n<t.length;n+=1)Ue(t[n])}}function qe(e){var t,n=bt;mt(function(e){for(var t=e.parent;null!==t;){if(!(2&t.f))return t;t=t.parent}return null}(e));try{xe(e),t=Tt(e)}finally{mt(n)}return t}function De(e){var t=qe(e);Ut(e,(It||e.f&M)&&null!==e.deps?O:F),e.equals(t)||(e.v=t,e.wv=Bt())}function Te(e){null===bt&&null===pt&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),null!==pt&&pt.f&M&&null===bt&&function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),dt&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function Ve(e,t,n,r=!0){var a,i=bt,l={ctx:nn,deps:null,nodes_start:null,nodes_end:null,f:e|N,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Mt(l),l.f|=32768}catch(c){throw Ue(l),c}else null!==t&&Ot(l);if(!(n&&null===l.deps&&null===l.first&&null===l.nodes_start&&null===l.teardown&&!(1048704&l.f))&&r&&(null!==i&&function(e,t){var n=t.last;null===n?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}(l,i),null!==pt&&2&pt.f)){var s=pt;(null!=(a=s.effects)?a:s.effects=[]).push(l)}return l}function Ae(e){const t=Ve(8,null,!1);return Ut(t,F),t.teardown=e,t}function Me(e){var t;if(Te(),!(null!==bt&&!!(bt.f&T)&&null!==nn&&!nn.m))return Fe(e);var n=nn;(null!=(t=n.e)?t:n.e=[]).push({fn:e,effect:bt,reaction:pt})}function ze(e){return Te(),Ge(e)}function Fe(e){return Ve(4,e,!1)}function Ne(e,t){var n=nn,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=Ge((()=>{e(),r.ran||(r.ran=!0,Yt(n.l.r2,!0),Lt(t))}))}function Oe(){var e=nn;Ge((()=>{if(Et(e.l.r2)){for(var t of e.l.r1){var n=t.effect;n.f&F&&Ut(n,O),Ct(n)&&Mt(n),t.ran=!1}e.l.r2.v=!1}}))}function Ge(e){return Ve(8,e,!0)}function je(e,t=[],n=Ie){const r=t.map(n);return Re((()=>e(...r.map(Et))))}function Re(e,t=0){return Ve(24|t,e,!0)}function Ee(e,t=!0){return Ve(40,e,!0,t)}function Le(e){var t=e.teardown;if(null!==t){const e=dt,n=pt;gt(!0),ht(null);try{t.call(null)}finally{gt(e),ht(n)}}}function Qe(e,t=!1){var n=e.first;for(e.first=e.last=null;null!==n;){var r=n.next;n.f&V?n.parent=null:Ue(n,t),n=r}}function Ue(e,t=!0){var n=!1;(t||524288&e.f)&&null!==e.nodes_start&&(He(e.nodes_start,e.nodes_end),n=!0),Qe(e,t&&!n),At(e,0),Ut(e,j);var r=e.transitions;if(null!==r)for(const i of r)i.stop();Le(e);var a=e.parent;null!==a&&null!==a.first&&Je(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function He(e,t){for(;null!==e;){var n=e===t?null:be(e);e.remove(),e=n}}function Je(e){var t=e.parent,n=e.prev,r=e.next;null!==n&&(n.next=r),null!==r&&(r.prev=n),null!==t&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function We(e,t){var n=[];Ze(e,n,!0),Ke(n,(()=>{Ue(e),t&&t()}))}function Ke(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function Ze(e,t,n){if(!(e.f&G)){if(e.f^=G,null!==e.transitions)for(const r of e.transitions)(r.is_global||n)&&t.push(r);for(var r=e.first;null!==r;){var a=r.next;Ze(r,t,!!(!!(r.f&R)||!!(r.f&T))&&n),r=a}}}function Xe(e){Ye(e,!0)}function Ye(e,t){if(e.f&G){e.f^=G,e.f&F||(e.f^=F),Ct(e)&&(Ut(e,N),Ot(e));for(var n=e.first;null!==n;){var r=n.next;Ye(n,!!(!!(n.f&R)||!!(n.f&T))&&t),n=r}if(null!==e.transitions)for(const n of e.transitions)(n.is_global||t)&&n.in()}}const et="undefined"==typeof requestIdleCallback?e=>setTimeout(e,1):requestIdleCallback;let tt=[],nt=[];function rt(){var e=tt;tt=[],D(e)}function at(){var e=nt;nt=[],D(e)}function it(e){0===tt.length&&queueMicrotask(rt),tt.push(e)}function lt(){tt.length>0&&rt(),nt.length>0&&at()}let st=!1,ct=!1,ut=null,ot=!1,dt=!1;function gt(e){dt=e}let vt=[],pt=null,ft=!1;function ht(e){pt=e}let bt=null;function mt(e){bt=e}let _t=null;function yt(e){null!==pt&&pt.f&L&&(null===_t?_t=[e]:_t.push(e))}let kt=null,Pt=0,wt=null;let $t=1,St=0,It=!1;function Bt(){return++$t}function Ct(e){var t,n,r=e.f;if(r&N)return!0;if(r&O){var a=e.deps,i=!!(r&M);if(null!==a){var l,s,c=!!(r&z),u=i&&null!==bt&&!It,o=a.length;if(c||u){var d=e,g=d.parent;for(l=0;l<o;l++)s=a[l],!c&&(null==(t=null==s?void 0:s.reactions)?void 0:t.includes(d))||(null!=(n=s.reactions)?n:s.reactions=[]).push(d);c&&(d.f^=z),!u||null===g||g.f&M||(d.f^=M)}for(l=0;l<o;l++)if(Ct(s=a[l])&&De(s),s.wv>e.wv)return!0}i&&(null===bt||It)||Ut(e,F)}return!1}function xt(e){return!(e.f&j||null!==e.parent&&e.parent.f&A)}function qt(e,t,n,r){if(st){if(null===n&&(st=!1),xt(t))throw e}else if(null!==n&&(st=!0),function(e,t){for(var n=t;null!==n;){if(n.f&A)try{return void n.fn(e)}catch{n.f^=A}n=n.parent}throw st=!1,e}(e,t),xt(t))throw e}function Dt(e,t,n=!0){var r=e.reactions;if(null!==r)for(var a=0;a<r.length;a++){var i=r[a];(null==_t?void 0:_t.includes(e))||(2&i.f?Dt(i,t,!1):t===i&&(n?Ut(i,N):i.f&F&&Ut(i,O),Ot(i)))}}function Tt(e){var t,n,r=kt,a=Pt,i=wt,l=pt,s=It,c=_t,u=nn,o=ft,d=e.f;kt=null,Pt=0,wt=null,It=!!(d&M)&&(ft||!ot||null===pt),pt=96&d?null:e,_t=null,rn(e.ctx),ft=!1,St++,e.f|=L;try{var g=(0,e.fn)(),v=e.deps;if(null!==kt){var p;if(At(e,Pt),null!==v&&Pt>0)for(v.length=Pt+kt.length,p=0;p<kt.length;p++)v[Pt+p]=kt[p];else e.deps=v=kt;if(!It)for(p=Pt;p<v.length;p++)(null!=(n=(t=v[p]).reactions)?n:t.reactions=[]).push(e)}else null!==v&&Pt<v.length&&(At(e,Pt),v.length=Pt);if(sn()&&null!==wt&&!ft&&null!==v&&!(6146&e.f))for(p=0;p<wt.length;p++)Dt(wt[p],e);return null!==l&&l!==e&&(St++,null!==wt&&(null===i?i=wt:i.push(...wt))),g}finally{kt=r,Pt=a,wt=i,pt=l,It=s,_t=c,rn(u),ft=o,e.f^=L}}function Vt(e,t){let n=t.reactions;if(null!==n){var r=_.call(n,e);if(-1!==r){var a=n.length-1;0===a?n=t.reactions=null:(n[r]=n[a],n.pop())}}null===n&&2&t.f&&(null===kt||!kt.includes(t))&&(Ut(t,O),768&t.f||(t.f^=z),xe(t),At(t,0))}function At(e,t){var n=e.deps;if(null!==n)for(var r=t;r<n.length;r++)Vt(e,n[r])}function Mt(e){var t=e.f;if(!(t&j)){Ut(e,F);var n=bt,r=nn,a=ot;bt=e,ot=!0;try{16&t?function(e){for(var t=e.first;null!==t;){var n=t.next;t.f&T||Ue(t),t=n}}(e):Qe(e),Le(e);var i=Tt(e);e.teardown="function"==typeof i?i:null,e.wv=$t;e.deps;h}catch(l){qt(l,e,n,r||e.ctx)}finally{ot=a,bt=n}}}function zt(){try{!function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(e){if(null===ut)throw e;qt(e,ut,null)}}function Ft(){var e=ot;try{var t=0;for(ot=!0;vt.length>0;){t++>1e3&&zt();var n=vt,r=n.length;vt=[];for(var a=0;a<r;a++){Nt(Gt(n[a]))}Wt.clear()}}finally{ct=!1,ot=e,ut=null}}function Nt(e){var t=e.length;if(0!==t)for(var n=0;n<t;n++){var r=e[n];if(!(24576&r.f))try{Ct(r)&&(Mt(r),null===r.deps&&null===r.first&&null===r.nodes_start&&(null===r.teardown?Je(r):r.fn=null))}catch(a){qt(a,r,null,r.ctx)}}}function Ot(e){ct||(ct=!0,queueMicrotask(Ft));for(var t=ut=e;null!==t.parent;){var n=(t=t.parent).f;if(96&n){if(!(n&F))return;t.f^=F}}vt.push(t)}function Gt(e){for(var t=[],n=e;null!==n;){var r=n.f,a=!!(96&r);if(!(a&&!!(r&F)||r&G)){if(4&r)t.push(n);else if(a)n.f^=F;else try{Ct(n)&&Mt(n)}catch(s){qt(s,n,null,n.ctx)}var i=n.first;if(null!==i){n=i;continue}}var l=n.parent;for(n=n.next;null===n&&null!==l;)n=l.next,l=l.parent}return t}function jt(e){for(lt();vt.length>0;)ct=!0,Ft(),lt()}async function Rt(){await Promise.resolve(),jt()}function Et(e){var t=!!(2&e.f);if(null===pt||ft){if(t&&null===e.deps&&null===e.effects){var n=e,r=n.parent;null===r||r.f&M||(n.f^=M)}}else if(!(null==_t?void 0:_t.includes(e))){var a=pt.deps;e.rv<St&&(e.rv=St,null===kt&&null!==a&&a[Pt]===e?Pt++:null===kt?kt=[e]:It&&kt.includes(e)||kt.push(e))}return t&&Ct(n=e)&&De(n),dt&&Wt.has(e)?Wt.get(e):e.v}function Lt(e){var t=ft;try{return ft=!0,e()}finally{ft=t}}const Qt=-7169;function Ut(e,t){e.f=e.f&Qt|t}function Ht(e){if("object"==typeof e&&e&&!(e instanceof EventTarget))if(Q in e)Jt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];"object"==typeof n&&n&&Q in n&&Jt(n)}}function Jt(e,t=new Set){if(!("object"!=typeof e||null===e||e instanceof EventTarget||t.has(e))){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{Jt(e[a],t)}catch(n){}const r=B(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const t=$(r);for(let r in t){const a=t[r].get;if(a)try{a.call(e)}catch(n){}}}}}const Wt=new Map;function Kt(e,t){return{f:0,v:e,reactions:null,equals:Pe,rv:0,wv:0}}function Zt(e,t){const n=Kt(e);return yt(n),n}function Xt(e,t=!1){var n,r;const a=Kt(e);return t||(a.equals=Se),le&&null!==nn&&null!==nn.l&&(null!=(r=(n=nn.l).s)?r:n.s=[]).push(a),a}function Yt(e,t,n=!1){return null!==pt&&!ft&&sn()&&18&pt.f&&!(null==_t?void 0:_t.includes(e))&&function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),en(e,n?se(t):t)}function en(e,t){if(!e.equals(t)){var n=e.v;dt?Wt.set(e,t):Wt.set(e,n),e.v=t,2&e.f&&(e.f&N&&qe(e),Ut(e,e.f&M?O:F)),e.wv=Bt(),tn(e,N),sn()&&null!==bt&&bt.f&F&&!(96&bt.f)&&(null===wt?function(e){wt=e}([e]):wt.push(e))}return t}function tn(e,t){var n=e.reactions;if(null!==n)for(var r=sn(),a=n.length,i=0;i<a;i++){var l=n[i],s=l.f;s&N||(r||l!==bt)&&(Ut(l,t),1280&s&&(2&s?tn(l,O):Ot(l)))}}let nn=null;function rn(e){nn=e}function an(e,t=!1,n){var r=nn={p:nn,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};le&&!t&&(nn.l={s:null,u:null,r1:[],r2:Kt(!1)}),Ae((()=>{r.d=!0}))}function ln(e){const t=nn;if(null!==t){void 0!==e&&(t.x=e);const l=t.e;if(null!==l){var n=bt,r=pt;t.e=null;try{for(var a=0;a<l.length;a++){var i=l[a];mt(i.effect),ht(i.reaction),Fe(i.fn)}}finally{mt(n),ht(r)}}nn=t.p,t.m=!0}return e||{}}function sn(){return!le||null!==nn&&null===nn.l}function cn(e){var t;return null===nn&&b(),null!=(t=nn.c)?t:nn.c=new Map(function(e){let t=e.p;for(;null!==t;){const e=t.c;if(null!==e)return e;t=t.p}return null}(nn)||void 0)}function un(e){return e.endsWith("capture")&&"gotpointercapture"!==e&&"lostpointercapture"!==e}const on=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function dn(e){return on.includes(e)}const gn={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function vn(e){var t;return e=e.toLowerCase(),null!=(t=gn[e])?t:e}const pn=["touchstart","touchmove"];const fn=["textarea","script","style","title"];function hn(e,t){if(t){const t=document.body;e.autofocus=!0,it((()=>{document.activeElement===t&&e.focus()}))}}let bn=!1;const mn=new Set,_n=new Set;function yn(e,t,n,r={}){function a(e){if(r.capture||wn.call(t,e),!e.cancelBubble)return function(e){var t=pt,n=bt;ht(null),mt(null);try{return e()}finally{ht(t),mt(n)}}((()=>null==n?void 0:n.call(this,e)))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?it((()=>{t.addEventListener(e,a,r)})):t.addEventListener(e,a,r),a}function kn(e,t,n,r,a){var i={capture:r,passive:a},l=yn(e,t,n,i);t!==document.body&&t!==window&&t!==document||Ae((()=>{t.removeEventListener(e,l,i)}))}function Pn(e){for(var t=0;t<e.length;t++)mn.add(e[t]);for(var n of _n)n(e)}function wn(e){var t,n=this,r=n.ownerDocument,a=e.type,i=(null==(t=e.composedPath)?void 0:t.call(e))||[],l=i[0]||e.target,s=0,c=e.__root;if(c){var u=i.indexOf(c);if(-1!==u&&(n===document||n===window))return void(e.__root=n);var o=i.indexOf(n);if(-1===o)return;u<=o&&(s=u)}if((l=i[s]||e.target)!==n){P(e,"currentTarget",{configurable:!0,get:()=>l||r});var d=pt,g=bt;ht(null),mt(null);try{for(var v,p=[];null!==l;){var f=l.assignedSlot||l.parentNode||l.host||null;try{var h=l["__"+a];if(null!=h&&(!l.disabled||e.target===l))if(m(h)){var[b,..._]=h;b.apply(l,[e,..._])}else h.call(l,e)}catch(y){v?p.push(y):v=y}if(e.cancelBubble||f===n||null===f)break;l=f}if(v){for(let e of p)queueMicrotask((()=>{throw e}));throw v}}finally{e.__root=n,delete e.currentTarget,ht(d),mt(g)}}}function $n(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Sn(e,t){var n=bt;null===n.nodes_start&&(n.nodes_start=e,n.nodes_end=t)}function In(e,t){var n,r=!!(1&t),a=!!(2&t),i=!e.startsWith("<!>");return()=>{if(K)return Sn(W,null),W;void 0===n&&(n=$n(i?e:"<!>"+e),r||(n=he(n)));var t=a||de?document.importNode(n,!0):n.cloneNode(!0);r?Sn(he(t),t.lastChild):Sn(t,t);return t}}function Bn(e,t,n="svg"){var r,a=`<${n}>${!e.startsWith("<!>")?e:"<!>"+e}</${n}>`;return()=>{if(K)return Sn(W,null),W;if(!r){var e=$n(a);r=he(he(e))}var t=r.cloneNode(!0);return Sn(t,t),t}}function Cn(e=""){if(!K){var t=fe(e+"");return Sn(t,t),t}var n=W;return 3!==n.nodeType&&(n.before(n=fe()),X(n)),Sn(n,n),n}function xn(){if(K)return Sn(W,null),W;var e=document.createDocumentFragment(),t=document.createComment(""),n=fe();return e.append(t,n),Sn(t,n),e}function qn(e,t){if(K)return bt.nodes_end=W,void Y();null!==e&&e.before(t)}function Dn(e,t){var n,r=null==t?"":"object"==typeof t?t+"":t;r!==(null!=(n=e.__t)?n:e.__t=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Tn(e,t){return Mn(e,t)}function Vn(e,t){var n;pe(),t.intro=null!=(n=t.intro)&&n;const r=t.target,a=K,i=W;try{for(var l=he(r);l&&(8!==l.nodeType||"["!==l.data);)l=be(l);if(!l)throw p;Z(!0),X(l),Y();const n=Mn(e,{...t,anchor:l});if(null===W||8!==W.nodeType||"]"!==W.data)throw J(),p;return Z(!1),n}catch(s){if(s===p)return!1===t.recover&&function(){throw new Error("https://svelte.dev/e/hydration_failed")}(),pe(),ke(r),Z(!1),Tn(e,t);throw s}finally{Z(a),X(i)}}const An=new Map;function Mn(e,{target:t,anchor:n,props:r={},events:a,context:i,intro:l=!0}){pe();var s=new Set,c=e=>{for(var n=0;n<e.length;n++){var r=e[n];if(!s.has(r)){s.add(r);var a=(l=r,pn.includes(l));t.addEventListener(r,wn,{passive:a});var i=An.get(r);void 0===i?(document.addEventListener(r,wn,{passive:a}),An.set(r,1)):An.set(r,i+1)}}var l};c(y(mn)),_n.add(c);var u=void 0,o=function(e){const t=Ve(V,e,!0);return(e={})=>new Promise((n=>{e.outro?We(t,(()=>{Ue(t),n(void 0)})):(Ue(t),n(void 0))}))}((()=>{var l=null!=n?n:t.appendChild(fe());return Ee((()=>{i&&(an({}),nn.c=i);a&&(r.$$events=a),K&&Sn(l,null),u=e(l,r)||{},K&&(bt.nodes_end=W),i&&ln()})),()=>{var e;for(var r of s){t.removeEventListener(r,wn);var a=An.get(r);0==--a?(document.removeEventListener(r,wn),An.delete(r)):An.set(r,a)}_n.delete(c),l!==n&&(null==(e=l.parentNode)||e.removeChild(l))}}));return zn.set(u,o),u}let zn=new WeakMap;function Fn(e,t,[n,r]=[0,0]){K&&0===n&&Y();var a=e,i=null,l=null,s=f,c=!1;const u=(e,t=!0)=>{c=!0,o(t,e)},o=(e,t)=>{if(s===(s=e))return;let c=!1;if(K&&-1!==r){if(0===n){const e=a.data;"["===e?r=0:e===v?r=1/0:(r=parseInt(e.substring(1)))!=r&&(r=s?1/0:-1)}!!s===r>n&&(X(a=ne()),Z(!1),c=!0,r=-1)}s?(i?Xe(i):t&&(i=Ee((()=>t(a)))),l&&We(l,(()=>{l=null}))):(l?Xe(l):t&&(l=Ee((()=>t(a,[n+1,r])))),i&&We(i,(()=>{i=null}))),c&&Z(!0)};Re((()=>{c=!1,t(u),c||o(null,null)}),n>0?R:0),K&&(a=W)}function Nn(e,t,n){K&&Y();var r,a=e,i=f,l=sn()?$e:we;Re((()=>{l(i,i=t())&&(r&&We(r),r=Ee((()=>n(a))))})),K&&(a=W)}function On(e,t){return t}function Gn(e,t,n,r,a,i=null){var l=e,s={flags:t,items:new Map,first:null};if(!!(4&t)){var c=e;l=K?X(he(c)):c.appendChild(fe())}K&&Y();var u=null,o=!1,d=Ce((()=>{var e=n();return m(e)?e:null==e?[]:y(e)}));Re((()=>{var e=Et(d),c=e.length;if(o&&0===c)return;o=0===c;let g=!1;K&&(l.data===v!==(0===c)&&(X(l=ne()),Z(!1),g=!0));if(K){for(var p,f=null,h=0;h<c;h++){if(8===W.nodeType&&"]"===W.data){l=W,g=!0,Z(!1);break}var b=e[h],m=r(b,h);p=Rn(W,s,f,null,b,m,h,a,t,n),s.items.set(m,p),f=p}c>0&&X(ne())}K||function(e,t,n,r,a,i,l){var s,c,u,o,d,g,v,p,f,h,b=!!(8&a),m=!!(3&a),_=e.length,k=t.items,P=t.first,w=P,$=null,S=[],I=[];if(b)for(h=0;h<_;h+=1)p=i(v=e[h],h),void 0!==(f=k.get(p))&&(null==(s=f.a)||s.measure(),(null!=g?g:g=new Set).add(f));for(h=0;h<_;h+=1)if(p=i(v=e[h],h),void 0!==(f=k.get(p))){if(m&&jn(f,v,h,a),f.e.f&G&&(Xe(f.e),b&&(null==(c=f.a)||c.unfix(),(null!=g?g:g=new Set).delete(f))),f!==w){if(void 0!==d&&d.has(f)){if(S.length<I.length){var B,C=I[0];$=C.prev;var x=S[0],q=S[S.length-1];for(B=0;B<S.length;B+=1)En(S[B],C,n);for(B=0;B<I.length;B+=1)d.delete(I[B]);Ln(t,x.prev,q.next),Ln(t,$,x),Ln(t,q,C),w=C,$=q,h-=1,S=[],I=[]}else d.delete(f),En(f,w,n),Ln(t,f.prev,f.next),Ln(t,f,null===$?t.first:$.next),Ln(t,$,f),$=f;continue}for(S=[],I=[];null!==w&&w.k!==p;)w.e.f&G||(null!=d?d:d=new Set).add(w),I.push(w),w=w.next;if(null===w)continue;f=w}S.push(f),$=f,w=f.next}else{$=Rn(w?w.e.nodes_start:n,t,$,null===$?t.first:$.next,v,p,h,r,a,l),k.set(p,$),S=[],I=[],w=$.next}if(null!==w||void 0!==d){for(var D=void 0===d?[]:y(d);null!==w;)w.e.f&G||D.push(w),w=w.next;var T=D.length;if(T>0){var V=4&a&&0===_?n:null;if(b){for(h=0;h<T;h+=1)null==(u=D[h].a)||u.measure();for(h=0;h<T;h+=1)null==(o=D[h].a)||o.fix()}!function(e,t,n,r){for(var a=[],i=t.length,l=0;l<i;l++)Ze(t[l].e,a,!0);var s=i>0&&0===a.length&&null!==n;if(s){var c=n.parentNode;ke(c),c.append(n),r.clear(),Ln(e,t[0].prev,t[i-1].next)}Ke(a,(()=>{for(var n=0;n<i;n++){var a=t[n];s||(r.delete(a.k),Ln(e,a.prev,a.next)),Ue(a.e,!s)}}))}(t,D,V,k)}}b&&it((()=>{var e;if(void 0!==g)for(f of g)null==(e=f.a)||e.apply()}));bt.first=t.first&&t.first.e,bt.last=$&&$.e}(e,s,l,a,t,r,n),null!==i&&(0===c?u?Xe(u):u=Ee((()=>i(l))):null!==u&&We(u,(()=>{u=null}))),g&&Z(!0),Et(d)})),K&&(l=W)}function jn(e,t,n,r){1&r&&en(e.v,t),2&r?en(e.i,n):e.i=n}function Rn(e,t,n,r,a,i,l,s,c,u){var o=!!(1&c)?!(16&c)?Xt(a):Kt(a):a,d=2&c?Kt(l):l,g={i:d,v:o,k:i,a:null,e:null,prev:n,next:r};try{return g.e=Ee((()=>s(e,o,d,u)),K),g.e.prev=n&&n.e,g.e.next=r&&r.e,null===n?t.first=g:(n.next=g,n.e.next=g.e),null!==r&&(r.prev=g,r.e.prev=g.e),g}finally{}}function En(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var l=be(i);a.before(i),i=l}}function Ln(e,t,n){null===t?e.first=n:(t.next=n,t.e.next=n&&n.e),null!==n&&(n.prev=t,n.e.prev=t&&t.e)}function Qn(e,t,n=!1,r=!1,a=!1){var i=e,l="";je((()=>{var e,a=bt;if(l!==(l=null!=(e=t())?e:"")){if(null!==a.nodes_start&&(He(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),""!==l){if(K){W.data;for(var s=Y(),c=s;null!==s&&(8!==s.nodeType||""!==s.data);)c=s,s=be(s);if(null===s)throw J(),p;return Sn(W,c),void(i=X(s))}var u=l+"";n?u=`<svg>${u}</svg>`:r&&(u=`<math>${u}</math>`);var o=$n(u);if((n||r)&&(o=he(o)),Sn(he(o),o.lastChild),n||r)for(;he(o);)i.before(he(o));else i.before(o)}}else K&&Y()}))}function Un(e,t,n,r,a){var i;K&&Y();var l=null==(i=t.$$slots)?void 0:i[n],s=!1;!0===l&&(l=t.children,s=!0),void 0===l||l(e,s?()=>r:r)}function Hn(e,t,...n){var r,a=e,i=x;Re((()=>{i!==(i=t())&&(r&&(Ue(r),r=null),r=Ee((()=>i(a,...n))))}),R),K&&(a=W)}function Jn(e,t,n,r,a,i){let l=K;var s,c;K&&Y();var u=null;K&&1===W.nodeType&&(u=W,Y());var o,d=K?W:e;Re((()=>{const e=t()||null;var n="svg"===e?"http://www.w3.org/2000/svg":null;e!==s&&(o&&(null===e?We(o,(()=>{o=null,c=null})):e===c?Xe(o):Ue(o)),e&&e!==c&&(o=Ee((()=>{if(Sn(u=K?u:n?document.createElementNS(n,e):document.createElement(e),u),r){K&&(a=e,fn.includes(a))&&u.append(document.createComment(""));var t=K?he(u):u.appendChild(fe());K&&(null===t?Z(!1):X(t)),r(u,t)}var a;bt.nodes_end=u,d.before(u)}))),(s=e)&&(c=s))}),R),l&&(Z(!0),X(d))}function Wn(e,t,n){Fe((()=>{var r=Lt((()=>t(e,null==n?void 0:n())||{}));if(n&&(null==r?void 0:r.update)){var a=!1,i={};Ge((()=>{var e=n();Ht(e),a&&we(i,e)&&(i=e,r.update(e))})),a=!0}if(null==r?void 0:r.destroy)return()=>r.destroy()}))}function Kn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Kn(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Zn(e){return"object"==typeof e?function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Kn(e))&&(r&&(r+=" "),r+=t);return r}(e):null!=e?e:""}const Xn=[..." \t\n\r\fÂ \v\ufeff"];function Yn(e,t=!1){var n=t?" !important;":";",r="";for(var a in e){var i=e[a];null!=i&&""!==i&&(r+=" "+a+": "+i+n)}return r}function er(e){return"-"!==e[0]||"-"!==e[1]?e.toLowerCase():e}function tr(e,t,n,r,a,i){var l=e.__className;if(K||l!==n||void 0===l){var s=function(e,t,n){var r=null==e?"":""+e;if(t&&(r=r?r+" "+t:t),n)for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var i=a.length,l=0;(l=r.indexOf(a,l))>=0;){var s=l+i;0!==l&&!Xn.includes(r[l-1])||s!==r.length&&!Xn.includes(r[s])?l=s:r=(0===l?"":r.substring(0,l))+r.substring(s+1)}return""===r?null:r}(n,r,i);K&&s===e.getAttribute("class")||(null==s?e.removeAttribute("class"):t?e.className=s:e.setAttribute("class",s)),e.__className=n}else if(i&&a!==i)for(var c in i){var u=!!i[c];null!=a&&u===!!a[c]||e.classList.toggle(c,u)}return i}function nr(e,t={},n,r){for(var a in n){var i=n[a];t[a]!==i&&(null==n[a]?e.style.removeProperty(a):e.style.setProperty(a,i,r))}}function rr(e,t,n,r){var a=e.__style;if(K||a!==t){var i=function(e,t){if(t){var n,r,a="";if(Array.isArray(t)?(n=t[0],r=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,l=0,s=!1,c=[];n&&c.push(...Object.keys(n).map(er)),r&&c.push(...Object.keys(r).map(er));var u=0,o=-1;const t=e.length;for(var d=0;d<t;d++){var g=e[d];if(s?"/"===g&&"*"===e[d-1]&&(s=!1):i?i===g&&(i=!1):"/"===g&&"*"===e[d+1]?s=!0:'"'===g||"'"===g?i=g:"("===g?l++:")"===g&&l--,!s&&!1===i&&0===l)if(":"===g&&-1===o)o=d;else if(";"===g||d===t-1){if(-1!==o){var v=er(e.substring(u,o).trim());c.includes(v)||(";"!==g&&d++,a+=" "+e.substring(u,d).trim()+";")}u=d+1,o=-1}}}return n&&(a+=Yn(n)),r&&(a+=Yn(r,!0)),""===(a=a.trim())?null:a}return null==e?null:String(e)}(t,r);K&&i===e.getAttribute("style")||(null==i?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else r&&(Array.isArray(r)?(nr(e,null==n?void 0:n[0],r[0]),nr(e,null==n?void 0:n[1],r[1],"important")):nr(e,n,r));return r}const ar=Symbol("class"),ir=Symbol("style"),lr=Symbol("is custom element"),sr=Symbol("is html");function cr(e){if(K){var t,n=!1,r=()=>{if(!n){if(n=!0,e.hasAttribute("value")){var t=e.value;gr(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var r=e.checked;gr(e,"checked",null),e.checked=r}}};e.__on_r=r,t=r,0===nt.length&&et(at),nt.push(t),bn||(bn=!0,document.addEventListener("reset",(e=>{Promise.resolve().then((()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)null==(t=n.__on_r)||t.call(n)}))}),{capture:!0}))}}function ur(e,t){var n=vr(e);n.value!==(n.value=null!=t?t:void 0)&&(e.value!==t||0===t&&"PROGRESS"===e.nodeName)&&(e.value=null!=t?t:"")}function or(e,t){var n=vr(e);n.checked!==(n.checked=null!=t?t:void 0)&&(e.checked=t)}function dr(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function gr(e,t,n,r){var a=vr(e);K&&(a[t]=e.getAttribute(t),"src"===t||"srcset"===t||"href"===t&&"LINK"===e.nodeName)||a[t]!==(a[t]=n)&&("loading"===t&&(e[H]=n),null==n?e.removeAttribute(t):"string"!=typeof n&&fr(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function vr(e){var t;return null!=(t=e.__attributes)?t:e.__attributes={[lr]:e.nodeName.includes("-"),[sr]:"http://www.w3.org/1999/xhtml"===e.namespaceURI}}var pr=new Map;function fr(e){var t,n=pr.get(e.nodeName);if(n)return n;pr.set(e.nodeName,n=[]);for(var r=e,a=Element.prototype;a!==r;){for(var i in t=$(r))t[i].set&&n.push(i);r=B(r)}return n}function hr(e,t,n){var r=w(e,t);r&&r.set&&(e[t]=n,Ae((()=>{e[t]=null})))}function br(e,t,n){if(e.multiple)return function(e,t){for(var n of e.options)n.selected=~t.indexOf(_r(n))}(e,t);for(var r of e.options){var a=_r(r);if(i=a,l=t,Object.is(ue(i),ue(l)))return void(r.selected=!0)}var i,l;n&&void 0===t||(e.selectedIndex=-1)}function mr(e,t){let n=!0;Fe((()=>{t&&br(e,Lt(t),n),n=!1;var r=new MutationObserver((()=>{var t=e.__value;br(e,t)}));return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}}))}function _r(e){return"__value"in e?e.__value:e.value}function yr(e=!1){const t=nn,n=t.l.u;if(!n)return;let r=()=>Ht(t.s);if(e){let e=0,n={};const a=Ie((()=>{let r=!1;const a=t.s;for(const e in a)a[e]!==n[e]&&(n[e]=a[e],r=!0);return r&&e++,e}));r=()=>Et(a)}n.b.length&&ze((()=>{kr(t,r),D(n.b)})),Me((()=>{const e=Lt((()=>n.m.map(q)));return()=>{for(const t of e)"function"==typeof t&&t()}})),n.a.length&&Me((()=>{kr(t,r),D(n.a)}))}function kr(e,t){if(e.l.s)for(const n of e.l.s)Et(n);t()}function Pr(e){var t,n,r;null===nn&&b(),le&&null!==nn.l?(t=nn,r=t.l,null!=(n=r.u)?n:r.u={a:[],b:[],m:[]}).m.push(e):Me((()=>{const t=Lt(e);if("function"==typeof t)return t}))}function wr(){const e=nn;return null===e&&b(),(t,n,r)=>{var a;const i=null==(a=e.s.$$events)?void 0:a[t];if(i){const a=m(i)?i.slice():[i],l=function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}(t,n,r);for(const t of a)t.call(e.x,l);return!l.defaultPrevented}return!0}}function $r(e,t,n){if(null==e)return t(void 0),x;const r=Lt((()=>e.subscribe(t,n)));return r.unsubscribe?()=>r.unsubscribe():r}const Sr=[];function Ir(e,t=x){let n=null;const r=new Set;function a(t){if(we(e,t)&&(e=t,n)){const t=!Sr.length;for(const n of r)n[1](),Sr.push(n,e);if(t){for(let e=0;e<Sr.length;e+=2)Sr[e][0](Sr[e+1]);Sr.length=0}}}function i(t){a(t(e))}return{set:a,update:i,subscribe:function(l,s=x){const c=[l,s];return r.add(c),1===r.size&&(n=t(a,i)||x),l(e),()=>{r.delete(c),0===r.size&&n&&(n(),n=null)}}}}function Br(e){let t;return $r(e,(e=>t=e))(),t}let Cr=!1,xr=Symbol();function qr(e,t,n){var r;const a=null!=(r=n[t])?r:n[t]={store:null,source:Xt(void 0),unsubscribe:x};if(a.store!==e&&!(xr in n))if(a.unsubscribe(),a.store=null!=e?e:null,null==e)a.source.v=void 0,a.unsubscribe=x;else{var i=!0;a.unsubscribe=$r(e,(e=>{i?a.source.v=e:Yt(a.source,e)})),i=!1}return e&&xr in n?Br(e):Et(a.source)}function Dr(){const e={};return[e,function(){Ae((()=>{for(var t in e){e[t].unsubscribe()}P(e,xr,{enumerable:!1,value:!0})}))}]}const Tr={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set:(e,t)=>!1,getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t))return t in e.props?{enumerable:!0,configurable:!0,value:e.props[t]}:void 0},has:(e,t)=>!e.exclude.includes(t)&&t in e.props,ownKeys:e=>Reflect.ownKeys(e.props).filter((t=>!e.exclude.includes(t)))};function Vr(e,t,n){return new Proxy({props:e,exclude:t},Tr)}function Ar(e){var t,n;return null!=(n=null==(t=e.ctx)?void 0:t.d)&&n}function Mr(e,t,n,r){var a,i,l,s=!!(1&n),c=!le||!!(2&n),u=!!(8&n),o=!!(16&n),d=!1;u?[l,d]=function(e){var t=Cr;try{return Cr=!1,[e(),Cr]}finally{Cr=t}}((()=>e[t])):l=e[t];var g,v=Q in e||U in e,p=u&&(null!=(i=null==(a=w(e,t))?void 0:a.set)?i:v&&t in e&&(n=>e[t]=n))||void 0,f=r,h=!0,b=!1,m=()=>(b=!0,h&&(h=!1,f=o?Lt(r):r),f);if(void 0===l&&void 0!==r&&(p&&c&&function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),l=m(),p&&p(l)),c)g=()=>{var n=e[t];return void 0===n?m():(h=!0,b=!1,n)};else{var _=(s?Ie:Ce)((()=>e[t]));_.f|=131072,g=()=>{var e=Et(_);return void 0!==e&&(f=void 0),void 0===e?f:e}}if(!(4&n))return g;if(p){var y=e.$$legacy;return function(e,t){return arguments.length>0?(c&&t&&!y&&!d||p(t?g():e),e):g()}}var k=!1,P=Xt(l),$=Ie((()=>{var e=g(),t=Et(P);return k?(k=!1,t):P.v=e}));return u&&Et($),s||($.equals=Se),function(e,t){if(arguments.length>0){const n=t?Et($):c&&u?se(e):e;if(!$.equals(n)){if(k=!0,Yt(P,n),b&&void 0!==f&&(f=n),Ar($))return e;Lt((()=>Et($)))}return e}return Ar($)?$.v:Et($)}}class zr{constructor(e){var t,n;d(this,a),d(this,i);var r=new Map,l=(e,t)=>{var n=Xt(t);return r.set(e,n),n};const s=new Proxy({...e.props||{},$$events:{}},{get(e,t){var n;return Et(null!=(n=r.get(t))?n:l(t,Reflect.get(e,t)))},has(e,t){var n;return t===U||(Et(null!=(n=r.get(t))?n:l(t,Reflect.get(e,t))),Reflect.has(e,t))},set(e,t,n){var a;return Yt(null!=(a=r.get(t))?a:l(t,n),n),Reflect.set(e,t,n)}});g(this,i,(e.hydrate?Vn:Tn)(e.component,{target:e.target,anchor:e.anchor,props:s,context:e.context,intro:null!=(t=e.intro)&&t,recover:e.recover})),(null==(n=null==e?void 0:e.props)?void 0:n.$$host)&&!1!==e.sync||jt(),g(this,a,s.$$events);for(const a of Object.keys(o(this,i)))"$set"!==a&&"$destroy"!==a&&"$on"!==a&&P(this,a,{get(){return o(this,i)[a]},set(e){o(this,i)[a]=e},enumerable:!0});o(this,i).$set=e=>{Object.assign(s,e)},o(this,i).$destroy=()=>{!function(e,t){const n=zn.get(e);n?(zn.delete(e),n(t)):Promise.resolve()}(o(this,i))}}$set(e){o(this,i).$set(e)}$on(e,t){o(this,a)[e]=o(this,a)[e]||[];const n=(...e)=>t.call(this,...e);return o(this,a)[e].push(n),()=>{o(this,a)[e]=o(this,a)[e].filter((e=>e!==n))}}$destroy(){o(this,i).$destroy()}}let Fr;function Nr(e,t,n,r){var a;const i=null==(a=n[e])?void 0:a.type;if(t="Boolean"===i&&"boolean"!=typeof t?null!=t:t,!r||!n[e])return t;if("toAttribute"===r)switch(i){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return null==t?null:t;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}function Or(e,t,n,r,a,i){let l=class extends Fr{constructor(){super(e,n,a),this.$$p_d=t}static get observedAttributes(){return k(t).map((e=>(t[e].attribute||e).toLowerCase()))}};return k(t).forEach((e=>{P(l.prototype,e,{get(){return this.$$c&&e in this.$$c?this.$$c[e]:this.$$d[e]},set(n){var r;n=Nr(e,n,t),this.$$d[e]=n;var a=this.$$c;a&&((null==(r=w(a,e))?void 0:r.get)?a[e]=n:a.$set({[e]:n}))}})})),r.forEach((e=>{P(l.prototype,e,{get(){var t;return null==(t=this.$$c)?void 0:t[e]}})})),i&&(l=i(l)),e.element=l,l}function Gr(e){const t={bold:"bold",light:"300",medium:"500",regular:"normal"};for(const n in t)if(e.includes(n))return t[n];return"normal"}function jr(e){return e.includes("italic")?"italic":"normal"}function Rr(e){return`rgba(${e.red}, ${e.green}, ${e.blue}, ${e.alpha})`}function Er(e){return Object.entries(e).reduce(((e,[t,n])=>(n&&e.push(`--${t}:${n}`),e)),[]).join(";")}function Lr(e){var t;const{colors:n,fonts:r,cornerRadius:a,spacing:i,imageSize:l,imageCornerRadius:s,collectionBreaks:c,subscriptions:u}=e,o=n.border||n.primary;return Er({"block-title-color":Rr(n.title),"block-title-font-size":r.blockTitle.size+"px","block-title-font-weight":Gr(r.blockTitle.style),"block-title-font-style":jr(r.blockTitle.style),"block-spacing":null==i?void 0:i.toString(),"bar-border-radius":(a||0)+"px","bar-background-color":Rr(n.background),"bar-selected-background-color":Rr(n.selectedBackground||n.background),"bar-border-color":Rr({...o,alpha:.3*o.alpha}),"bar-selected-border-color":Rr(o),"block-block-title-color":Rr(n.blockTitle||n.title),"bar-title-color":Rr(n.title),"bar-title-font-size":r.title.size+"px","bar-title-font-weight":Gr(r.title.style),"bar-title-font-style":jr(r.title.style),"bar-subtitle-color":Rr(n.subtitle),"bar-subtitle-font-size":r.subtitle.size+"px","bar-subtitle-font-weight":Gr(r.subtitle.style),"bar-subtitle-font-style":jr(r.subtitle.style),"bar-price-color":Rr(n.price||n.title),"bar-full-price-color":Rr(n.fullPrice||n.subtitle),"bar-label-border-top-radius":(a?a-1:0)+"px","bar-label-background-color":Rr(n.labelBackground),"bar-label-color":Rr(n.label),"bar-label-font-size":r.label.size+"px","bar-label-font-weight":Gr(r.label.style),"bar-label-font-style":jr(r.label.style),"bar-most-popular-background-color":Rr(n.badgeBackground),"bar-most-popular-color":Rr(n.badgeText),"bar-variant-select-border-radius":(a||0)/2+"px","bar-image-size":(l||48)+"px","bar-image-border-radius":(s||0)+"px","kaching-free-gift-background-color":n.freeGiftBackground&&Rr(n.freeGiftBackground),"kaching-free-gift-text-color":n.freeGiftText&&Rr(n.freeGiftText),"kaching-free-gift-selected-background-color":n.freeGiftSelectedBackground&&Rr(n.freeGiftSelectedBackground),"kaching-free-gift-selected-text-color":n.freeGiftSelectedText&&Rr(n.freeGiftSelectedText),"kaching-free-gift-font-size":r.freeGift&&r.freeGift.size+"px","kaching-free-gift-font-weight":r.freeGift&&Gr(r.freeGift.style),"kaching-free-gift-font-style":r.freeGift&&jr(r.freeGift.style),"kaching-free-gift-image-border-radius":(a||0)/2+"px","kaching-upsell-background-color":n.upsellBackground&&Rr(n.upsellBackground),"kaching-upsell-text-color":n.upsellText&&Rr(n.upsellText),"kaching-upsell-selected-background-color":n.upsellSelectedBackground&&Rr(n.upsellSelectedBackground),"kaching-upsell-selected-text-color":n.upsellSelectedText&&Rr(n.upsellSelectedText),"kaching-upsell-font-size":r.upsell&&r.upsell.size+"px","kaching-upsell-font-weight":r.upsell&&Gr(r.upsell.style),"kaching-upsell-font-style":r.upsell&&jr(r.upsell.style),"kaching-upsell-image-border-radius":(a||0)/2+"px","kaching-bundle-products-image-border-radius":(a||0)/2+"px","kaching-collection-breaks-product-photo-size":(null!=(t=null==c?void 0:c.productPhotoSize)?t:40)+"px","kaching-collection-breaks-button-color":(null==c?void 0:c.buttonColor)&&Rr(c.buttonColor),"kaching-collection-breaks-product-title-color":Rr(n.title),"kaching-collection-breaks-image-border-radius":(a||0)/2+"px","kaching-subscriptions-title-color":u&&Rr(u.titleColor),"kaching-subscriptions-subtitle-color":u&&Rr(u.subtitleColor),"kaching-subscriptions-title-font-size":u&&u.titleSize+"px","kaching-subscriptions-subtitle-font-size":u&&u.subtitleSize+"px"})}a=new WeakMap,i=new WeakMap,"function"==typeof HTMLElement&&(Fr=class extends HTMLElement{constructor(e,t,n){super(),c(this,"$$ctor"),c(this,"$$s"),c(this,"$$c"),c(this,"$$cn",!1),c(this,"$$d",{}),c(this,"$$r",!1),c(this,"$$p_d",{}),c(this,"$$l",{}),c(this,"$$l_u",new Map),c(this,"$$me"),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const e=this.$$l_u.get(t);e&&(e(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(e){return t=>{const n=document.createElement("slot");"default"!==e&&(n.name=e),qn(t,n)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const n={},r=function(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}(this);for(const e of this.$$s)e in r&&("default"!==e||this.$$d.children?n[e]=t(e):(this.$$d.children=t(e),n.default=!0));for(const e of this.attributes){const t=this.$$g_p(e.name);t in this.$$d||(this.$$d[t]=Nr(t,e.value,this.$$p_d,"toProp"))}for(const e in this.$$p_d)e in this.$$d||void 0===this[e]||(this.$$d[e]=this[e],delete this[e]);this.$$c=(e={component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$host:this}},new zr(e)),this.$$me=function(e){const t=Ve(V,e,!0);return()=>{Ue(t)}}((()=>{Ge((()=>{var e;this.$$r=!0;for(const t of k(this.$$c)){if(!(null==(e=this.$$p_d[t])?void 0:e.reflect))continue;this.$$d[t]=this.$$c[t];const n=Nr(t,this.$$d[t],this.$$p_d,"toAttribute");null==n?this.removeAttribute(this.$$p_d[t].attribute||t):this.setAttribute(this.$$p_d[t].attribute||t,n)}this.$$r=!1}))}));for(const e in this.$$l)for(const t of this.$$l[e]){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}this.$$l={}}var e}attributeChangedCallback(e,t,n){var r;this.$$r||(e=this.$$g_p(e),this.$$d[e]=Nr(e,n,this.$$p_d,"toProp"),null==(r=this.$$c)||r.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)}))}$$g_p(e){return k(this.$$p_d).find((t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e))||e}}),le=!0;const Qr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ur=e=>{const t=e.replace(/[^a-zA-Z]+/g,"").toLowerCase();if(!(t in Qr))return;const n=Qr[t];return{red:n[0],green:n[1],blue:n[2],alpha:1}},Hr=(e,t)=>({red:Math.max(0,e.red-Math.round(e.red*t)),green:Math.max(0,e.green-Math.round(e.green*t)),blue:Math.max(0,e.blue-Math.round(e.blue*t)),alpha:e.alpha});var Jr=In("<div></div>");function Wr(e,t){an(t,!0);let n=Mr(t,"color",7),r=Mr(t,"image",7),a=Mr(t,"size",7),i=Mr(t,"shape",7),l=Mr(t,"unavailable",7,!1);const s=Be((()=>n()?function(e){e=e.replace(/^#/,"");let t=parseInt(e,16);return{red:t>>16&255,green:t>>8&255,blue:255&t,alpha:1}}(n()):null)),c=Be((()=>{let e={"kaching-swatch-size":`${a()-2}px`};const t={rounded:20,circle:50}[i()];return t&&(e={...e,"kaching-swatch-border-radius":`${t}%`}),r()?e={...e,"kaching-swatch-image-url":`url(${r()})`}:Et(s)&&(e={...e,"kaching-swatch-color":Rr(Et(s)),"kaching-swatch-border-color":Rr(Hr(Et(s),.1))}),Er(e)}));var u=Jr();let o;return je((e=>{o=tr(u,1,"kaching-bundles__swatch",null,o,e),rr(u,Et(c))}),[()=>({"kaching-bundles__swatch--unavailable":l()})]),qn(e,u),ln({get color(){return n()},set color(e){n(e),jt()},get image(){return r()},set image(e){r(e),jt()},get size(){return a()},set size(e){a(e),jt()},get shape(){return i()},set shape(e){i(e),jt()},get unavailable(){return l()},set unavailable(e=!1){l(e),jt()}})}function Kr(e,t){an(t,!0);let n=Mr(t,"element",7,"button"),r=Vr(t,["$$slots","$$events","$$legacy","$$host","element"]);function a(e){if("Enter"===e.key||" "===e.key){e.preventDefault();e.currentTarget.click()}}var i=xn();return Jn(_e(i),n,0,((e,n)=>{let i;je((()=>i=function(e,t,n,r){var a=vr(e),i=a[lr],l=!a[sr];let s=K&&i;s&&Z(!1);var c=t||{},u="OPTION"===e.tagName;for(var o in t)o in n||(n[o]=null);n.class?n.class=Zn(n.class):n[ar]&&(n.class=null),n[ir]&&(null!=n.style||(n.style=null));var d=fr(e);for(const b in n){let s=n[b];if(u&&"value"===b&&null==s)e.value=e.__value="",c[b]=s;else if("class"!==b)if("style"!==b){var g=c[b];if(s!==g){c[b]=s;var v=b[0]+b[1];if("$$"!==v)if("on"===v){const t={},n="$$"+b;let r=b.slice(2);var p=dn(r);if(un(r)&&(r=r.slice(0,-7),t.capture=!0),!p&&g){if(null!=s)continue;e.removeEventListener(r,c[n],t),c[n]=null}if(null!=s)if(p)e[`__${r}`]=s,Pn([r]);else{let a=function(e){c[b].call(this,e)};c[n]=yn(r,e,a,t)}else p&&(e[`__${r}`]=void 0)}else if("style"===b)gr(e,b,s);else if("autofocus"===b)hn(e,Boolean(s));else if(i||"__value"!==b&&("value"!==b||null==s))if("selected"===b&&u)dr(e,s);else{var f=b;l||(f=vn(f));var h="defaultValue"===f||"defaultChecked"===f;if(null!=s||i||h)h||d.includes(f)&&(i||"string"!=typeof s)?e[f]=s:"function"!=typeof s&&gr(e,f,s);else if(a[b]=null,"value"===f||"checked"===f){let n=e;const r=void 0===t;if("value"===f){let e=n.defaultValue;n.removeAttribute(f),n.defaultValue=e,n.value=n.__value=r?e:null}else{let e=n.defaultChecked;n.removeAttribute(f),n.defaultChecked=e,n.checked=!!r&&e}}else e.removeAttribute(b)}else e.value=e.__value=s}}else rr(e,s,null==t?void 0:t[ir],n[ir]),c[b]=s,c[ir]=n[ir];else tr(e,"http://www.w3.org/1999/xhtml"===e.namespaceURI,s,r,null==t?void 0:t[ar],n[ar]),c[b]=s,c[ar]=n[ar]}return s&&Z(!0),c}(e,i,{role:"button",tabindex:0,...r,onkeydown:a})));var l=xn();Un(_e(l),t,"default",{}),qn(n,l)})),qn(e,i),ln({get element(){return n()},set element(e="button"){n(e),jt()}})}Or(Wr,{color:{},image:{},size:{},shape:{},unavailable:{}},[],[],!0),Or(Kr,{element:{}},["default"],[],!0);const Zr="translations",Xr=(e={})=>{const t=Ir(ea(e));var n,r;return n=Zr,r=t,cn().set(n,r),{translate:t,setTranslations:e=>{t.set(ea(e))}}},Yr=()=>{var e;return(e=Zr,cn().get(e))||ta},ea=e=>t=>e[t]||t,ta=Ir(ea({}));function na(e){return String.fromCharCode(64+e)}async function ra(e,t,n={},r=!0){r&&await Rt();const a=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0,composed:!0});e.dispatchEvent(a)}function aa(e){return Number(e.split("/").pop())}function ia(e){return t=>{e(t.detail)}}var la=In("<span> <!></span>"),sa=In("<span> </span>"),ca=In("<!> <!>",1),ua=In("<span> <!></span>"),oa=In("<span> </span>"),da=In("<!> <!>",1),ga=In('<div class="kaching-bundles__swatch-dropdown__options"></div>'),va=In('<div class="kaching-bundles__swatch-dropdown kaching-bundles-option"><!> <!></div>');function pa(e,t){an(t,!0);const[n,r]=Dr(),a=()=>qr(g,"$translate",n);let i=Mr(t,"option",7),l=Mr(t,"swatchSize",7),s=Mr(t,"swatchShape",7),c=Mr(t,"value",7),u=Mr(t,"onChange",7),o=Zt(!1),d=Be((()=>i().optionValues.find((e=>e.name===c()))));const g=Yr();function v(){Yt(o,!1)}function p(e,t){const n=n=>{e.contains(n.target)||t()};return document.addEventListener("click",n,!0),{destroy(){document.removeEventListener("click",n,!0)}}}var f=va(),h=me(f);Kr(h,{element:"span",class:"kaching-bundles__bar-variant-select",onclick:function(e){Yt(o,!Et(o)),e.preventDefault()},children:(e,t)=>{var n=ca(),r=_e(n);Wr(r,{get color(){return Et(d).swatch.color},get image(){return Et(d).swatch.image},get size(){return l()},get shape(){return s()},get unavailable(){return Et(d).unavailable}}),Nn(ye(r,2),(()=>Et(d).name),(e=>{var t=xn(),n=_e(t),r=e=>{var t=la(),n=me(t);Qn(ye(n),(()=>a()("system.unavailable_option_value"))),ee(t),je((()=>{var e;return Dn(n,`${null!=(e=Et(d).name)?e:""} - `)})),qn(e,t)},i=e=>{var t=sa(),n=me(t,!0);ee(t),je((()=>Dn(n,Et(d).name))),qn(e,t)};Fn(n,(e=>{Et(d).unavailable?e(r):e(i,!1)})),qn(e,t)})),qn(e,n)},$$slots:{default:!0}});var b=ye(h,2),m=e=>{var t=ga();Gn(t,21,(()=>i().optionValues),(e=>e.name),((e,t)=>{Kr(e,{element:"span",class:"kaching-bundles__swatch-dropdown__option kaching-bundles-option-value",get"data-value"(){return Et(t).name},onclick:()=>function(e){c(e),Yt(o,!1);try{const t=i().optionValues.find((t=>t.name===e));(null==t?void 0:t.unavailable)&&ra(document.body,"kaching-unavailable-option-value-selected",{swatch:"dropdown"})}catch(t){console.error(t)}u()(c())}(Et(t).name),children:(e,n)=>{var r=da(),i=_e(r);const c=Be((()=>1.333*l()));Wr(i,{get color(){return Et(t).swatch.color},get image(){return Et(t).swatch.image},get size(){return Et(c)},get shape(){return s()},get unavailable(){return Et(t).unavailable}});var u=ye(i,2),o=e=>{var n=ua(),r=me(n);Qn(ye(r),(()=>a()("system.unavailable_option_value"))),ee(n),je((()=>{var e;return Dn(r,`${null!=(e=Et(t).name)?e:""} - `)})),qn(e,n)},d=e=>{var n=oa(),r=me(n,!0);ee(n),je((()=>Dn(r,Et(t).name))),qn(e,n)};Fn(u,(e=>{Et(t).unavailable?e(o):e(d,!1)})),qn(e,r)},$$slots:{default:!0}})})),ee(t),qn(e,t)};Fn(b,(e=>{Et(o)&&e(m)})),ee(f),Wn(f,((e,t)=>null==p?void 0:p(e,t)),(()=>v)),je((()=>gr(f,"data-name",i().name))),qn(e,f);var _=ln({get option(){return i()},set option(e){i(e),jt()},get swatchSize(){return l()},set swatchSize(e){l(e),jt()},get swatchShape(){return s()},set swatchShape(e){s(e),jt()},get value(){return c()},set value(e){c(e),jt()},get onChange(){return u()},set onChange(e){u(e),jt()}});return r(),_}function fa(e,t,n){try{const n=t().optionValues.find((t=>t.name===e.target.value));(null==n?void 0:n.unavailable)&&ra(document.body,"kaching-unavailable-option-value-selected",{swatch:"default"})}catch(r){console.error(r)}n()(e.target.value)}Or(pa,{option:{},swatchSize:{},swatchShape:{},value:{},onChange:{}},[],[],!0);var ha=In(" <!>",1),ba=In('<option class="kaching-bundles-option-value"><!></option>'),ma=In('<select class="kaching-bundles__bar-variant-select kaching-bundles-option"></select>');function _a(e,t){an(t,!0);const[n,r]=Dr();let a=Mr(t,"option",7),i=Mr(t,"value",7),l=Mr(t,"onChange",7);const s=Yr();var c,u=ma();mr(u,i),u.__change=[fa,a,l],Gn(u,21,(()=>a().optionValues),(e=>e.name),((e,t)=>{var r=ba(),a={},i=me(r),l=e=>{var r=ha(),a=_e(r);Qn(ye(a),(()=>qr(s,"$translate",n)("system.unavailable_option_value"))),je((()=>{var e;return Dn(a,`${null!=(e=Et(t).name)?e:""} - `)})),qn(e,r)},c=e=>{var n=Cn();je((()=>Dn(n,Et(t).name))),qn(e,n)};Fn(i,(e=>{Et(t).unavailable?e(l):e(c,!1)})),ee(r),je((()=>{var e;a!==(a=Et(t).name)&&(r.value=null!=(e=r.__value=Et(t).name)?e:""),gr(r,"data-value",Et(t).name)})),qn(e,r)})),ee(u),je((()=>{var e;gr(u,"data-name",a().name),c!==(c=i())&&(u.value=null!=(e=u.__value=i())?e:"",br(u,i()))})),qn(e,u);var o=ln({get option(){return a()},set option(e){a(e),jt()},get value(){return i()},set value(e){i(e),jt()},get onChange(){return l()},set onChange(e){l(e),jt()}});return r(),o}Pn(["change"]),Or(_a,{option:{},value:{},onChange:{}},[],[],!0);var ya=In('<div class="kaching-bundles__swatch-buttons kaching-bundles-option"></div>');function ka(e,t){an(t,!0);let n=Mr(t,"option",7),r=Mr(t,"swatchSize",7),a=Mr(t,"swatchShape",7),i=Mr(t,"value",7),l=Mr(t,"onChange",7);var s=ya();return Gn(s,21,(()=>n().optionValues),(e=>e.name),((e,t)=>{const s=Be((()=>Et(t).name===i()?"kaching-bundles__swatch-buttons__button--selected":""));Kr(e,{element:"span",get class(){var e;return`kaching-bundles__swatch-buttons__button kaching-bundles-option-value ${null!=(e=Et(s))?e:""}`},get title(){return Et(t).name},get"data-value"(){return Et(t).name},onclick:()=>function(e){i(e);try{const t=n().optionValues.find((t=>t.name===e));(null==t?void 0:t.unavailable)&&ra(document.body,"kaching-unavailable-option-value-selected",{swatch:"buttons"})}catch(t){console.error(t)}l()(i())}(Et(t).name),children:(e,n)=>{Wr(e,{get color(){return Et(t).swatch.color},get image(){return Et(t).swatch.image},get size(){return r()},get shape(){return a()},get unavailable(){return Et(t).unavailable}})},$$slots:{default:!0}})})),ee(s),je((()=>gr(s,"data-name",n().name))),qn(e,s),ln({get option(){return n()},set option(e){n(e),jt()},get swatchSize(){return r()},set swatchSize(e){r(e),jt()},get swatchShape(){return a()},set swatchShape(e){a(e),jt()},get value(){return i()},set value(e){i(e),jt()},get onChange(){return l()},set onChange(e){l(e),jt()}})}function Pa(e,t){an(t,!0);let n=Mr(t,"value",7),r=Mr(t,"option",7),a=Mr(t,"swatchSize",7,18),i=Mr(t,"swatchShape",7,"circle"),l=Mr(t,"swatchType",7),s=Mr(t,"onChange",7);function c(e){s()({position:r().position,value:e})}var u=xn(),o=_e(u),d=e=>{pa(e,{get option(){return r()},get swatchSize(){return a()},get swatchShape(){return i()},get value(){return n()},onChange:c})},g=(e,t)=>{var s=e=>{ka(e,{get option(){return r()},get swatchSize(){return a()},get swatchShape(){return i()},get value(){return n()},onChange:c})},u=e=>{_a(e,{get option(){return r()},get value(){return n()},onChange:c})};Fn(e,(e=>{"colorButtons"===l()||"imageButtons"===l()||"productImageButtons"===l()?e(s):e(u,!1)}),t)};return Fn(o,(e=>{"colorDropdown"===l()||"imageDropdown"===l()||"productImageDropdown"===l()||"mixedDropdown"===l()?e(d):e(g,!1)})),qn(e,u),ln({get value(){return n()},set value(e){n(e),jt()},get option(){return r()},set option(e){r(e),jt()},get swatchSize(){return a()},set swatchSize(e=18){a(e),jt()},get swatchShape(){return i()},set swatchShape(e="circle"){i(e),jt()},get swatchType(){return l()},set swatchType(e){l(e),jt()},get onChange(){return s()},set onChange(e){s(e),jt()}})}Or(ka,{option:{},swatchSize:{},swatchShape:{},value:{},onChange:{}},[],[],!0),Or(Pa,{value:{},option:{},swatchSize:{},swatchShape:{},swatchType:{},onChange:{}},[],[],!0);var wa=In('<div class="kaching-bundles__bar-variant-number"><span>#</span> <span> </span></div>'),$a=In('<div class="kaching-bundles__invalid-variant-error"><!></div>'),Sa=In('<div><div class="kaching-bundles__bar-variant__content"><!> <div class="kaching-bundles__bar-variant-selects"></div></div> <!></div>');function Ia(e,t){an(t,!0);const[n,r]=Dr();let a=Mr(t,"config",7),i=Mr(t,"product",7),l=Mr(t,"selectedVariantId",7),s=Mr(t,"swatchSettings",7),c=Mr(t,"mediaImages",7),u=Mr(t,"number",7,void 0),o=Mr(t,"onChange",7),d=Mr(t,"onOptionChange",7);const g=Yr();let v=Be((()=>i().variants.find((e=>e.id===l())))),p=Be((()=>Et(v))),f=Be((()=>Et(v)?Et(v).options:[])),h=Be((()=>{return e=i(),t=s().swatchOptions,n=c(),e.options.map((r=>({defaultName:r.defaultName,name:r.name,position:r.position,swatchType:m(r,t),optionValues:r.optionValues.map((a=>({defaultName:a.defaultName,name:a.name,swatch:_(r,a,t,n),unavailable:k(r,a,e)})))})));var e,t,n}));function b({position:e,value:t}){const n=Et(f)[e-1],r=[...Et(f)];r[e-1]=t,Yt(f,r,!0);const a=i().variants.find((e=>Et(f).every(((t,n)=>e.options[n]==t))));Yt(p,a,!0),Et(p)&&(o()(Et(p).id),d()&&d()(e,t,n))}function m(e,t){var n;const r=null==(n=t.find((t=>t.name===e.defaultName)))?void 0:n.swatchType;if(r&&"default"!==r)return r;if(!a().featureFlags||!a().featureFlags.native_swatches_disabled)for(const a of e.optionValues)if(a.swatch.image||a.swatch.color)return"mixedDropdown";return"default"}function _(e,t,n,r){var l,s,c;const u=a().featureFlags&&a().featureFlags.native_swatches_disabled?null:t.swatch,o=n.find((t=>t.name===e.defaultName));if(!o||"default"===o.swatchType)return u||{color:null,image:null};if("colorButtons"===o.swatchType||"colorDropdown"===o.swatchType){return{color:y(null==(l=o.colors.find((e=>e.name===t.defaultName)))?void 0:l.color)||(null==u?void 0:u.color)||y(Ur(t.defaultName))||null,image:null}}if("imageButtons"===o.swatchType||"imageDropdown"===o.swatchType){const e=null==(s=o.images.find((e=>e.name===t.defaultName)))?void 0:s.mediaImageGID,n=null==(c=r.find((t=>t.gid===e)))?void 0:c.url;return{color:(null==u?void 0:u.color)||null,image:n||(null==u?void 0:u.image)||null}}if("productImageDropdown"===o.swatchType||"productImageButtons"===o.swatchType){const n=i().variants.find((n=>n.image&&n.options[e.position-1]===t.name));return{color:null,image:(null==n?void 0:n.image)||null}}return{color:null,image:null}}function y(e){if(!e)return;const{red:t,green:n,blue:r}=e;return`#${t.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}`}function k(e,t,n){return!n.variants.filter((n=>n.options[e.position-1]===t.name)).some((e=>e.availableForSale))}var P=Sa();let w;var $=me(P),S=me($),I=e=>{var t=wa(),n=ye(me(t),2),r=me(n,!0);ee(n),ee(t),je((()=>Dn(r,u()))),qn(e,t)};Fn(S,(e=>{u()&&e(I)}));var B=ye(S,2);Gn(B,21,(()=>Et(h)),(e=>e.name),((e,t)=>{Pa(e,{get option(){return Et(t)},get swatchSize(){return s().swatchSize},get swatchShape(){return s().swatchShape},get swatchType(){return Et(t).swatchType},get value(){return Et(f)[Et(t).position-1]},onChange:b})})),ee(B),ee($);var C=ye($,2),x=e=>{var t=$a();Qn(me(t),(()=>qr(g,"$translate",n)("system.invalid_variant"))),ee(t),qn(e,t)};Fn(C,(e=>{Et(p)&&Et(p).availableForSale||e(x)})),ee(P),je((e=>w=tr(P,1,"kaching-bundles__bar-variant",null,w,e)),[()=>({"kaching-bundles__bar-variant--invalid":!Et(p)||!Et(p).availableForSale})]),qn(e,P);var q=ln({get config(){return a()},set config(e){a(e),jt()},get product(){return i()},set product(e){i(e),jt()},get selectedVariantId(){return l()},set selectedVariantId(e){l(e),jt()},get swatchSettings(){return s()},set swatchSettings(e){s(e),jt()},get mediaImages(){return c()},set mediaImages(e){c(e),jt()},get number(){return u()},set number(e=void 0){u(e),jt()},get onChange(){return o()},set onChange(e){o(e),jt()},get onOptionChange(){return d()},set onOptionChange(e){d(e),jt()}});return r(),q}Or(Ia,{config:{},product:{},selectedVariantId:{},swatchSettings:{},mediaImages:{},number:{},onChange:{},onOptionChange:{}},[],[],!0);var Ba=Bn('<svg width="102" height="60" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="47.9" cy="23.5" rx="47.9" ry="23.5" transform="matrix(.9929 .11897 -.14278 .98975 6.7 2)" fill="currentColor"></ellipse><ellipse cx="47.9" cy="23.5" rx="47.9" ry="23.5" transform="matrix(.9929 .11897 -.14278 .98975 6.7 2)" fill="#000" fill-opacity=".3"></ellipse><mask id="a" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="3" y="5" width="96" height="48"><ellipse cx="47.9" cy="23.5" rx="47.9" ry="23.5" transform="matrix(.9929 .11897 -.14278 .98975 6.7 0)" fill="currentColor"></ellipse></mask><g mask="url(#a)"><ellipse cx="47.9" cy="23.5" rx="47.9" ry="23.5" transform="matrix(.9929 .11897 -.14278 .98975 6.7 0)" fill="currentColor"></ellipse></g><path class="most-popular-text" d="M28 15.4 25.4 24a.3.3 0 0 1 0 .1.2.2 0 0 1-.2.1c-.4.1-.7 0-.8-.4a1007.3 1007.3 0 0 1-3.9-9.2l-.8 7.6a.5.5 0 0 0 0 .2l.6.8a.7.7 0 0 1 0 .1.2.2 0 0 1 0 .1c0 .5-1.7.1-2 0-1 0 .1-1 .2-1.4l1.1-9c0-.4-.1-.7-.5-1a.4.4 0 0 1-.1-.2v-.2a.2.2 0 0 1 .1 0 15.2 15.2 0 0 1 3.1.2h.1c.1 0 0 0 0 .1.3.5-.5.7-.3 1.2a1361.6 1361.6 0 0 1 3.2 8.1l2.3-7.3a.7.7 0 0 0-.1-.6c-.3-.4-1-1 .1-1l2.7.4c.2 0 .3.2.2.4a.4.4 0 0 1-.1.2c-.3.3-.5.5-.4 1a771.7 771.7 0 0 0 2.5 10c.5.5.7 1-.3.8l-2.2-.3c-.5 0-.5-.4-.1-1a.7.7 0 0 0 .1-.6l-1.6-7.6c0-.2-.1-.2-.1 0zm24 4.7.1 4.5c0 1 .6 1.5 1.6 1.5.3 0 .5-.2.6-.5.1-.4.3-.5.5-.3h.1v.1c.1 1.1-.4 2-1.5 2-2.3.4-3.2-1.2-3.3-3.3l-.2-4.1c0-.4-.2-.5-.6-.5-.5 0-.8-.1-.7-.7a.2.2 0 0 1 .2-.1c1.3.2 2-.3 2-1.6a.2.2 0 0 1 .2-.1c1.1-.5.9 1.3.9 1.9a.1.1 0 0 0 .1.1l2.2.3.2.1c.1.3.1.5-.1.7a.2.2 0 0 1-.1 0 .4.4 0 0 1-.1 0l-2-.1a.1.1 0 0 0-.1 0zm-11.6 4.6c-.7.8-1.8 1.2-3 1.1-1.1 0-2.3-.5-3.3-1.4A5.7 5.7 0 0 1 33 23a5 5 0 0 1-.6-1.7 4 4 0 0 1 .1-1.7c.1-.5.4-1 .8-1.4.7-.7 1.7-1.2 2.9-1.1 1.2 0 2.4.6 3.3 1.4.5.4.9 1 1.2 1.5.3.5.5 1.1.5 1.7a4 4 0 0 1 0 1.6c-.2.6-.5 1-.8 1.4zm-2.4.4c.3 0 .5-.3.7-.5l.5-1v-1.4a6.4 6.4 0 0 0-.3-1.4 6.4 6.4 0 0 0-.6-1.4 4.7 4.7 0 0 0-.8-1 2.6 2.6 0 0 0-1-.6 1.5 1.5 0 0 0-.9 0c-.3 0-.5.3-.7.5l-.4 1a4.7 4.7 0 0 0 0 1.4 6.4 6.4 0 0 0 1.7 3.8c.3.3.6.5 1 .6.2 0 .5.1.8 0zm8-6c-1-.8-2.4-.4-2.3 1 0 .4.3.8.7 1l3 1.2c1.1.5 2.2 2.5 1.1 3.6-1.6 1.8-5.6.6-6.8-1.3-.2-.4-.1-.8.4-1 1.2-.5 1.5 1.5 2.3 2 1 .8 3 .6 2.4-1.1-.3-1-3.2-1.8-3.8-2.2-1.9-1.2-1.8-4 .8-4.3 1.6-.1 4.5.6 4.7 2.6a.3.3 0 0 1 0 .3c-1.1 1.3-1.9-1.3-2.5-1.8zM28.3 34.9c0 1.4 0 2 .8 3 .2.2.2.4 0 .6a.3.3 0 0 1-.2 0l-3.8-.3a.4.4 0 0 1-.3 0c-.3-.4-.3-.7 0-1a1 1 0 0 0 .4-.8L25 28c0-.4-.3-.9-.8-1.4a.3.3 0 0 1 0-.1.2.2 0 0 1 0-.1c0-.3.2-.4.6-.3 3.4.2 9.4.1 9.7 4.8.3 3.8-3 4.1-6 3.9zm-.2-6.7c0 1.4 0 3 .2 4.6 0 .3.2.5.5.6 3.4 1 2.5-3.2 1.6-4.6-.3-.5-.8-.9-1.5-1.1-.5-.2-.8 0-.8.5zM59.5 41c-1.7 1.3-4.3.4-5.2-1.4-1-1.8 0-4.1-1.3-5.8a.4.4 0 0 1 0-.2c0-.6.4-.5.8-.5a19.9 19.9 0 0 1 2.5 0 .4.4 0 0 1 .4.3l.2 5.3c0 .8.3 1.8 1.1 1.8 1.7.2 1-4.2 1-5.3a.5.5 0 0 0-.2-.2l-.5-.8c-.3-.3-.2-.5.3-.6h2.9c.3 0 .4 0 .4.4l.3 6c0 1.6 1.4 1.6 1.3-.2l-.3-7c0-.8-.3-1.2-.8-1.8a.3.3 0 0 1 0-.2.3.3 0 0 1 0-.2.3.3 0 0 1 .2 0l2.8-1.2c.5-.2.8 0 .8.6l.5 10.4c0 .5.2.8.6 1.2.3.4.4 1-.4.8-.9 0-3.1 0-3.9-.4a.4.4 0 0 0-.2 0c-.9 0-2.7.1-3.1-1a.1.1 0 0 0-.2 0zm-16.4-3c-.5 1-1.5 1.6-2.7 1.8-1.2.2-2.5 0-3.6-.7a5.7 5.7 0 0 1-1.5-1.2 5 5 0 0 1-.9-1.6 4.2 4.2 0 0 1-.2-1.7 3.5 3.5 0 0 1 .5-1.6c.5-.9 1.5-1.5 2.7-1.7 1.2-.2 2.5 0 3.6.7a5.7 5.7 0 0 1 1.4 1.2c.5.5.8 1 1 1.6.2.5.2 1.1.2 1.7a3.5 3.5 0 0 1-.5 1.5zm-3.3 1c.2 0 .3-.1.4-.4l.3-.8v-1.3a8.8 8.8 0 0 0-.3-1.3 8.8 8.8 0 0 0-.5-1.3 5.9 5.9 0 0 0-.6-1.1l-.6-.6c-.2-.2-.4-.2-.6-.2-.2 0-.3.2-.4.4l-.3 1v1.1a8.8 8.8 0 0 0 1.4 3.8l.6.6c.2.1.4.2.6.1z" fill="#FEFDFD"></path><path class="most-popular-text" d="M46.9 32.7a3 3 0 0 1 2.8-.3c2.5.8 3.6 2.5 3.5 5-.2 2.9-3.2 4.2-5.5 2.9-.2-.1-.2 0-.2 0 .1 1-.2 2.2.7 3 .3.2.4.5.1.7a.3.3 0 0 1-.2.1 401 401 0 0 0-3.5-.3c-.4 0-.6-.3-.7-.6a.3.3 0 0 1 0-.1.5.5 0 0 1 .1-.1l.5-.7a.4.4 0 0 0 0-.2l-.2-7.3c0-.6-1.1-.9-.9-1.6a.3.3 0 0 1 .2-.2l2.6-1a.2.2 0 0 1 .2 0c.2.1.4.4.4.7zM49 40c2.2 0 .5-5.5-.1-6.4-.7-.8-1.5-.7-1.7.4v3.4c.2.9.6 2.6 1.8 2.6zm24.5 2.7c-2.7 1.4-5.7-1-6.1-3.7-.7-3.5 2.8-5.8 5.8-3.8a.1.1 0 0 0 .1 0c.3-.7 2.3 0 2.9.2.4 0 .6.3.5.7a.3.3 0 0 1 0 .1.3.3 0 0 1-.1 0c-.4.4-.6.8-.6 1.2 0 2.3.2 3.7.2 4.2s1 1.2.7 1.7a.2.2 0 0 1-.1 0 .3.3 0 0 1-.2.1l-2.6-.3a.3.3 0 0 1-.2 0l-.2-.4a.1.1 0 0 0-.1 0zm-.4-5.2c-.2-1.8-2.7-3.4-2.8-.7-.1 1.5.3 4.6 1.9 5.5a.4.4 0 0 0 .2 0c1.4-.3.8-3.5.7-4.8zM80.5 36.5c.3-.3.5-.7 1-.9 3.8-1.6 3.6 4.9.9 2.9-.5-.4-.5-1.7-1.2-1.5a.3.3 0 0 0-.1 0 .3.3 0 0 0 0 .2c-.4.7-.4 4.6.1 5.2.2.3 1.5 1.2.2 1.2a52 52 0 0 1-3.5-.3c-.3 0-.5-.2-.5-.5a.4.4 0 0 1 0-.2c.4-.4.6-.7.6-1.2l-.2-3.5a.4.4 0 0 0 0-.2l-.9-1c-.2-.2 0-.4.3-.6l2.6-1c.3 0 .5 0 .5.4v1h.2z" fill="#FEFDFD"></path><path class="most-popular-text" fill-rule="evenodd" clip-rule="evenodd" d="m82.2 24.2-.7-6.2-.7 6.2-2.7-2.1 2 2.7-6.1.7 6.2.7L78 29l2.8-2.1.7 6.1.7-6.1L85 29l-2.2-2.8 6.2-.7-6.1-.7 2-2.7-2.7 2.1z" fill="#fff"></path><path class="most-popular-text" d="M45 4v1a2 2 0 0 0 2 2h1-1a2 2 0 0 0-2 2v1-1a2 2 0 0 0-2-2h-1 1a2 2 0 0 0 2-2V4zm12 41v1a2 2 0 0 0 2 2h1-1a2 2 0 0 0-2 2v1-1a2 2 0 0 0-2-2h-1 1a2 2 0 0 0 2-2v-1zM13 22v3a4 4 0 0 0 4 4h3-3a4 4 0 0 0-4 4v3-3a4 4 0 0 0-4-4H6h3a4 4 0 0 0 4-4v-3zM67 4v3a4 4 0 0 0 4 4h3-3a4 4 0 0 0-4 4v3-3a4 4 0 0 0-4-4h-3 3a4 4 0 0 0 4-4V4z" fill="#fff"></path></svg>');function Ca(e){qn(e,Ba())}Or(Ca,{},[],[],!0);var xa=In('<div class="kaching-bundles__bar-most-popular kaching-bundles__bar-most-popular--fancy"><!></div>'),qa=In('<div class="kaching-bundles__bar-most-popular__content"><!></div>'),Da=In('<div class="kaching-bundles__bar-most-popular kaching-bundles__bar-most-popular--simple"><!></div>');function Ta(e,t){an(t,!0);const n="MOST POPULAR",r=Mr(t,"style",7,"simple"),a=Mr(t,"text",7,n);var i=xn(),l=_e(i),s=e=>{var t=xa();Ca(me(t)),ee(t),qn(e,t)},c=e=>{var t=Da();Nn(me(t),a,(e=>{var t=qa();Qn(me(t),(()=>a()||n)),ee(t),qn(e,t)})),ee(t),qn(e,t)};return Fn(l,(e=>{"most-popular"===r()?e(s):e(c,!1)})),qn(e,i),ln({get style(){return r()},set style(e="simple"){r(e),jt()},get text(){return a()},set text(e=n){a(e),jt()}})}Or(Ta,{style:{},text:{}},[],[],!0);const Va=({totalFullPrice:e,totalDiscountedPrice:t,dealBar:n,legacySavedPercentage:r})=>{if(r&&n&&("quantity-break"===n.dealBarType||!n.dealBarType)&&"percentage"===n.discountType)return`${Math.round(Number(n.discountValue))}%`;let a=(e-t)/e*100;return a=Math.round(100*a)/100,`${Math.round(a)}%`},Aa=({priceFormatter:e,totalFullPrice:t,totalDiscountedPrice:n})=>e(t-n),Ma=({product:e})=>null==e?void 0:e.title,za=({dealBar:e,quantity:t})=>{if("bxgy"!==(null==e?void 0:e.dealBarType))return;const n=e.buyQuantity+e.getQuantity;return(Math.floor(t/n)*e.getQuantity).toString()},Fa={saved_percentage:Va,saved_total:Aa,saved_amount:({priceFormatter:e,totalFullPrice:t,totalDiscountedPrice:n,quantity:r})=>e((t-n)/r),product:Ma,new_total:({priceFormatter:e,totalDiscountedPrice:t})=>e(t),new_price:({priceFormatter:e,totalDiscountedPrice:t,quantity:n})=>e(t/n),original_total:({priceFormatter:e,totalFullPrice:t})=>e(t),original_price:({priceFormatter:e,totalFullPrice:t,quantity:n})=>e(t/n),quantity:({quantity:e})=>e.toString(),buy_quantity:({dealBar:e,quantity:t})=>{const n=za({dealBar:e,quantity:t});if(void 0!==n)return(t-parseInt(n)).toString()},get_quantity:za,metafield:({product:e})=>(null==e?void 0:e.metafields.text)||void 0,metafield2:({product:e})=>(null==e?void 0:e.metafields.text2)||void 0,metafield3:({product:e})=>(null==e?void 0:e.metafields.text3)||void 0,metafield4:({product:e})=>(null==e?void 0:e.metafields.text4)||void 0,"product.title":Ma,"deal_bar.discount_percentage":Va,"deal_bar.discount_amount":Aa},Na=({priceFormatter:e,product:t,totalFullPrice:n,totalDiscountedPrice:r,quantity:a,dealBar:i,legacySavedPercentage:l=!1})=>s=>{if(!s)return s;const c=(({priceFormatter:e,product:t,totalFullPrice:n,totalDiscountedPrice:r,quantity:a,dealBar:i,legacySavedPercentage:l})=>s=>{if(t&&s.match(/^product\.metafields/))return((e,t)=>{if(!t.legacyMetafields)return;const n=e.match(/^product\.metafields\.([a-zA-Z0-9_.]+)\.([a-zA-Z0-9_.]+)/);if(!n)return;const[r,a,i]=n;return a&&i&&"kaching_bundles"===a&&("text"===i||"text2"===i)&&t.legacyMetafields[a]&&t.legacyMetafields[a][i]||void 0})(s,t);const c=Fa[s];return c?c({priceFormatter:e,product:t,totalFullPrice:n,totalDiscountedPrice:r,quantity:a,dealBar:i,legacySavedPercentage:l}):void 0})({priceFormatter:e,product:t,totalFullPrice:n,totalDiscountedPrice:r,quantity:a,dealBar:i,legacySavedPercentage:l});return s.replace(/{{\s*([a-zA-Z0-9_.]*)\s*}}/g,((e,t)=>c(t)||""))};function Oa({discountType:e,discountValue:t,discountQuantity:n,variantQuantities:r,currencyRate:a,priceRounding:i,sellingPlan:l}){const s=function({discountType:e,discountValue:t,discountQuantity:n,variantQuantities:r,currencyRate:a,sellingPlan:i}){const l=r.map((({variant:e,quantity:t})=>Ra(e,i)*t)),s=l.reduce(((e,t)=>e+t),0),c=r.map((({quantity:e})=>e)).reduce(((e,t)=>e+t),0);if("specific"===e){let e=100*Number(t)*a;if(c>Number(n)){const t=e/Number(n);e=Math.ceil(t*c)}const l=e/c;let u=0;for(const{variant:t,quantity:n}of r){if(i){if(t.sellingPlans.some((e=>e.id===i.id))&&i.priceAdjustment){u+=Ea(l,i)*n;continue}}u+=l*n}return Math.min(u,s)}if("percentage"===e){const e=s*(100-Number(t))/100;return Math.ceil(e)}if("amount"===e){return s-Math.round(100*Number(t))*a*c}return s}({discountType:e,discountValue:t,discountQuantity:n,variantQuantities:r,currencyRate:a,sellingPlan:l}),c=r.map((({quantity:e})=>e)).reduce(((e,t)=>e+t),0);if(i&&"default"!==e){let e;if(i.perItem){e=La(s/c,i.precision)*c}else e=La(s,i.precision);return e<r.map((({variant:e,quantity:t})=>e.price*t)).reduce(((e,t)=>e+t),0)?e:s}return s}function Ga(e,t,n,r,a){return Oa({discountType:e.discountType,discountValue:e.discountValue,discountQuantity:e.quantity,variantQuantities:t,currencyRate:n,priceRounding:r,sellingPlan:a})}function ja(e,t,n){const r=t.sort(((e,t)=>e.variant.price-t.variant.price));let a=0,i=r.reduce(((e,t)=>e+t.quantity),0)>=e.buyQuantity+e.getQuantity?e.getQuantity:0;for(const{variant:l,quantity:s}of r){const e=Math.min(s,i);a+=Ra(l,n)*(s-e),i-=e}return a}function Ra(e,t){var n;if(!t)return e.price;const r=e.sellingPlans.find((e=>e.id===t.id));return null!=(n=null==r?void 0:r.price)?n:e.price}function Ea(e,t){const n=t.priceAdjustment;if(!n)return e;switch(n.type){case"percentage":return e*(1-n.value/100);case"fixed_amount":return e-n.value;case"price":return n.value}}function La(e,t=".00"){switch(t){case".99":return e>99?100*Math.ceil(e/100)-1:e;case".95":return e>95?100*Math.ceil(e/100)-5:e;case".90":return e>90?100*Math.ceil(e/100)-10:e;case".x9":return e>9?10*Math.ceil(e/10)-1:e;case".x0":return 10*Math.ceil(e/10);default:return 100*Math.ceil(e/100)}}const Qa="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3e%3crect%20width='100'%20height='100'%20fill='%23dddddd'%20/%3e%3c/svg%3e",Ua=e=>t=>Ja(t,e),Ha=Ir(Ua("{{amount}}")),Ja=(e,t)=>{const n={amount:e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),amount_no_decimal:e=>e.toLocaleString("en-US",{maximumFractionDigits:0}),amount_no_decimals:e=>e.toLocaleString("en-US",{maximumFractionDigits:0}),amount_with_comma_separator:e=>e.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}),amount_no_decimals_with_comma_separator:e=>e.toLocaleString("de-DE",{maximumFractionDigits:0}),amount_with_apostrophe_separator:e=>e.toLocaleString("de-CH",{minimumFractionDigits:2,maximumFractionDigits:2}),amount_no_decimals_with_space_separator:e=>e.toLocaleString("fr-FR",{maximumFractionDigits:0}).replace(/\s/g," "),amount_with_space_separator:e=>e.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/\s/g," "),amount_with_period_and_space_separator:e=>e.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/\s/g," ").replace(",",".")},r=/{{\s*(\w+)\s*}}/,a=t.match(r),i=(n[a?a[1]:"amount"]||n.amount)(e/100);return t.replace(r,i)};var Wa=In('<a target="_blank"><!></a>');function Ka(e,t){an(t,!0);const n=Mr(t,"url",7),r=Mr(t,"className",7),a=Mr(t,"children",7);var i=xn(),l=_e(i),s=e=>{var t=Wa();Hn(me(t),a),ee(t),je((()=>{gr(t,"href",n()),tr(t,1,Zn(r()))})),qn(e,t)},c=e=>{var t=xn();Hn(_e(t),a),qn(e,t)};return Fn(l,(e=>{n()?e(s):e(c,!1)})),qn(e,i),ln({get url(){return n()},set url(e){n(e),jt()},get className(){return r()},set className(e){r(e),jt()},get children(){return a()},set children(e){a(e),jt()}})}Or(Ka,{url:{},className:{},children:{}},[],[],!0);var Za=In('<img alt="" class="kaching-bundles__free-gift__image">'),Xa=In('<span class="kaching-bundles__free-gift__text"><!></span>'),Ya=In('<div class="kaching-bundles__free-gift__full-price"><!></div>'),ei=In('<div class="kaching-bundles__free-gift"><div class="kaching-bundles__free-gift__main"><!> <div class="kaching-bundles__free-gift__content"><!> <!></div></div> <!></div>');function ti(e,t){an(t,!0);const[n,r]=Dr();let a=Mr(t,"config",7),i=Mr(t,"dealBlock",7),l=Mr(t,"freeGift",7),s=Mr(t,"mediaImages",23,(()=>[])),c=Mr(t,"otherProducts",7),u=Mr(t,"swatchSettings",7),o=Mr(t,"dealBarSelected",7,!1),d=Mr(t,"onChange",7);const g=Yr();let v=Zt(void 0);const p=Be((()=>l().productGID?c().find((e=>e.id===aa(l().productGID))):void 0)),f=Be((()=>function(e,t,n){if(void 0!==e)return e;if(t.variantGID)return aa(t.variantGID);if((null==n?void 0:n.availableForSale)&&n.variants.length>0)return n.variants[0].id;return}(Et(v),l(),Et(p)))),h=Be((()=>Et(p)&&Et(f)?Et(p).variants.find((e=>e.id===Et(f))):void 0)),b=Be((()=>{var e;return(null==(e=Et(p))?void 0:e.url)?`${Et(p).url}?variant=${Et(f)}`:void 0})),m=Be((()=>s()&&l().mediaImageGID&&function(e){if(!e)return;const t=s().find((t=>t.gid===e));return null==t?void 0:t.url}(l().mediaImageGID))),_=Be((()=>{var e,t;return Et(m)||(null==(e=Et(h))?void 0:e.image)||(null==(t=Et(p))?void 0:t.image)})),y=Be((()=>function(e,t){if(!t)return 0;let n=t.price;t.compareAtPrice&&e.useProductCompareAtPrice&&(n=Math.max(n,t.compareAtPrice));return n*l().quantity}(i(),Et(h)))),k=Be((()=>Er({"kaching-free-gift-image-height":l().imageSize+"px"}))),P=Be((()=>Na({priceFormatter:Br(Ha),product:Et(p),totalFullPrice:Et(y),totalDiscountedPrice:0,quantity:l().quantity}))),w=Be((()=>l()?Et(P)(qr(g,"$translate",n)(l().text)):""));function $(e){Yt(v,e,!0)}ze((()=>{l().productGID,Yt(v,void 0)})),Me((()=>{var e;Et(h)&&(null==(e=Et(p))?void 0:e.availableForSale)&&Lt((()=>{d()({variant:Et(h),fullPrice:l().showPrice?Et(y):0})}))}));var S=xn(),I=_e(S),B=e=>{var t=ei(),r=me(t),i=me(r);const c=Be((()=>o()?Et(b):void 0));Ka(i,{get url(){return Et(c)},className:"kaching-bundles__free-gift__link",children:(e,t)=>{var n=Za();je((()=>{gr(n,"src",Et(_)),gr(n,"height",l().imageSize||0)})),qn(e,n)},$$slots:{default:!0}});var d=ye(i,2),g=me(d),v=e=>{var t=xn();Nn(_e(t),(()=>Et(w)),(e=>{var t=Xa();Qn(me(t),(()=>Et(w))),ee(t),qn(e,t)})),qn(e,t)};Fn(g,(e=>{Et(w)&&e(v)}));var h=ye(g,2),m=e=>{Ia(e,{get config(){return a()},get product(){return Et(p)},get selectedVariantId(){return Et(f)},get swatchSettings(){return u()},get mediaImages(){return s()},onChange:$})};Fn(h,(e=>{o()&&!l().variantGID&&Et(p)&&Et(p).variants.length>1&&Et(f)&&e(m)})),ee(d),ee(r);var P=ye(r,2),S=e=>{var t=xn();Nn(_e(t),(()=>Et(y)),(e=>{var t=Ya();Qn(me(t),(()=>qr(Ha,"$priceFormatter",n)(Et(y)))),ee(t),qn(e,t)})),qn(e,t)};Fn(P,(e=>{l().showPrice&&Et(y)>0&&e(S)})),ee(t),je((()=>{gr(t,"data-free-gift-id",l().id),rr(t,Et(k))})),qn(e,t)};Fn(I,(e=>{(!l().productGID||Et(p)&&Et(p).availableForSale&&Et(h))&&e(B)})),qn(e,S);var C=ln({get config(){return a()},set config(e){a(e),jt()},get dealBlock(){return i()},set dealBlock(e){i(e),jt()},get freeGift(){return l()},set freeGift(e){l(e),jt()},get mediaImages(){return s()},set mediaImages(e=[]){s(e),jt()},get otherProducts(){return c()},set otherProducts(e){c(e),jt()},get swatchSettings(){return u()},set swatchSettings(e){u(e),jt()},get dealBarSelected(){return o()},set dealBarSelected(e=!1){o(e),jt()},get onChange(){return d()},set onChange(e){d(e),jt()}});return r(),C}Or(ti,{config:{},dealBlock:{},freeGift:{},mediaImages:{},otherProducts:{},swatchSettings:{},dealBarSelected:{},onChange:{}},[],[],!0);var ni=In('<div class="kaching-bundles__free-gift__divider"></div>'),ri=In("<!> <!>",1);function ai(e,t){an(t,!0);let n=Mr(t,"config",7),r=Mr(t,"dealBlock",7),a=Mr(t,"freeGifts",7),i=Mr(t,"otherProducts",7),l=Mr(t,"mediaImages",7),s=Mr(t,"swatchSettings",7),c=Mr(t,"dealBarSelected",7),u=Mr(t,"onChange",7),o=Zt(se({}));var d=xn();return Gn(_e(d),19,a,(e=>e.id),((e,t,d)=>{var g=ri(),v=_e(g);ti(v,{get config(){return n()},get dealBlock(){return r()},get freeGift(){return Et(t)},get otherProducts(){return i()},get mediaImages(){return l()},get swatchSettings(){return s()},get dealBarSelected(){return c()},onChange:e=>function(e,t){t.variant?Et(o)[e]=t:delete Et(o)[e];const n=a().filter((e=>e.id in Et(o))).map((e=>({id:e.id,variant:Et(o)[e.id].variant,quantity:e.quantity,fullPrice:Et(o)[e.id].fullPrice})));u()(n)}(Et(t).id,e)});var p=ye(v,2),f=e=>{qn(e,ni())};Fn(p,(e=>{Et(d)<a().length-1&&e(f)})),qn(e,g)})),qn(e,d),ln({get config(){return n()},set config(e){n(e),jt()},get dealBlock(){return r()},set dealBlock(e){r(e),jt()},get freeGifts(){return a()},set freeGifts(e){a(e),jt()},get otherProducts(){return i()},set otherProducts(e){i(e),jt()},get mediaImages(){return l()},set mediaImages(e){l(e),jt()},get swatchSettings(){return s()},set swatchSettings(e){s(e),jt()},get dealBarSelected(){return c()},set dealBarSelected(e){c(e),jt()},get onChange(){return u()},set onChange(e){u(e),jt()}})}Or(ai,{config:{},dealBlock:{},freeGifts:{},otherProducts:{},mediaImages:{},swatchSettings:{},dealBarSelected:{},onChange:{}},[],[],!0);var ii=Bn('<svg width="14" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.334 1 5 8.333 1.667 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function li(e){qn(e,ii())}function si(e){const{unitPriceReferenceValue:t,unitPriceReferenceUnit:n}=e;return t&&n?1==t?n:`${t}${n}`:null}function ci(e,t){const n=e.reduce(((e,{variant:t,quantity:n})=>{const{unitPriceQuantityValue:r,unitPriceQuantityUnit:a,unitPriceReferenceValue:i,unitPriceReferenceUnit:l}=t;if(!(r&&a&&i&&l))return e;const s=function(e,t,n){if(t===n)return e;if("g"===t&&"kg"===n)return e/1e3;if("ml"===t&&"l"===n)return e/1e3}(r,a,l);return s?e+s/i*n:e}),0);return n?t/n:null}Or(li,{},[],[],!0);var ui=In('<img alt="" class="kaching-bundles__upsell__image">'),oi=In('<div class="kaching-bundles__upsell__price"><!></div>'),di=In('<div class="kaching-bundles__upsell__full-price"><!></div>'),gi=In('<div class="kaching-bundles__upsell__price"><!></div>'),vi=In('<div class="kaching-bundles__upsell__full-price"><!></div>'),pi=In('<div class="kaching-bundles__upsell__pricing-row kaching-bundles__upsell__pricing-row--secondary"><!> <!></div>'),fi=In('<div class="kaching-bundles__upsell__pricing-row kaching-bundles__upsell__pricing-row--main"><!> <!></div> <!>',1),hi=In('<div class="kaching-bundles__upsell__price"><!></div>'),bi=In('<div class="kaching-bundles__upsell__full-price"><!></div>'),mi=In('<div class="kaching-bundles__upsell__unit-price"><!> </div>'),_i=In('<div class="kaching-bundles__upsell__pricing-row kaching-bundles__upsell__pricing-row--main"><!> <!></div> <div class="kaching-bundles__upsell__pricing-row kaching-bundles__upsell__pricing-row--secondary"><!></div>',1),yi=In('<div class="kaching-bundles__upsell__price"><!></div>'),ki=In('<div class="kaching-bundles__upsell__full-price"><!></div>'),Pi=In("<!> <!>",1),wi=In('<div class="kaching-bundles__upsell"><div class="kaching-bundles__upsell__main"><!> <!> <div class="kaching-bundles__upsell__content"><!> <!></div></div> <div class="kaching-bundles__upsell__pricing"><!></div></div>');function $i(e,t){an(t,!0);const[n,r]=Dr(),a=()=>qr(Ha,"$priceFormatter",n);let i=Mr(t,"config",7),l=Mr(t,"dealBlock",7),s=Mr(t,"upsell",7),c=Mr(t,"mediaImages",23,(()=>[])),u=Mr(t,"otherProducts",23,(()=>[])),o=Mr(t,"complementaryProducts",23,(()=>[])),d=Mr(t,"swatchSettings",7),g=Mr(t,"dealBarSelected",7,!1),v=Mr(t,"sellingPlan",7),p=Mr(t,"onChange",7);const f=Yr();let h=Zt(se(s().preselected)),b=Zt(void 0);const m=Be((()=>"complementary"===s().productSource?o()[0]:u().find((e=>e.id===aa(s().productGID))))),_=Be((()=>function(e,t,n){if(void 0!==e)return e;if(t.variantGID)return aa(t.variantGID);if((null==n?void 0:n.availableForSale)&&n.variants.length>0)return n.variants[0].id;return}(Et(b),s(),Et(m)))),y=Be((()=>{var e;return null==(e=Et(m))?void 0:e.variants.find((e=>e.id===Et(_)))})),k=Be((()=>c()&&s().mediaImageGID&&function(e){if(!e)return;const t=c().find((t=>t.gid===e));return null==t?void 0:t.url}(s().mediaImageGID))),P=Be((()=>Er({"kaching-upsell-image-height":s().imageSize+"px"}))),w=Be((()=>{var e;return(null==(e=Et(m))?void 0:e.url)?`${Et(m).url}?variant=${Et(_)}`:void 0})),$=Be((()=>l().priceRounding?{perItem:l().showPricesPerItem,precision:l().priceRoundingPrecision}:void 0)),S=Be((()=>function(e){if(!e)return 0;let t=e.price;l().useProductCompareAtPrice&&e.compareAtPrice&&(t=Math.max(t,e.compareAtPrice));return t*s().quantity}(Et(y)))),I=Be((()=>Math.ceil(Et(S)/s().quantity))),B=Be((()=>Oa({discountType:s().discountType,discountValue:s().discountValue,discountQuantity:s().quantity,variantQuantities:Et(y)?[{variant:Et(y),quantity:s().quantity}]:[],currencyRate:i().currencyRate,priceRounding:Et($),sellingPlan:v()}))),C=Be((()=>Math.ceil(Et(B)/s().quantity))),x=Be((()=>Et(S)!==Et(B))),q=Be((()=>Et(y)&&si(Et(y)))),D=Be((()=>Et(y)&&ci([{variant:Et(y),quantity:s().quantity}],Et(B)))),T=Be((()=>Na({priceFormatter:a(),product:Et(m),totalFullPrice:Et(S),totalDiscountedPrice:Et(B),quantity:s().quantity}))),V=Be((()=>Et(T)(qr(f,"$translate",n)(s().text))));function A(e){Yt(b,e,!0)}function M(){g()&&Yt(h,!Et(h))}ze((()=>{s().productGID,Yt(b,void 0)})),Me((()=>{var e;if(Et(y)&&(null==(e=Et(m))?void 0:e.availableForSale)){const e=Et(h);Lt((()=>{p()({variant:e?Et(y):null,product:e?Et(m):null,discountedPrice:e?Et(B):0,fullPrice:e?Et(S):0})}))}}));var z=xn(),F=_e(z),N=e=>{var t=wi(),n=me(t),r=me(n),u=e=>{const t=Be((()=>Et(h)?"kaching-bundles__upsell__checkbox--selected":""));Kr(e,{element:"span",get class(){var e;return`kaching-bundles__upsell__checkbox ${null!=(e=Et(t))?e:""}`},onclick:M,children:(e,t)=>{var n=xn(),r=_e(n),a=e=>{li(e)};Fn(r,(e=>{Et(h)&&e(a)})),qn(e,n)},$$slots:{default:!0}})};Fn(r,(e=>{g()&&e(u)}));var o=ye(r,2);const v=Be((()=>g()?Et(w):void 0));Ka(o,{get url(){return Et(v)},className:"kaching-bundles__upsell__link",children:(e,t)=>{var n=ui();je((()=>{var e,t;gr(n,"src",Et(k)||(null==(e=Et(y))?void 0:e.image)||(null==(t=Et(m))?void 0:t.image)),gr(n,"height",s().imageSize||0)})),qn(e,n)},$$slots:{default:!0}});var p=ye(o,2),f=me(p),b=e=>{Kr(e,{element:"span",class:"kaching-bundles__upsell__text",onclick:M,children:(e,t)=>{var n=xn();Qn(_e(n),(()=>Et(V))),qn(e,n)},$$slots:{default:!0}})};Fn(f,(e=>{Et(V)&&e(b)}));var $=ye(f,2),T=e=>{Ia(e,{get config(){return i()},get product(){return Et(m)},get selectedVariantId(){return Et(_)},get swatchSettings(){return d()},get mediaImages(){return c()},onChange:A})};Fn($,(e=>{g()&&!s().variantGID&&Et(m)&&Et(m).variants.length>1&&Et(_)&&e(T)})),ee(p),ee(n);var z=ye(n,2),F=me(z),N=e=>{var t=fi(),n=_e(t),r=me(n);Nn(r,(()=>Et(C)),(e=>{var t=oi();Qn(me(t),(()=>a()(Et(C)))),ee(t),qn(e,t)}));var i=ye(r,2),l=e=>{var t=xn();Nn(_e(t),(()=>Et(I)),(e=>{var t=di();Qn(me(t),(()=>a()(Et(I)))),ee(t),qn(e,t)})),qn(e,t)};Fn(i,(e=>{Et(x)&&e(l)})),ee(n);var c=ye(n,2),u=e=>{var t=pi(),n=me(t);Nn(n,(()=>Et(B)),(e=>{var t=gi();Qn(me(t),(()=>a()(Et(B)))),ee(t),qn(e,t)}));var r=ye(n,2),i=e=>{var t=xn();Nn(_e(t),(()=>Et(S)),(e=>{var t=vi();Qn(me(t),(()=>a()(Et(S)))),ee(t),qn(e,t)})),qn(e,t)};Fn(r,(e=>{Et(x)&&e(i)})),ee(t),qn(e,t)};Fn(c,(e=>{s().quantity>1&&e(u)})),qn(e,t)},O=(e,t)=>{var n=e=>{var t=_i(),n=_e(t),r=me(n);Nn(r,(()=>Et(B)),(e=>{var t=hi();Qn(me(t),(()=>a()(l().showPricesPerItem?Et(C):Et(B)))),ee(t),qn(e,t)}));var i=ye(r,2),s=e=>{var t=xn();Nn(_e(t),(()=>Et(S)),(e=>{var t=bi();Qn(me(t),(()=>a()(l().showPricesPerItem?Et(I):Et(S)))),ee(t),qn(e,t)})),qn(e,t)};Fn(i,(e=>{Et(x)&&e(s)})),ee(n);var c=ye(n,2);Nn(me(c),(()=>Et(D)),(e=>{var t=mi(),n=me(t);Qn(n,(()=>a()(Et(D))));var r=ye(n);ee(t),je((()=>{var e;return Dn(r,` / ${null!=(e=Et(q))?e:""}`)})),qn(e,t)})),ee(c),qn(e,t)},r=e=>{var t=Pi(),n=_e(t);Nn(n,(()=>Et(B)),(e=>{var t=yi();Qn(me(t),(()=>a()(l().showPricesPerItem?Et(C):Et(B)))),ee(t),qn(e,t)}));var r=ye(n,2),i=e=>{var t=xn();Nn(_e(t),(()=>Et(S)),(e=>{var t=ki();Qn(me(t),(()=>a()(l().showPricesPerItem?Et(I):Et(S)))),ee(t),qn(e,t)})),qn(e,t)};Fn(r,(e=>{Et(x)&&e(i)})),qn(e,t)};Fn(e,(e=>{Et(D)&&Et(q)&&!i().ignoreUnitPrice?e(n):e(r,!1)}),t)};Fn(F,(e=>{l().showBothPrices?e(N):e(O,!1)})),ee(z),ee(t),je((()=>{gr(t,"data-upsell-id",s().id),rr(t,Et(P))})),qn(e,t)};Fn(F,(e=>{Et(m)&&Et(m).availableForSale&&Et(y)&&(!s().visibleOnlyWhenDealBarSelected||g())&&e(N)})),qn(e,z);var O=ln({get config(){return i()},set config(e){i(e),jt()},get dealBlock(){return l()},set dealBlock(e){l(e),jt()},get upsell(){return s()},set upsell(e){s(e),jt()},get mediaImages(){return c()},set mediaImages(e=[]){c(e),jt()},get otherProducts(){return u()},set otherProducts(e=[]){u(e),jt()},get complementaryProducts(){return o()},set complementaryProducts(e=[]){o(e),jt()},get swatchSettings(){return d()},set swatchSettings(e){d(e),jt()},get dealBarSelected(){return g()},set dealBarSelected(e=!1){g(e),jt()},get sellingPlan(){return v()},set sellingPlan(e){v(e),jt()},get onChange(){return p()},set onChange(e){p(e),jt()}});return r(),O}Or($i,{config:{},dealBlock:{},upsell:{},mediaImages:{},otherProducts:{},complementaryProducts:{},swatchSettings:{},dealBarSelected:{},sellingPlan:{},onChange:{}},[],[],!0);var Si=In('<div class="kaching-bundles__free-gift__divider"></div>'),Ii=In("<!> <!>",1);function Bi(e,t){an(t,!0);let n=Mr(t,"config",7),r=Mr(t,"dealBlock",7),a=Mr(t,"upsells",7),i=Mr(t,"otherProducts",7),l=Mr(t,"complementaryProducts",7),s=Mr(t,"mediaImages",7),c=Mr(t,"swatchSettings",7),u=Mr(t,"dealBarSelected",7),o=Mr(t,"sellingPlan",7),d=Mr(t,"onChange",7),g=Zt(se({}));var v=xn();return Gn(_e(v),19,a,(e=>e.id),((e,t,v)=>{var p=Ii(),f=_e(p);$i(f,{get config(){return n()},get dealBlock(){return r()},get upsell(){return Et(t)},get otherProducts(){return i()},get complementaryProducts(){return l()},get mediaImages(){return s()},get swatchSettings(){return c()},get dealBarSelected(){return u()},get sellingPlan(){return o()},onChange:e=>function(e,t){const{variant:n,product:r,discountedPrice:i,fullPrice:l}=t;n&&r?Et(g)[e]={variant:n,product:r,discountedPrice:i,fullPrice:l}:delete Et(g)[e];const s=a().filter((e=>e.id in Et(g))).map((e=>({id:e.id,variant:Et(g)[e.id].variant,product:Et(g)[e.id].product,quantity:e.quantity,discountedPrice:Et(g)[e.id].discountedPrice,fullPrice:Et(g)[e.id].fullPrice})));d()(s)}(Et(t).id,e)});var h=ye(f,2),b=e=>{qn(e,Si())};Fn(h,(e=>{Et(v)<a().length-1&&e(b)})),qn(e,p)})),qn(e,v),ln({get config(){return n()},set config(e){n(e),jt()},get dealBlock(){return r()},set dealBlock(e){r(e),jt()},get upsells(){return a()},set upsells(e){a(e),jt()},get otherProducts(){return i()},set otherProducts(e){i(e),jt()},get complementaryProducts(){return l()},set complementaryProducts(e){l(e),jt()},get mediaImages(){return s()},set mediaImages(e){s(e),jt()},get swatchSettings(){return c()},set swatchSettings(e){c(e),jt()},get dealBarSelected(){return u()},set dealBarSelected(e){u(e),jt()},get sellingPlan(){return o()},set sellingPlan(e){o(e),jt()},get onChange(){return d()},set onChange(e){d(e),jt()}})}Or(Bi,{config:{},dealBlock:{},upsells:{},otherProducts:{},complementaryProducts:{},mediaImages:{},swatchSettings:{},dealBarSelected:{},sellingPlan:{},onChange:{}},[],[],!0);var Ci=In('<img class="kaching-bundles__bar-image" alt="">'),xi=In('<div class="kaching-bundles__bar-radio"></div>'),qi=In('<span class="kaching-bundles__bar-title"><!></span>'),Di=In('<span class="kaching-bundles__bar-label"><!></span>'),Ti=In('<div class="kaching-bundles__bar-subtitle"><!></div>'),Vi=In('<div class="kaching-bundles__bar-price"><!></div>'),Ai=In('<div class="kaching-bundles__bar-full-price"><!></div>'),Mi=In('<div class="kaching-bundles__bar-price"><!></div>'),zi=In('<div class="kaching-bundles__bar-full-price"><!></div>'),Fi=In('<div class="kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--secondary"><!> <!></div>'),Ni=In('<div class="kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--main"><!> <!></div> <!>',1),Oi=In('<div class="kaching-bundles__bar-price"><!></div>'),Gi=In('<div class="kaching-bundles__bar-full-price"><!></div>'),ji=In('<div class="kaching-bundles__bar-unit-price"><!> </div>'),Ri=In('<div class="kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--primary"><!> <!></div> <div class="kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--secondary"><!></div>',1),Ei=In('<div class="kaching-bundles__bar-price"><!></div>'),Li=In('<div class="kaching-bundles__bar-full-price"><!></div>'),Qi=In("<!> <!>",1),Ui=In('<!> <div class="kaching-bundles__bar-content"><div class="kaching-bundles__bar-content-left"><div class="kaching-bundles__bar-first-line"><!> <!></div> <!></div> <div class="kaching-bundles__bar-pricing"><!></div></div>',1),Hi=In('<div class="kaching-bundles__bar-variants"><div class="kaching-bundles__bar-variant-names"></div> <!></div>'),Ji=In('<div><input type="radio"> <label><!> <div class="kaching-bundles__bar-wrapper"><!> <!></div> <!> <!></label></div>');function Wi(e,t){an(t,!1);const[n,r]=Dr(),a=()=>qr(Ha,"$priceFormatter",n),i=()=>qr(E,"$translate",n),l=Xt(),s=Xt(),c=Xt(),u=Xt(),o=Xt(),d=Xt(),g=Xt(),v=Xt(),p=Xt(),f=Xt(),h=Xt(),b=Xt(),m=Xt(),_=Xt(),y=Xt(),k=Xt(),P=Xt(),w=Xt(),$=Xt(),S=Xt(),I=Xt(),B=Xt(),C=Xt(),x=wr();let q=Mr(t,"config",12),D=Mr(t,"dealBlock",12),T=Mr(t,"swatchSettings",12),V=Mr(t,"dealBar",12),A=Mr(t,"product",12),M=Mr(t,"otherProducts",28,(()=>[])),z=Mr(t,"complementaryProducts",28,(()=>[])),F=Mr(t,"mediaImages",28,(()=>[])),N=Mr(t,"customQuantity",12,void 0),O=Mr(t,"currentVariantId",12),G=Mr(t,"componentId",12),j=Mr(t,"selected",12,!1),R=Mr(t,"sellingPlan",12,void 0);const E=Yr();let L=!1,Q=Xt([]),U=Xt([]);function H(e){return"bxgy"===e.dealBarType?e.buyQuantity+e.getQuantity:Number(e.quantity)}const J=A().options.map((e=>e.name)).join(", ");function W(e){return e.reduce(((e,t)=>{const n=e.find((({variant:e})=>e.id===t));if(n)n.quantity+=1;else{const n=A().variants.find((e=>e.id===t));if(!n)return e;e.push({variant:n,quantity:1})}return e}),[])}Pr((()=>{j()&&(x("dealBarSelected",{dealBarId:V().id,dealBarQuantity:H(V()),variantIds:Et(u),preselected:!0}),K(!0)),L=!0}));function K(e=!1){if(!L&&!e)return;if(!Et(u).length)return;const t=W(Et(u)),n={discountedPrice:Et(k)+Et(U).reduce(((e,t)=>e+t.discountedPrice),0),fullPrice:Et(b)+Et(U).reduce(((e,t)=>e+t.fullPrice),0)+Et(Q).reduce(((e,t)=>e+t.fullPrice),0),discountedPricePerItem:Et(P),fullPricePerItem:Et(m)};x("variantsChanged",{variants:t,freeGifts:Et(Q),upsells:Et(U),pricing:n,preselected:e})}Ne((()=>Ht(D())),(()=>{Yt(l,D().priceRounding?{perItem:D().showPricesPerItem,precision:D().priceRoundingPrecision}:void 0)})),Ne((()=>(Ht(D()),Ht(A()),Ht(V()))),(()=>{var e,t;Yt(s,D()&&(null==(t=null==(e=D().defaultVariantsV2)?void 0:e.find((e=>aa(e.productGID)===A().id&&e.dealBarId===V().id)))?void 0:t.variantGIDs)||[])})),Ne((()=>(Ht(N()),Ht(V()))),(()=>{Yt(c,N()||H(V()))})),Ne((()=>(Et(c),Et(s),Ht(O()))),(()=>{Yt(u,function(e,t,n){let r=[];for(let a=0;a<e;a++){let i=t[a];if(!i&&e>H(V())&&t.filter((e=>e)).length===H(V())&&(i=t[t.length-1]),i){const e=aa(i);if(A().variants.find((t=>t.id==e))){r.push(e);continue}}n&&r.push(n)}return r}(Et(c),Et(s),O()))})),Ne((()=>Et(u)),(()=>{Yt(o,W(Et(u)))})),Ne((()=>(Ht(D()),Ht(V()),Et(o))),(()=>{var e,t;Yt(b,(e=D(),t=V(),Et(o).map((({variant:n,quantity:r})=>{let a=n.price;const i=e.useProductCompareAtPrice||(void 0===t.dealBarType||"quantity-break"===t.dealBarType)&&"default"===t.discountType;return n.compareAtPrice&&i&&(a=Math.max(a,n.compareAtPrice)),a*r})).reduce(((e,t)=>e+t),0)))})),Ne((()=>(Ht(A()),Et(o))),(()=>{var e,t;Yt(_,(e=A().sellingPlans,t=Et(o).map((e=>e.variant)),e.filter((e=>t.some((t=>t.sellingPlans.some((t=>t.id===e.id))))))))})),Ne((()=>(Ht(R()),Et(_))),(()=>{Yt(y,(()=>{if(R())return Et(_).some((e=>e.id===R().id))?R():Et(_)[0]})())})),Ne((()=>(Ht(D()),Et(o),Et(y))),(()=>{Yt(k,D()&&function(e,t){switch(V().dealBarType){case void 0:case"quantity-break":return Ga(V(),e,q().currencyRate,Et(l),t);case"bxgy":return ja(V(),e,t)}}(Et(o),Et(y)))})),Ne((()=>(a(),Ht(A()),Et(b),Et(k),Et(c),Ht(V()),Ht(q()))),(()=>{Yt(d,Na({priceFormatter:a(),product:A(),totalFullPrice:Et(b),totalDiscountedPrice:Et(k),quantity:Et(c),dealBar:V(),legacySavedPercentage:q().featureFlags.legacy_saved_percentage||!1}))})),Ne((()=>(Et(d),i(),Ht(V()))),(()=>{Yt(g,Et(d)(i()(V().title)))})),Ne((()=>(Et(d),i(),Ht(V()))),(()=>{Yt(v,Et(d)(i()(V().subtitle)))})),Ne((()=>(Et(d),i(),Ht(V()))),(()=>{Yt(p,Et(d)(i()(V().label)))})),Ne((()=>(Et(d),i(),Ht(V()))),(()=>{Yt(f,Et(d)(i()(V().badgeText)))})),Ne((()=>(Ht(V()),Et(f),Ht(D()))),(()=>{Yt(h,("most-popular"===V().badgeStyle||"simple"===V().badgeStyle&&Et(f))&&"vertical"===D().blockLayout)})),Ne((()=>(Et(b),Et(c))),(()=>{Yt(m,Math.ceil(Et(b)/Et(c)))})),Ne((()=>(Et(k),Et(c))),(()=>{Yt(P,Math.ceil(Et(k)/Et(c)))})),Ne((()=>(Et(b),Et(k))),(()=>{Yt(w,Et(b)!==Et(k))})),Ne((()=>(Et(c),Ht(D()))),(()=>{var e;Yt($,Et(c)&&!(!(e=D()).differentVariantsEnabled||1===A().variants.length||!e.hideVariantPicker&&1==Et(c)&&!e.showVariantsForSingleQuantity))})),Ne((()=>(Ht(V()),Ht(G()))),(()=>{Yt(S,`${V().id}_${G()}`)})),Ne((()=>(Et(o),si)),(()=>{Yt(I,Et(o)[0]&&si(Et(o)[0].variant))})),Ne((()=>(Et(I),Et(o),Et(k))),(()=>{Yt(B,Et(I)&&ci(Et(o),Et(k)))})),Ne((()=>(Ht(F()),Ht(V()),Qa)),(()=>{Yt(C,F()&&(e=>{if(!e)return;const t=F().find((t=>t.gid===e));return null==t?void 0:t.url})(V().mediaImageGID)||Qa)})),Ne((()=>(Ht(j()),Et(u),Et(U),Et(Q),Ht(R()))),(()=>{j()&&K()&&Et(u)&&Et(U)&&Et(Q)&&R()})),Oe(),yr();var Z=Ji();let X;var Y=me(Z);cr(Y);var te=ye(Y,2);let ne;var re=me(te),ae=e=>{const t=Ce((()=>Et(f)||void 0));Ta(e,{get style(){return V().badgeStyle},get text(){return Et(t)}})};Fn(re,(e=>{Et(h)&&e(ae)}));var ie=ye(re,2),le=me(ie);Kr(le,{element:"div",class:"kaching-bundles__bar-main",onclick:function(e){j()&&(e.preventDefault(),e.stopPropagation(),x("dealBarDeselected"))},children:(e,t)=>{var n=Ui(),r=_e(n),i=e=>{var t=Ci();je((()=>gr(t,"src",Et(C)))),qn(e,t)},l=e=>{qn(e,xi())};Fn(r,(e=>{V().mediaImageGID?e(i):e(l,!1)}));var s=ye(r,2),u=me(s),o=me(u),d=me(o);Nn(d,(()=>Et(g)),(e=>{var t=qi();Qn(me(t),(()=>Et(g))),ee(t),qn(e,t)}));var f=ye(d,2),h=e=>{var t=xn();Nn(_e(t),(()=>Et(p)),(e=>{var t=Di();Qn(me(t),(()=>Et(p))),ee(t),qn(e,t)})),qn(e,t)};Fn(f,(e=>{Et(p)&&e(h)})),ee(o);var _=ye(o,2),y=e=>{var t=xn();Nn(_e(t),(()=>Et(v)),(e=>{var t=Ti();Qn(me(t),(()=>Et(v))),ee(t),qn(e,t)})),qn(e,t)};Fn(_,(e=>{Et(v)&&e(y)})),ee(u);var $=ye(u,2),S=me($),x=e=>{var t=Ni(),n=_e(t),r=me(n);Nn(r,(()=>Et(P)),(e=>{var t=Vi();Qn(me(t),(()=>a()(Et(P)))),ee(t),qn(e,t)}));var i=ye(r,2),l=e=>{var t=xn();Nn(_e(t),(()=>Et(m)),(e=>{var t=Ai();Qn(me(t),(()=>a()(Et(m)))),ee(t),qn(e,t)})),qn(e,t)};Fn(i,(e=>{Et(w)&&e(l)})),ee(n);var s=ye(n,2),u=e=>{var t=Fi(),n=me(t);Nn(n,(()=>Et(k)),(e=>{var t=Mi();Qn(me(t),(()=>a()(Et(k)))),ee(t),qn(e,t)}));var r=ye(n,2),i=e=>{var t=xn();Nn(_e(t),(()=>Et(b)),(e=>{var t=zi();Qn(me(t),(()=>a()(Et(b)))),ee(t),qn(e,t)})),qn(e,t)};Fn(r,(e=>{Et(w)&&e(i)})),ee(t),qn(e,t)};Fn(s,(e=>{Et(c)>1&&e(u)})),qn(e,t)},T=(e,t)=>{var n=e=>{var t=Ri(),n=_e(t),r=me(n);Nn(r,(()=>Et(k)),(e=>{var t=Oi();Qn(me(t),(()=>a()(D().showPricesPerItem?Et(P):Et(k)))),ee(t),qn(e,t)}));var i=ye(r,2),l=e=>{var t=xn();Nn(_e(t),(()=>Et(b)),(e=>{var t=Gi();Qn(me(t),(()=>a()(D().showPricesPerItem?Et(m):Et(b)))),ee(t),qn(e,t)})),qn(e,t)};Fn(i,(e=>{Et(w)&&e(l)})),ee(n);var s=ye(n,2);Nn(me(s),(()=>Et(B)),(e=>{var t=ji(),n=me(t);Qn(n,(()=>a()(Et(B))));var r=ye(n);ee(t),je((()=>{var e;return Dn(r,` / ${null!=(e=Et(I))?e:""}`)})),qn(e,t)})),ee(s),qn(e,t)},r=e=>{var t=Qi(),n=_e(t);Nn(n,(()=>Et(k)),(e=>{var t=Ei();Qn(me(t),(()=>a()(D().showPricesPerItem?Et(P):Et(k)))),ee(t),qn(e,t)}));var r=ye(n,2),i=e=>{var t=xn();Nn(_e(t),(()=>Et(b)),(e=>{var t=Li();Qn(me(t),(()=>a()(D().showPricesPerItem?Et(m):Et(b)))),ee(t),qn(e,t)})),qn(e,t)};Fn(r,(e=>{Et(w)&&e(i)})),qn(e,t)};Fn(e,(e=>{Et(B)&&!q().ignoreUnitPrice?e(n):e(r,!1)}),t)};Fn(S,(e=>{D().showBothPrices?e(x):e(T,!1)})),ee($),ee(s),qn(e,n)},$$slots:{default:!0}});var se=ye(le,2),ce=e=>{var t=Hi(),n=me(t);n.textContent=J,Gn(ye(n,2),1,(()=>({length:Et(c)})),On,((e,t,n)=>{const r=Ce((()=>Et(c)>1?n+1:void 0));Ia(e,{get config(){return q()},get product(){return A()},get selectedVariantId(){return Et(u)[n]},get swatchSettings(){return T()},get mediaImages(){return F()},get number(){return Et(r)},onChange:e=>function(e,t){const n=[...Et(u)];n[e]=t,Yt(u,n),j()&&x("variantSelected",{variantId:t})}(n,e),onOptionChange:(e,t,r)=>function(e,t,n,r){if(q().featureFlags.disable_variant_option_sync)return;if(0!==e)return;const a=t-1,i=Et(u).map((e=>A().variants.find((t=>t.id===e)))).filter((e=>null!=e)).slice(1);0!==i.length&&i.every((e=>e.options[a]===r))&&Yt(u,Et(u).map((e=>{const t=A().variants.find((t=>t.id===e));if(!t)return e;if(t.options[a]!==r)return e;const i=[...t.options];i[a]=n;const l=A().variants.find((e=>e.options.every(((e,t)=>e===i[t]))));return l?l.id:e})))}(n,e,t,r)})})),ee(t),qn(e,t)};Fn(se,(e=>{Et($)&&e(ce)})),ee(ie);var ue=ye(ie,2);const oe=Ce((()=>V().upsells||[]));Bi(ue,{get config(){return q()},get dealBlock(){return D()},get upsells(){return Et(oe)},get otherProducts(){return M()},get complementaryProducts(){return z()},get mediaImages(){return F()},get swatchSettings(){return T()},get dealBarSelected(){return j()},get sellingPlan(){return R()},onChange:e=>{Yt(U,e)}});var de=ye(ue,2);const ge=Ce((()=>V().freeGifts||[]));ai(de,{get config(){return q()},get dealBlock(){return D()},get freeGifts(){return Et(ge)},get otherProducts(){return M()},get mediaImages(){return F()},get swatchSettings(){return T()},get dealBarSelected(){return j()},onChange:e=>{Yt(Q,e)}}),ee(te),ee(Z),je(((e,t)=>{var n;X=tr(Z,1,"kaching-bundles__bar",null,X,e),gr(Z,"data-deal-bar-id",V().id),gr(Y,"name",`kaching-bundles-deal-${null!=(n=G())?n:""}`),ur(Y,V().id),gr(Y,"id",Et(S)),or(Y,j()),gr(te,"for",Et(S)),ne=tr(te,1,"kaching-bundles__bar-container",null,ne,t)}),[()=>({"kaching-bundles__bar--selected":j()}),()=>({"kaching-bundles__bar-container--most-popular":Et(h),"kaching-bundles__bar-container--most-popular--simple":Et(h)&&"simple"===V().badgeStyle,"kaching-bundles__bar-container--most-popular--fancy":Et(h)&&"most-popular"===V().badgeStyle})],Ce),kn("change",Y,(function(){x("dealBarSelected",{dealBarId:V().id,dealBarQuantity:H(V()),variantIds:Et(u),preselected:!1})})),qn(e,Z);var ve=ln({get config(){return q()},set config(e){q(e),jt()},get dealBlock(){return D()},set dealBlock(e){D(e),jt()},get swatchSettings(){return T()},set swatchSettings(e){T(e),jt()},get dealBar(){return V()},set dealBar(e){V(e),jt()},get product(){return A()},set product(e){A(e),jt()},get otherProducts(){return M()},set otherProducts(e){M(e),jt()},get complementaryProducts(){return z()},set complementaryProducts(e){z(e),jt()},get mediaImages(){return F()},set mediaImages(e){F(e),jt()},get customQuantity(){return N()},set customQuantity(e){N(e),jt()},get currentVariantId(){return O()},set currentVariantId(e){O(e),jt()},get componentId(){return G()},set componentId(e){G(e),jt()},get selected(){return j()},set selected(e){j(e),jt()},get sellingPlan(){return R()},set sellingPlan(e){R(e),jt()}});return r(),ve}Or(Wi,{config:{},dealBlock:{},swatchSettings:{},dealBar:{},product:{},otherProducts:{},complementaryProducts:{},mediaImages:{},customQuantity:{},currentVariantId:{},componentId:{},selected:{},sellingPlan:{}},[],[],!0);var Ki=In('<div class="kaching-bundles"><!></div>');function Zi(e,t){an(t,!0);const n=Mr(t,"config",7),r=Mr(t,"dealBlock",7),a=Mr(t,"dealBar",7),i=Mr(t,"translations",7),l=Mr(t,"product",7),s=Mr(t,"mediaImages",23,(()=>[])),c=Mr(t,"currentVariantId",7),u=Math.random().toString(16).slice(2);Xr(i());const o=Be((()=>r()&&Lr(r()))),d=Be((()=>({swatchOptions:r().swatchOptions||[],swatchSize:r().swatchSize,swatchShape:r().swatchShape})));var g=Ki(),v=me(g),p=e=>{Wi(e,{get config(){return n()},get dealBlock(){return r()},get swatchSettings(){return Et(d)},get dealBar(){return a()},get product(){return l()},get mediaImages(){return s()},get currentVariantId(){return c()},componentId:u,selected:!0})};return Fn(v,(e=>{"bundle"!==a().dealBarType&&"subscription"!==a().dealBarType&&e(p)})),ee(g),je((()=>rr(g,Et(o)))),qn(e,g),ln({get config(){return n()},set config(e){n(e),jt()},get dealBlock(){return r()},set dealBlock(e){r(e),jt()},get dealBar(){return a()},set dealBar(e){a(e),jt()},get translations(){return i()},set translations(e){i(e),jt()},get product(){return l()},set product(e){l(e),jt()},get mediaImages(){return s()},set mediaImages(e=[]){s(e),jt()},get currentVariantId(){return c()},set currentVariantId(e){c(e),jt()}})}customElements.define("kaching-bundles-bar",Or(Zi,{config:{attribute:"config",type:"Object"},dealBlock:{attribute:"deal-block",type:"Object"},dealBar:{attribute:"deal-bar",type:"Object"},translations:{attribute:"translations",type:"Object"},product:{attribute:"product",type:"Object"},mediaImages:{attribute:"media-images",type:"Array"},currentVariantId:{attribute:"current-variant-id",type:"Number"}},[],[],!1,(e=>class extends e{constructor(){super(),c(this,"component"),this.component=this}})));var Xi=In('<img class="kaching-bundles__choose-product__product-image" alt="">'),Yi=In('<span class="kaching-bundles__choose-product__product-title"> </span>'),el=In('<span class="kaching-bundles__choose-product__subtitle"><!></span>'),tl=In('<div class="kaching-bundles__choose-product__product-price"><!></div>'),nl=In('<div class="kaching-bundles__choose-product__product-compare-at-price"><!></div>'),rl=In('<div><span class="kaching-bundles__choose-product__product-option-names"></span> <!></div>'),al=In('<div class="kaching-bundles__choose-product__product"><div class="kaching-bundles__choose-product__product-container"><!> <div class="kaching-bundles__choose-product__product-content"><!> <!> <div class="kaching-bundles__choose-product__product-price-container"><!> <!></div> <!></div></div> <!></div>');function il(e,t){var n;an(t,!0);const[r,a]=Dr(),i=()=>qr(Ha,"$priceFormatter",r),l=()=>qr(p,"$translate",r),s=Mr(t,"config",7),c=Mr(t,"product",7),u=Mr(t,"dealBlock",7),o=Mr(t,"dealBar",7),d=Mr(t,"swatchSettings",7),g=Mr(t,"mediaImages",7),v=Mr(t,"onChoose",7),p=Yr(),f=c().options.map((e=>e.name)).join(", ");let h=Zt(se((null==(n=c().variants.find((e=>e.availableForSale)))?void 0:n.id)||c().variants[0].id));const b=Be((()=>c().variants.find((e=>e.id===Et(h)))||c().variants[0])),m=Be((()=>Et(b).image||c().image)),_=Be((()=>u().priceRounding?{perItem:!0,precision:u().priceRoundingPrecision}:void 0)),y=Be((()=>"bxgy"===o().dealBarType?Et(b).price:Oa({discountType:o().discountType,discountValue:o().discountValue,discountQuantity:1,variantQuantities:[{variant:Et(b),quantity:1}],currencyRate:s().currencyRate,priceRounding:Et(_)}))),k=Be((()=>function(e,t){if(e.useProductCompareAtPrice&&t.compareAtPrice)return Math.max(t.price,t.compareAtPrice);return t.price}(u(),Et(b)))),P=Be((()=>c().url?`${c().url}?variant=${Et(h)}`:void 0)),w=Be((()=>Na({priceFormatter:i(),product:c(),totalFullPrice:Et(k),totalDiscountedPrice:Et(y),quantity:1}))),$=Be((()=>Et(w)(l()(u().chooseProductModal.subtitle||"")))),S=Be((()=>u().chooseProductModal.buttonText));function I(e){Yt(h,e,!0)}var B=al(),C=me(B),x=me(C),q=e=>{Ka(e,{get url(){return Et(P)},children:(e,t)=>{var n=Xi();gr(n,"width",100),gr(n,"height",100),je((()=>gr(n,"src",Et(m)))),qn(e,n)},$$slots:{default:!0}})};Fn(x,(e=>{Et(m)&&e(q)}));var D=ye(x,2),T=me(D);Ka(T,{get url(){return Et(P)},className:"kaching-bundles__choose-product__product-link",children:(e,t)=>{var n=Yi(),r=me(n,!0);ee(n),je((()=>Dn(r,c().title))),qn(e,n)},$$slots:{default:!0}});var V=ye(T,2),A=e=>{var t=el();Qn(me(t),(()=>Et($))),ee(t),qn(e,t)};Fn(V,(e=>{Et($)&&e(A)}));var M=ye(V,2),z=me(M);Nn(z,(()=>Et(y)),(e=>{var t=tl();Qn(me(t),(()=>i()(Et(y)))),ee(t),qn(e,t)}));var F=ye(z,2),N=e=>{var t=xn();Nn(_e(t),(()=>Et(k)),(e=>{var t=nl();Qn(me(t),(()=>i()(Et(k)))),ee(t),qn(e,t)})),qn(e,t)};Fn(F,(e=>{Et(k)&&Et(k)>Et(y)&&e(N)})),ee(M);var O=ye(M,2),G=e=>{var t=rl(),n=me(t);n.textContent=f,Ia(ye(n,2),{get config(){return s()},get product(){return c()},get selectedVariantId(){return Et(h)},get swatchSettings(){return d()},get mediaImages(){return g()},onChange:I}),ee(t),qn(e,t)};Fn(O,(e=>{c().variants.length>1&&e(G)})),ee(D),ee(C),Kr(ye(C,2),{element:"span",class:"kaching-bundles__choose-product__product-button",onclick:function(){v()({product:c(),variant:Et(b)})},children:(e,t)=>{var n=xn(),r=_e(n),a=e=>{var t=Cn();je((e=>Dn(t,e)),[()=>l()(Et(S))]),qn(e,t)},i=e=>{qn(e,Cn("Choose"))};Fn(r,(e=>{Et(S)?e(a):e(i,!1)})),qn(e,n)},$$slots:{default:!0}}),ee(B),qn(e,B);var j=ln({get config(){return s()},set config(e){s(e),jt()},get product(){return c()},set product(e){c(e),jt()},get dealBlock(){return u()},set dealBlock(e){u(e),jt()},get dealBar(){return o()},set dealBar(e){o(e),jt()},get swatchSettings(){return d()},set swatchSettings(e){d(e),jt()},get mediaImages(){return g()},set mediaImages(e){g(e),jt()},get onChoose(){return v()},set onChoose(e){v(e),jt()}});return a(),j}Or(il,{config:{},product:{},dealBlock:{},dealBar:{},swatchSettings:{},mediaImages:{},onChoose:{}},[],[],!0);var ll=In('<img alt="Close">'),sl=In('<div class="kaching-bundles__choose-product"><div class="kaching-bundles__choose-product__header"><h2 class="kaching-bundles__choose-product__heading"><!></h2> <!></div> <div class="kaching-bundles__choose-product__products"></div></div>');function cl(e,t){an(t,!0);const[n,r]=Dr(),a=Mr(t,"config",7),i=Mr(t,"dealBlock",7),l=Mr(t,"dealBar",7),s=Mr(t,"swatchSettings",7),c=Mr(t,"products",23,(()=>[])),u=Mr(t,"mediaImages",7),o=Mr(t,"onChoose",7),d=Mr(t,"onClose",7),g=Yr(),v=Be((()=>i().chooseProductModal)),p=Be((()=>{return Er({"kaching-choose-product-button-size":(e=Et(v)).buttonSize+"px","kaching-choose-product-text-size":e.textSize+"px","kaching-choose-product-price-color":Rr(e.priceColor),"kaching-choose-product-compare-at-price-color":Rr(e.compareAtPriceColor),"kaching-choose-product-text-color":Rr(e.textColor),"kaching-choose-product-button-color":Rr(e.buttonColor),"kaching-choose-product-button-text-color":Rr(e.buttonTextColor),"kaching-choose-product-photo-size":e.productPhotoSize+"px"});var e}));var f=sl(),h=me(f),b=me(h),m=me(b),_=e=>{var t=Cn();je((e=>Dn(t,e)),[()=>qr(g,"$translate",n)(Et(v).heading)]),qn(e,t)};Fn(m,(e=>{Et(v).heading&&e(_)})),ee(b),Kr(ye(b,2),{element:"span",class:"kaching-bundles__choose-product__close",get onclick(){return d()},children:(e,t)=>{var n=ll();gr(n,"src","data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%201L1%2011M1%201L11%2011'%20stroke='%23344054'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e"),qn(e,n)},$$slots:{default:!0}}),ee(h);var y=ye(h,2);Gn(y,21,c,(e=>e.id),((e,t)=>{il(e,{get config(){return a()},get dealBlock(){return i()},get dealBar(){return l()},get swatchSettings(){return s()},get product(){return Et(t)},get mediaImages(){return u()},get onChoose(){return o()}})})),ee(y),ee(f),je((()=>rr(f,Et(p)))),qn(e,f);var k=ln({get config(){return a()},set config(e){a(e),jt()},get dealBlock(){return i()},set dealBlock(e){i(e),jt()},get dealBar(){return l()},set dealBar(e){l(e),jt()},get swatchSettings(){return s()},set swatchSettings(e){s(e),jt()},get products(){return c()},set products(e=[]){c(e),jt()},get mediaImages(){return u()},set mediaImages(e){u(e),jt()},get onChoose(){return o()},set onChoose(e){o(e),jt()},get onClose(){return d()},set onClose(e){d(e),jt()}});return r(),k}Or(cl,{config:{},dealBlock:{},dealBar:{},swatchSettings:{},products:{},mediaImages:{},onChoose:{},onClose:{}},[],[],!0);var ul=In('<div class="kaching-bundles"><!></div>');function ol(e,t){an(t,!0);const n=Mr(t,"config",7),r=Mr(t,"dealBlock",7),a=Mr(t,"dealBar",7),i=Mr(t,"swatchSettings",7),l=Mr(t,"products",23,(()=>[])),s=Mr(t,"mediaImages",7),c=Mr(t,"translations",7);Xr(c());var u=ul();return cl(me(u),{get config(){return n()},get dealBlock(){return r()},get dealBar(){return a()},get swatchSettings(){return i()},get products(){return l()},get mediaImages(){return s()},onChoose:()=>{},onClose:()=>{}}),ee(u),qn(e,u),ln({get config(){return n()},set config(e){n(e),jt()},get dealBlock(){return r()},set dealBlock(e){r(e),jt()},get dealBar(){return a()},set dealBar(e){a(e),jt()},get swatchSettings(){return i()},set swatchSettings(e){i(e),jt()},get products(){return l()},set products(e=[]){l(e),jt()},get mediaImages(){return s()},set mediaImages(e){s(e),jt()},get translations(){return c()},set translations(e){c(e),jt()}})}customElements.define("kaching-bundles-choose-product",Or(ol,{config:{attribute:"config",type:"Object"},dealBlock:{attribute:"deal-block",type:"Object"},dealBar:{attribute:"deal-bar",type:"Object"},swatchSettings:{attribute:"swatch-settings",type:"Object"},translations:{attribute:"translations",type:"Object"},products:{attribute:"products",type:"Array"},mediaImages:{attribute:"media-images",type:"Array"}},[],[],!1,(e=>class extends e{constructor(){super(),c(this,"component"),this.component=this}})));var dl=In('<img alt="" class="kaching-bundles__bundle-products__image">');function gl(e,t){an(t,!0);const n=Mr(t,"image",7),r=Mr(t,"linkUrl",7);return Ka(e,{get url(){return r()},className:"kaching-bundles__bundle-products__link",children:(e,t)=>{var r=dl();gr(r,"height",50),gr(r,"width",50),je((()=>gr(r,"src",n()))),qn(e,r)},$$slots:{default:!0}}),ln({get image(){return n()},set image(e){n(e),jt()},get linkUrl(){return r()},set linkUrl(e){r(e),jt()}})}Or(gl,{image:{},linkUrl:{}},[],[],!0);var vl=In('<span class="kaching-bundles__bundle-products__quantity"> </span>'),pl=In('<div class="kaching-bundles__bundle-products__title"><!> <span> </span></div>');function fl(e,t){an(t,!0);const n=Mr(t,"title",7),r=Mr(t,"quantity",7),a=Mr(t,"linkUrl",7);return Ka(e,{get url(){return a()},className:"kaching-bundles__bundle-products__link",children:(e,t)=>{var a=pl(),i=me(a),l=e=>{var t=vl(),n=me(t);ee(t),je((()=>{var e;return Dn(n,`${null!=(e=r())?e:""}x`)})),qn(e,t)};Fn(i,(e=>{r()>1&&e(l)}));var s=ye(i,2),c=me(s,!0);ee(s),ee(a),je((()=>Dn(c,n()))),qn(e,a)},$$slots:{default:!0}}),ln({get title(){return n()},set title(e){n(e),jt()},get quantity(){return r()},set quantity(e){r(e),jt()},get linkUrl(){return a()},set linkUrl(e){a(e),jt()}})}Or(fl,{title:{},quantity:{},linkUrl:{}},[],[],!0);var hl=In('<span class="kaching-bundles__bundle-products__price"><!></span>'),bl=In('<span class="kaching-bundles__bundle-products__full-price"><!></span>'),ml=In('<div class="kaching-bundles__bundle-products__pricing"><!> <!></div>');function _l(e,t){an(t,!0);const[n,r]=Dr(),a=()=>qr(Ha,"$priceFormatter",n);let i=Mr(t,"discountedPrice",7),l=Mr(t,"fullPrice",7);var s=ml(),c=me(s);Nn(c,i,(e=>{var t=hl();Qn(me(t),(()=>a()(i()))),ee(t),qn(e,t)}));var u=ye(c,2),o=e=>{var t=xn();Nn(_e(t),l,(e=>{var t=bl();Qn(me(t),(()=>a()(l()))),ee(t),qn(e,t)})),qn(e,t)};Fn(u,(e=>{i()<l()&&e(o)})),ee(s),qn(e,s);var d=ln({get discountedPrice(){return i()},set discountedPrice(e){i(e),jt()},get fullPrice(){return l()},set fullPrice(e){l(e),jt()}});return r(),d}Or(_l,{discountedPrice:{},fullPrice:{}},[],[],!0);var yl=In("<!> <!> <!> <!>",1),kl=In('<div class="kaching-bundles__bundle-products__wrapper"><!> <div class="kaching-bundles__bundle-products__content"><!> <!></div></div> <!>',1),Pl=In('<div class="kaching-bundles__bundle-products__product"><!></div>');function wl(e,t){an(t,!0);let n=Mr(t,"config",7),r=Mr(t,"dealBlock",7),a=Mr(t,"layout",7),i=Mr(t,"swatchSettings",7),l=Mr(t,"bundleProduct",7),s=Mr(t,"product",7),c=Mr(t,"mediaImages",23,(()=>[])),u=Mr(t,"dealBarSelected",7),o=Mr(t,"currentVariantId",7),d=Mr(t,"priceRounding",7),g=Mr(t,"sellingPlan",7),v=Mr(t,"onChange",7),p=Zt(void 0);const f=Be((()=>function(e,t,n,r){if(void 0!==e&&n){if(n.variants.some((t=>t.id===e)))return e}if("default"===t.productGID&&r)return r;if(t.variantGID)return aa(t.variantGID);if(n&&n.variants.length>0)return n.variants[0].id;return}(Et(p),l(),s(),o()))),h=Be((()=>{var e;return Et(f)?null==(e=s())?void 0:e.variants.find((e=>e.id===Et(f))):void 0})),b=Be((()=>Oa({discountType:l().discountType,discountValue:l().discountValue,discountQuantity:l().quantity,variantQuantities:Et(h)?[{variant:Et(h),quantity:l().quantity}]:[],currencyRate:n().currencyRate,priceRounding:d(),sellingPlan:g()}))),m=Be((()=>function(e){if(!e)return 0;let t=e.price;r().useProductCompareAtPrice&&e.compareAtPrice&&(t=Math.max(t,e.compareAtPrice));return t*l().quantity}(Et(h)))),_=Be((()=>{var e;return(null==(e=s())?void 0:e.url)&&Et(h)?`${s().url}?variant=${Et(h).id}`:void 0})),y=Be((()=>{var e,t;return(null==(e=Et(h))?void 0:e.image)||(null==(t=s())?void 0:t.image)})),k=Be((()=>u()&&s()&&s().variants.length>1&&!l().variantGID&&Et(f))),P=Be((()=>u()&&"default"!==l().productGID?Et(_):void 0));function w(e){Yt(p,e,!0)}Me((()=>{Et(h)&&Lt((()=>{v()({variant:Et(h),quantity:l().quantity})}))}));var $=xn(),S=_e($),I=e=>{var t=Pl(),r=me(t),u=e=>{var t=yl(),r=_e(t);gl(r,{get image(){return Et(y)},get linkUrl(){return Et(P)}});var a=ye(r,2);fl(a,{get title(){return s().title},get quantity(){return l().quantity},get linkUrl(){return Et(P)}});var u=ye(a,2);_l(u,{get discountedPrice(){return Et(b)},get fullPrice(){return Et(m)}});var o=ye(u,2),d=e=>{const t=Be((()=>Et(f)||0));Ia(e,{get config(){return n()},get product(){return s()},get selectedVariantId(){return Et(t)},get swatchSettings(){return i()},get mediaImages(){return c()},onChange:w})};Fn(o,(e=>{Et(k)&&e(d)})),qn(e,t)},o=e=>{var t=kl(),r=_e(t),a=me(r);gl(a,{get image(){return Et(y)},get linkUrl(){return Et(P)}});var u=ye(a,2),o=me(u);fl(o,{get title(){return s().title},get quantity(){return l().quantity},get linkUrl(){return Et(P)}});var d=ye(o,2),g=e=>{const t=Be((()=>Et(f)||0));Ia(e,{get config(){return n()},get product(){return s()},get selectedVariantId(){return Et(t)},get swatchSettings(){return i()},get mediaImages(){return c()},onChange:w})};Fn(d,(e=>{Et(k)&&e(g)})),ee(u),ee(r),_l(ye(r,2),{get discountedPrice(){return Et(b)},get fullPrice(){return Et(m)}}),qn(e,t)};Fn(r,(e=>{"horizontal"===a()?e(u):e(o,!1)})),ee(t),qn(e,t)};return Fn(S,(e=>{s()&&e(I)})),qn(e,$),ln({get config(){return n()},set config(e){n(e),jt()},get dealBlock(){return r()},set dealBlock(e){r(e),jt()},get layout(){return a()},set layout(e){a(e),jt()},get swatchSettings(){return i()},set swatchSettings(e){i(e),jt()},get bundleProduct(){return l()},set bundleProduct(e){l(e),jt()},get product(){return s()},set product(e){s(e),jt()},get mediaImages(){return c()},set mediaImages(e=[]){c(e),jt()},get dealBarSelected(){return u()},set dealBarSelected(e){u(e),jt()},get currentVariantId(){return o()},set currentVariantId(e){o(e),jt()},get priceRounding(){return d()},set priceRounding(e){d(e),jt()},get sellingPlan(){return g()},set sellingPlan(e){g(e),jt()},get onChange(){return v()},set onChange(e){v(e),jt()}})}Or(wl,{config:{},dealBlock:{},layout:{},swatchSettings:{},bundleProduct:{},product:{},mediaImages:{},dealBarSelected:{},currentVariantId:{},priceRounding:{},sellingPlan:{},onChange:{}},[],[],!0);var $l=Bn('<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="10" r="10" fill="currentColor"></circle><path fill="#fff" d="M5 9h10v2H5z"></path><path fill="#fff" d="M11 5v10H9V5z"></path></svg>');function Sl(e){qn(e,$l())}function Il(e,t,n){t()({dealBarId:n().id,variantIds:[],preselected:!1})}Or(Sl,{},[],[],!0);var Bl=In('<img class="kaching-bundles__bar-image" alt="">'),Cl=In('<div class="kaching-bundles__bar-radio"></div>'),xl=In('<span class="kaching-bundles__bar-title"><!></span>'),ql=In('<span class="kaching-bundles__bar-label"><!></span>'),Dl=In('<div class="kaching-bundles__bar-subtitle"><!></div>'),Tl=In('<div class="kaching-bundles__bar-price"><!></div>'),Vl=In('<div class="kaching-bundles__bar-full-price"><!></div>'),Al=In("<!> <!>",1),Ml=In('<!> <div class="kaching-bundles__bar-content"><div class="kaching-bundles__bar-content-left"><div class="kaching-bundles__bar-first-line"><!> <!></div> <!></div> <div class="kaching-bundles__bar-pricing"><!></div></div>',1),zl=In('<div class="kaching-bundles__bundle-products__product kaching-bundles__bundle-products__product--placeholder"><span>Select product</span></div>'),Fl=In('<div class="kaching-bundles__bundle-products__divider"><div class="kaching-bundles__bundle-products__divider-line"></div> <div class="kaching-bundles__bundle-products__divider-icon"><!></div> <div class="kaching-bundles__bundle-products__divider-line"></div></div>'),Nl=In("<!> <!>",1),Ol=In("<div></div>"),Gl=In('<div><input type="radio"> <label><!> <div class="kaching-bundles__bar-wrapper"><!> <!></div> <!> <!></label></div>');function jl(e,t){an(t,!0);const[n,r]=Dr(),a=()=>qr(Ha,"$priceFormatter",n),i=()=>qr(T,"$translate",n),l=Mr(t,"config",7),s=Mr(t,"dealBlock",7),c=Mr(t,"swatchSettings",7),u=Mr(t,"dealBar",7),o=Mr(t,"product",7),d=Mr(t,"otherProducts",23,(()=>[])),g=Mr(t,"complementaryProducts",23,(()=>[])),v=Mr(t,"mediaImages",23,(()=>[])),p=Mr(t,"currentVariantId",7),f=Mr(t,"componentId",7),h=Mr(t,"selected",7,!1),b=Mr(t,"sellingPlan",7),m=Mr(t,"onDealBarSelect",7),_=Mr(t,"onDealBarDeselect",7),y=Mr(t,"onVariantSelect",7),k=Mr(t,"onVariantsChange",7);let P=Zt(se({})),w=Zt(se([])),$=Zt(se([]));const S=Be((()=>`${u().id}_${f()}`)),I=Be((()=>u().bundleProducts.filter((({productGID:e})=>e)))),B=Be((()=>Et(I).every((e=>O(e,o(),d()))))),C=Be((()=>s()?function(e,t){const n=u().bundleProducts.map((n=>{const r=t[n.id];if(!r)return 0;const{variant:a,quantity:i}=r;let l=a.price;return a.compareAtPrice&&e.useProductCompareAtPrice&&(l=Math.max(l,a.compareAtPrice)),l*i}));return n.reduce(((e,t)=>e+t),0)}(s(),Et(P)):0)),x=Be((()=>s().priceRounding?{perItem:s().showPricesPerItem,precision:s().priceRoundingPrecision}:void 0)),q=Be((()=>s()?function(e,t,n,r,a){return e.bundleProducts.filter((({productGID:e})=>e)).map((e=>{const i=t[e.id];return i?Oa({discountType:e.discountType,discountValue:e.discountValue,discountQuantity:e.quantity,variantQuantities:[i],currencyRate:n,priceRounding:r,sellingPlan:a}):0})).reduce(((e,t)=>e+t),0)}(u(),Et(P),l().currencyRate,Et(x),b()):0)),D=Be((()=>Na({priceFormatter:a(),product:o(),dealBar:u(),totalFullPrice:Et(C),totalDiscountedPrice:Et(q),quantity:1}))),T=Yr(),V=Be((()=>Et(D)(i()(u().title)))),A=Be((()=>Et(D)(i()(u().subtitle)))),M=Be((()=>Et(D)(i()(u().label)))),z=Be((()=>Et(D)(i()(u().badgeText)))),F=Be((()=>("most-popular"===u().badgeStyle||"simple"===u().badgeStyle&&Et(z))&&"vertical"===s().blockLayout)),N=Be((()=>v()&&function(e){if(!e)return;const t=v().find((t=>t.gid===e));return null==t?void 0:t.url}(u().mediaImageGID)||Qa));function O(e,t,n){return"default"===e.productGID?t:n.find((t=>t.id===aa(e.productGID)))}Pr((()=>{h()&&m()({dealBarId:u().id,variantIds:[],preselected:!0})})),Me((()=>{h()&&(ae(Et(P)),ae(Et($)),ae(Et(w)),b(),Lt((()=>{!function(){if(!u().bundleProducts.map((({id:e})=>e)).every((e=>Et(P)[e])))return;const e=[];for(const r of u().bundleProducts){const t=Et(P)[r.id];t&&e.push({id:r.id,variant:t.variant,quantity:t.quantity})}if(0===e.length)return;const t=Et(q)+Et($).reduce(((e,t)=>e+t.discountedPrice),0),n=Et(C)+Et($).reduce(((e,t)=>e+t.fullPrice),0)+Et(w).reduce(((e,t)=>e+t.fullPrice),0);k()({bundleProducts:e,freeGifts:Et(w),upsells:Et($),pricing:{discountedPrice:t,fullPrice:n,discountedPricePerItem:Et(q),fullPricePerItem:Et(C)},preselected:!1})}()})))}));var G=Gl();let j;var R=me(G);cr(R),R.__change=[Il,m,u];var E=ye(R,2);let L;var Q=me(E),U=e=>{const t=Be((()=>Et(z)||void 0));Ta(e,{get style(){return u().badgeStyle},get text(){return Et(t)}})};Fn(Q,(e=>{Et(F)&&e(U)}));var H=ye(Q,2),J=me(H);Kr(J,{element:"div",class:"kaching-bundles__bar-main",onclick:function(e){h()&&(e.preventDefault(),e.stopPropagation(),_()())},children:(e,t)=>{var n=Ml(),r=_e(n),i=e=>{var t=Bl();je((()=>gr(t,"src",Et(N)))),qn(e,t)},l=e=>{qn(e,Cl())};Fn(r,(e=>{u().mediaImageGID?e(i):e(l,!1)}));var s=ye(r,2),c=me(s),o=me(c),d=me(o);Nn(d,(()=>Et(V)),(e=>{var t=xl();Qn(me(t),(()=>Et(V))),ee(t),qn(e,t)}));var g=ye(d,2),v=e=>{var t=xn();Nn(_e(t),(()=>Et(M)),(e=>{var t=ql();Qn(me(t),(()=>Et(M))),ee(t),qn(e,t)})),qn(e,t)};Fn(g,(e=>{Et(M)&&e(v)})),ee(o);var p=ye(o,2),f=e=>{var t=xn();Nn(_e(t),(()=>Et(A)),(e=>{var t=Dl();Qn(me(t),(()=>Et(A))),ee(t),qn(e,t)})),qn(e,t)};Fn(p,(e=>{Et(A)&&e(f)})),ee(c);var h=ye(c,2),b=me(h),m=e=>{var t=Al(),n=_e(t);Nn(n,(()=>Et(q)),(e=>{var t=Tl();Qn(me(t),(()=>a()(Et(q)))),ee(t),qn(e,t)}));var r=ye(n,2),i=e=>{var t=xn();Nn(_e(t),(()=>Et(C)),(e=>{var t=Vl();Qn(me(t),(()=>a()(Et(C)))),ee(t),qn(e,t)})),qn(e,t)};Fn(r,(e=>{Et(q)<Et(C)&&e(i)})),qn(e,t)};Fn(b,(e=>{Et(B)&&e(m)})),ee(h),ee(s),qn(e,n)},$$slots:{default:!0}});var W=ye(J,2),K=e=>{var t=Ol();let n;Gn(t,23,(()=>u().bundleProducts),(e=>e.id),((e,t,n)=>{var r=Nl(),a=_e(r),i=e=>{const n=Be((()=>O(Et(t),o(),d()))),r=Be((()=>u().layout||"horizontal"));wl(e,{get bundleProduct(){return Et(t)},get product(){return Et(n)},get config(){return l()},get dealBlock(){return s()},get layout(){return Et(r)},get dealBarSelected(){return h()},get priceRounding(){return Et(x)},get swatchSettings(){return c()},get mediaImages(){return v()},get currentVariantId(){return p()},get sellingPlan(){return b()},onChange:e=>function(e,t){const{variant:n,quantity:r}=t;if(Et(P)[e]={variant:n,quantity:r},!h())return;u().bundleProducts.map((({id:e})=>e)).every((e=>Et(P)[e]))&&e===u().bundleProducts[0].id&&y()({variantId:n.id})}(Et(t).id,e)})},g=(e,t)=>{var n=e=>{qn(e,zl())};Fn(e,(e=>{l().preview&&e(n)}),t)};Fn(a,(e=>{Et(t).productGID?e(i):e(g,!1)}));var f=ye(a,2),m=e=>{var t=Fl(),n=ye(me(t),2);Sl(me(n)),ee(n),te(2),ee(t),qn(e,t)};Fn(f,(e=>{Et(n)<u().bundleProducts.length-1&&e(m)})),qn(e,r)})),ee(t),je((e=>n=tr(t,1,"kaching-bundles__bundle-products",null,n,e)),[()=>({"kaching-bundles__bundle-products--vertical":"vertical"===u().layout})]),qn(e,t)};Fn(W,(e=>{Et(B)&&e(K)})),ee(H);var Z=ye(H,2);const X=Be((()=>u().upsells||[]));Bi(Z,{get config(){return l()},get dealBlock(){return s()},get upsells(){return Et(X)},get otherProducts(){return d()},get complementaryProducts(){return g()},get mediaImages(){return v()},get swatchSettings(){return c()},get dealBarSelected(){return h()},get sellingPlan(){return b()},onChange:e=>{Yt($,e,!0)}});var Y=ye(Z,2);const ne=Be((()=>u().freeGifts||[]));ai(Y,{get config(){return l()},get dealBlock(){return s()},get freeGifts(){return Et(ne)},get otherProducts(){return d()},get mediaImages(){return v()},get swatchSettings(){return c()},get dealBarSelected(){return h()},onChange:e=>{Yt(w,e,!0)}}),ee(E),ee(G),je(((e,t)=>{var n;j=tr(G,1,"kaching-bundles__bar",null,j,e),gr(G,"data-deal-bar-id",u().id),gr(R,"name",`kaching-bundles-deal-${null!=(n=f())?n:""}`),ur(R,u().id),gr(R,"id",Et(S)),or(R,h()),gr(E,"for",Et(S)),L=tr(E,1,"kaching-bundles__bar-container",null,L,t)}),[()=>({"kaching-bundles__bar--selected":h()}),()=>({"kaching-bundles__bar-container--most-popular":Et(F),"kaching-bundles__bar-container--most-popular--simple":Et(F)&&"simple"===u().badgeStyle,"kaching-bundles__bar-container--most-popular--fancy":Et(F)&&"most-popular"===u().badgeStyle})]),qn(e,G);var re=ln({get config(){return l()},set config(e){l(e),jt()},get dealBlock(){return s()},set dealBlock(e){s(e),jt()},get swatchSettings(){return c()},set swatchSettings(e){c(e),jt()},get dealBar(){return u()},set dealBar(e){u(e),jt()},get product(){return o()},set product(e){o(e),jt()},get otherProducts(){return d()},set otherProducts(e=[]){d(e),jt()},get complementaryProducts(){return g()},set complementaryProducts(e=[]){g(e),jt()},get mediaImages(){return v()},set mediaImages(e=[]){v(e),jt()},get currentVariantId(){return p()},set currentVariantId(e){p(e),jt()},get componentId(){return f()},set componentId(e){f(e),jt()},get selected(){return h()},set selected(e=!1){h(e),jt()},get sellingPlan(){return b()},set sellingPlan(e){b(e),jt()},get onDealBarSelect(){return m()},set onDealBarSelect(e){m(e),jt()},get onDealBarDeselect(){return _()},set onDealBarDeselect(e){_(e),jt()},get onVariantSelect(){return y()},set onVariantSelect(e){y(e),jt()},get onVariantsChange(){return k()},set onVariantsChange(e){k(e),jt()}});return r(),re}function Rl(e,t="body"){let n;async function r(r){if("string"==typeof(t=r)){if(n=document.querySelector(t),null===n&&(await Rt(),n=document.querySelector(t)),null===n)throw new Error(`No element found matching css selector: "${t}"`)}else{if(!(t instanceof HTMLElement))throw new TypeError(`Unknown portal target type: ${null===t?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);n=t}n.appendChild(e),e.hidden=!1}return r(t),{update:r,destroy:function(){e.parentNode&&e.parentNode.removeChild(e)}}}Pn(["change"]),Or(jl,{config:{},dealBlock:{},swatchSettings:{},dealBar:{},product:{},otherProducts:{},complementaryProducts:{},mediaImages:{},currentVariantId:{},componentId:{},selected:{},sellingPlan:{},onDealBarSelect:{},onDealBarDeselect:{},onVariantSelect:{},onVariantsChange:{}},[],[],!0);var El=In("<div hidden><!></div>");function Ll(e,t){an(t,!1);let n=Mr(t,"target",12,"body");yr();var r=El();return Un(me(r),t,"default",{}),ee(r),Wn(r,((e,t)=>null==Rl?void 0:Rl(e,t)),n),qn(e,r),ln({get target(){return n()},set target(e){n(e),jt()}})}Or(Ll,{target:{}},["default"],[],!0);function Ql(e,t){e.target===e.currentTarget&&Yt(t,!1)}var Ul=In('<img class="kaching-bundles__collection-product__image" alt="">'),Hl=In('<span class="kaching-bundles__collection-product__title"> </span>'),Jl=In('<img alt="">'),Wl=In('<div class="kaching-bundles__collection-product"><div class="kaching-bundles__collection-product__main"><!> <div class="kaching-bundles__collection-product__content"><!> <!></div></div> <!></div>'),Kl=In('<img class="kaching-bundles__collection-product__image" alt="" height="40" width="40">'),Zl=In('<img class="kaching-bundles__collection-product__image kaching-bundles__collection-product__image--default" alt="">'),Xl=In('<div class="kaching-bundles"><div class="kaching-bundles__choose-product-modal" role="none"><div class="kaching-bundles__choose-product-modal__content"><!></div></div></div>'),Yl=In('<div class="kaching-bundles__collection-product"><div class="kaching-bundles__collection-product__main"><!> <!></div> <!></div>');function es(e,t){an(t,!0);const[n,r]=Dr(),a=Mr(t,"config",7),i=Mr(t,"dealBlock",7),l=Mr(t,"dealBar",7),s=Mr(t,"swatchSettings",7),c=Mr(t,"mediaImages",23,(()=>[])),u=Mr(t,"mainProduct",7,null),o=Mr(t,"products",7),d=Mr(t,"selectedProductVariant",7,null),g=Mr(t,"onChange",7),v=Mr(t,"onRemove",7),p=Yr();let f=Zt(!1);const h=Be((()=>i().collectionBreaks)),b=Be((()=>{var e;return(null==(e=d())?void 0:e.product)||u()})),m=Be((()=>{var e,t;return(null==(e=d())?void 0:e.variant)||(null==(t=Et(b))?void 0:t.variants[0])||null})),_=Be((()=>c()&&function(e){if(!e)return;const t=c().find((t=>t.gid===e));return null==t?void 0:t.url}(Et(h).mediaImageGID))),y=Be((()=>qr(p,"$translate",n)(Et(h).buttonText))),k=Be((()=>{var e,t;return(null==(e=Et(b))?void 0:e.url)?`${Et(b).url}?variant=${null==(t=Et(m))?void 0:t.id}`:void 0}));function P(e){Yt(f,!1),g()(e)}function w(){var e;null==(e=v())||e()}function $(e){const t=Et(b).variants.find((t=>t.id===e));t&&g()({product:Et(b),variant:t})}var S=xn(),I=_e(S),B=e=>{var t=Wl(),n=me(t),r=me(n);const i=Be((()=>u()?void 0:Et(k)));Ka(r,{get url(){return Et(i)},className:"kaching-bundles__collection-product__link",children:(e,t)=>{var n=Ul();je((()=>gr(n,"src",Et(m).image||Et(b).image))),qn(e,n)},$$slots:{default:!0}});var l=ye(r,2),o=me(l),d=e=>{const t=Be((()=>u()?void 0:Et(k)));Ka(e,{get url(){return Et(t)},className:"kaching-bundles__collection-product__link",children:(e,t)=>{var n=Hl(),r=me(n,!0);ee(n),je((()=>Dn(r,Et(b).title))),qn(e,n)},$$slots:{default:!0}})};Fn(o,(e=>{Et(h).showProductName&&e(d)}));var g=ye(o,2),v=e=>{const t=Be((()=>{var e;return null==(e=Et(m))?void 0:e.id}));Ia(e,{get config(){return a()},get product(){return Et(b)},get selectedVariantId(){return Et(t)},get swatchSettings(){return s()},get mediaImages(){return c()},onChange:$})};Fn(g,(e=>{Et(b).variants.length>1&&e(v)})),ee(l),ee(n);var p=ye(n,2),f=e=>{Kr(e,{element:"div",class:"kaching-bundles__collection-product__remove-button","aria-label":"Remove product",onclick:w,children:(e,t)=>{var n=Jl();gr(n,"src","data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%201L1%2011M1%201L11%2011'%20stroke='%23344054'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e"),qn(e,n)},$$slots:{default:!0}})};Fn(p,(e=>{u()||e(f)})),ee(t),qn(e,t)},C=e=>{var t=Yl(),n=me(t),r=me(n);Kr(r,{element:"div",class:"kaching-bundles__collection-product__choose-product-image",onclick:()=>{Yt(f,!0)},children:(e,t)=>{var n=xn(),r=_e(n),a=e=>{var t=xn(),n=_e(t),r=e=>{var t=Kl();je((()=>gr(t,"src",Et(_)))),qn(e,t)};Fn(n,(e=>{Et(_)&&e(r)})),qn(e,t)},i=e=>{var t=Zl();gr(t,"src","data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='40'%20height='40'%20fill='%23FDFDFD'/%3e%3cpath%20d='M17.3291%2025.3624V25.0773C17.3376%2023.5646%2017.4856%2022.3619%2017.7732%2021.4692C18.0693%2020.5683%2018.488%2019.8409%2019.0293%2019.2871C19.5792%2018.7333%2020.239%2018.2249%2021.0087%2017.762C21.5163%2017.4562%2021.973%2017.1132%2022.3791%2016.733C22.7851%2016.3445%2023.1065%2015.9105%2023.3434%2015.4311C23.5802%2014.9434%2023.6987%2014.3979%2023.6987%2013.7945C23.6987%2013.1084%2023.5337%2012.5091%2023.2038%2011.9967C22.8739%2011.4842%2022.4256%2011.0916%2021.8588%2010.8188C21.3006%2010.5378%2020.6788%2010.3972%2019.9937%2010.3972C19.3762%2010.3972%2018.784%2010.5295%2018.2173%2010.794C17.6505%2011.0502%2017.1811%2011.4429%2016.8089%2011.9719C16.4367%2012.5009%2016.2294%2013.1787%2016.1872%2014.0052H12C12.0508%2012.4761%2012.4356%2011.1907%2013.1546%2010.1493C13.8821%209.10777%2014.8422%208.32252%2016.0349%207.79351C17.2361%207.2645%2018.5641%207%2020.019%207C21.6008%207%2022.9923%207.28104%2024.1935%207.84311C25.3947%208.39692%2026.3294%209.1863%2026.9976%2010.2113C27.6659%2011.2279%2028%2012.4182%2028%2013.7821C28%2014.7244%2027.8477%2015.5675%2027.5432%2016.3114C27.2387%2017.0471%2026.8073%2017.7042%2026.249%2018.2828C25.6907%2018.8614%2025.0267%2019.378%2024.2569%2019.8326C23.5549%2020.2542%2022.9839%2020.6964%2022.544%2021.1593C22.1126%2021.6139%2021.7912%2022.1512%2021.5797%2022.7711C21.3767%2023.391%2021.2709%2024.1598%2021.2625%2025.0773V25.3624H17.3291ZM19.3973%2033C18.6614%2033%2018.0312%2032.7479%2017.5067%2032.2437C16.9907%2031.7312%2016.7328%2031.1154%2016.7328%2030.3963C16.7328%2029.6854%2016.9907%2029.0779%2017.5067%2028.5737C18.0312%2028.0612%2018.6614%2027.805%2019.3973%2027.805C20.1163%2027.805%2020.738%2028.0612%2021.2625%2028.5737C21.7954%2029.0779%2022.0619%2029.6854%2022.0619%2030.3963C22.0619%2030.8674%2021.9392%2031.3014%2021.6939%2031.6981C21.4486%2032.0949%2021.1229%2032.4131%2020.7169%2032.6528C20.3193%2032.8843%2019.8795%2033%2019.3973%2033Z'%20fill='black'/%3e%3c/svg%3e"),qn(e,t)};Fn(r,(e=>{Et(h).mediaImageGID?e(a):e(i,!1)})),qn(e,n)},$$slots:{default:!0}});var u=ye(r,2),d=e=>{Kr(e,{element:"div",class:"kaching-bundles__collection-product__choose-product-button",onclick:()=>{Yt(f,!0)},children:(e,t)=>{te();var n=Cn();je((()=>Dn(n,Et(y)))),qn(e,n)},$$slots:{default:!0}})};Fn(u,(e=>{Et(y)&&e(d)})),ee(n);var g=ye(n,2),v=e=>{Ll(e,{target:"body",children:(e,t)=>{var n=Xl(),r=me(n);r.__click=[Ql,f];var u=me(r);cl(me(u),{get config(){return a()},get dealBlock(){return i()},get dealBar(){return l()},get products(){return o()},get swatchSettings(){return s()},get mediaImages(){return c()},onChoose:P,onClose:()=>{Yt(f,!1)}}),ee(u),ee(r),ee(n),je((e=>rr(r,e)),[()=>Er({"kaching-choose-product-overlay-color":Rr(i().chooseProductModal.overlayColor)})]),qn(e,n)},$$slots:{default:!0}})};Fn(g,(e=>{Et(f)&&e(v)})),ee(t),qn(e,t)};Fn(I,(e=>{Et(b)&&Et(m)?e(B):e(C,!1)})),qn(e,S);var x=ln({get config(){return a()},set config(e){a(e),jt()},get dealBlock(){return i()},set dealBlock(e){i(e),jt()},get dealBar(){return l()},set dealBar(e){l(e),jt()},get swatchSettings(){return s()},set swatchSettings(e){s(e),jt()},get mediaImages(){return c()},set mediaImages(e=[]){c(e),jt()},get mainProduct(){return u()},set mainProduct(e=null){u(e),jt()},get products(){return o()},set products(e){o(e),jt()},get selectedProductVariant(){return d()},set selectedProductVariant(e=null){d(e),jt()},get onChange(){return g()},set onChange(e){g(e),jt()},get onRemove(){return v()},set onRemove(e){v(e),jt()}});return r(),x}Pn(["click"]),Or(es,{config:{},dealBlock:{},dealBar:{},swatchSettings:{},mediaImages:{},mainProduct:{},products:{},selectedProductVariant:{},onChange:{},onRemove:{}},[],[],!0);const ts=Ir({});function ns(e,t){ts.update((n=>({...n,[e]:t})))}var rs=In('<img class="kaching-bundles__bar-image" alt="">'),as=In('<div class="kaching-bundles__bar-radio"></div>'),is=In('<span class="kaching-bundles__bar-title"><!></span>'),ls=In('<span class="kaching-bundles__bar-label"><!></span>'),ss=In('<div class="kaching-bundles__bar-subtitle"><!></div>'),cs=In('<div class="kaching-bundles__bar-price"><!></div>'),us=In('<div class="kaching-bundles__bar-full-price"><!></div>'),os=In('<div class="kaching-bundles__bar-price"><!></div>'),ds=In('<div class="kaching-bundles__bar-full-price"><!></div>'),gs=In('<div class="kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--secondary"><!> <!></div>'),vs=In('<div class="kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--main"><!> <!></div> <!>',1),ps=In('<div class="kaching-bundles__bar-price"><!></div>'),fs=In('<div class="kaching-bundles__bar-full-price"><!></div>'),hs=In("<!> <!>",1),bs=In('<!> <div class="kaching-bundles__bar-content"><div class="kaching-bundles__bar-content-left"><div class="kaching-bundles__bar-first-line"><!> <!></div> <!></div> <div class="kaching-bundles__bar-pricing"><!></div></div>',1),ms=In('<div class="kaching-bundles__bar-collection-products"></div>'),_s=In('<div><input type="radio"> <label><!> <div class="kaching-bundles__bar-wrapper"><!> <!></div> <!> <!></label></div>');function ys(e,t){an(t,!1);const[n,r]=Dr(),a=()=>qr(ts,"$chosenCollectionBreaksProducts",n),i=()=>qr(Ha,"$priceFormatter",n),l=()=>qr(G,"$translate",n),s=Xt(),c=Xt(),u=Xt(),o=Xt(),d=Xt(),g=Xt(),v=Xt(),p=Xt(),f=Xt(),h=Xt(),b=Xt(),m=Xt(),_=Xt(),y=Xt(),k=Xt(),P=Xt(),w=Xt(),$=Xt();let S=Mr(t,"config",12),I=Mr(t,"dealBlock",12),B=Mr(t,"swatchSettings",12),C=Mr(t,"dealBar",12),x=Mr(t,"product",12),q=Mr(t,"collectionBreaksProducts",28,(()=>[])),D=Mr(t,"otherProducts",28,(()=>[])),T=Mr(t,"complementaryProducts",28,(()=>[])),V=Mr(t,"mediaImages",28,(()=>[])),A=Mr(t,"customQuantity",12,void 0),M=Mr(t,"currentVariantId",12),z=Mr(t,"componentId",12),F=Mr(t,"selected",12,!1),N=Mr(t,"sellingPlan",12);const O=wr(),G=Yr();let j=!1,R=Xt([]),E=Xt([]);function L(e){return"bxgy"===e.dealBarType?e.buyQuantity+e.getQuantity:Number(e.quantity)}Pr((()=>{F()&&(O("dealBarSelected",{dealBarId:C().id,dealBarQuantity:L(C()),variantIds:[],preselected:!0}),Q(!0)),j=!0}));function Q(e=!1){if(!j&&!e)return;const t=Object.values(Et(o)).map((e=>({variant:e.variant,quantity:1}))),n=Et(y)+Et(E).reduce(((e,t)=>e+t.discountedPrice),0),r=Et(m)+Et(E).reduce(((e,t)=>e+t.fullPrice),0)+Et(R).reduce(((e,t)=>e+t.fullPrice),0);O("variantsChanged",{variants:t,freeGifts:Et(R),upsells:Et(E),pricing:{discountedPrice:n,fullPrice:r,discountedPricePerItem:Et(k),fullPricePerItem:Et(_)},preselected:!1})}Ne((()=>Ht(I())),(()=>{Yt(s,I().priceRounding?{perItem:I().showPricesPerItem,precision:I().priceRoundingPrecision}:void 0)})),Ne((()=>(Ht(I()),Ht(x()),Ht(C()))),(()=>{var e,t;Yt(c,I()&&(null==(t=null==(e=I().defaultVariantsV2)?void 0:e.find((e=>aa(e.productGID)===x().id&&e.dealBarId===C().id)))?void 0:t.variantGIDs)||[])})),Ne((()=>(Ht(A()),Ht(C()))),(()=>{Yt(u,A()||L(C()))})),Ne((()=>(Ht(M()),Et(c))),(()=>{M()&&function(e,t){if(0===Object.keys(a()).length&&e[0]){const t=aa(e[0]),n=x().variants.find((e=>e.id==t));if(n)return void ns(0,{product:x(),variant:n})}const n=x().variants.find((e=>e.id==t));ns(0,{product:x(),variant:n})}(Et(c),M())})),Ne((()=>(a(),Et(u))),(()=>{Yt(o,Object.fromEntries(Object.entries(a()).filter((([e])=>Number(e)<Et(u)))))})),Ne((()=>(Et(o),Et(u),Ht(I()),Ht(q()),Ht(x()))),(()=>{Yt(d,(()=>{var e;const t=Object.values(Et(o)).map((e=>({quantity:1,variant:e.variant})));if(0===t.length||t.length>=Et(u)||(null==(e=I().collectionBreaks)?void 0:e.showChosenProductsPriceOnly))return t;const n=Et(u)-t.length;if(0===q().length||q().find((e=>e.id===x().id))){const e=Array(n).fill(t[0]);return[...t,...e]}{const e=q().flatMap((e=>e.variants)).filter((e=>e.availableForSale)),r=e.reduce(((e,t)=>t.price<e.price?t:e),e[0]),a=Array(n).fill({quantity:1,variant:r});return[...t,...a]}})())})),Ne((()=>(Ht(I()),Ht(C()),Et(d))),(()=>{var e,t;Yt(m,(e=I(),t=C(),Et(d).map((({variant:n,quantity:r})=>{let a=n.price;const i=e.useProductCompareAtPrice||(void 0===t.dealBarType||"quantity-break"===t.dealBarType)&&"default"===t.discountType;return n.compareAtPrice&&i&&(a=Math.max(a,n.compareAtPrice)),a*r})).reduce(((e,t)=>e+t),0)))})),Ne((()=>(Ht(I()),Et(d),Ht(N()))),(()=>{Yt(y,I()&&function(e,t){switch(C().dealBarType){case void 0:case"quantity-break":return Ga(C(),e,S().currencyRate,Et(s),t);case"bxgy":return ja(C(),e,t)}}(Et(d),N()))})),Ne((()=>(i(),Ht(x()),Ht(C()),Et(m),Et(y),Et(u),Ht(S()))),(()=>{Yt(g,Na({priceFormatter:i(),product:x(),dealBar:C(),totalFullPrice:Et(m),totalDiscountedPrice:Et(y),quantity:Et(u),legacySavedPercentage:S().featureFlags.legacy_saved_percentage||!1}))})),Ne((()=>(Et(g),l(),Ht(C()))),(()=>{Yt(v,Et(g)(l()(C().title)))})),Ne((()=>(Et(g),l(),Ht(C()))),(()=>{Yt(p,Et(g)(l()(C().subtitle)))})),Ne((()=>(Et(g),l(),Ht(C()))),(()=>{Yt(f,Et(g)(l()(C().label)))})),Ne((()=>(Et(g),l(),Ht(C()))),(()=>{Yt(h,Et(g)(l()(C().badgeText)))})),Ne((()=>(Ht(C()),Et(h),Ht(I()))),(()=>{Yt(b,("most-popular"===C().badgeStyle||"simple"===C().badgeStyle&&Et(h))&&"vertical"===I().blockLayout)})),Ne((()=>(Et(m),Et(d))),(()=>{Yt(_,Math.ceil(Et(m)/Et(d).length))})),Ne((()=>(Et(y),Et(d))),(()=>{Yt(k,Math.ceil(Et(y)/Et(d).length))})),Ne((()=>(Et(m),Et(y))),(()=>{Yt(P,Et(m)!==Et(y))})),Ne((()=>(Ht(C()),Ht(z()))),(()=>{Yt(w,`${C().id}_${z()}`)})),Ne((()=>(Ht(V()),Ht(C()),Qa)),(()=>{Yt($,V()&&(e=>{if(!e)return;const t=V().find((t=>t.gid===e));return null==t?void 0:t.url})(C().mediaImageGID)||Qa)})),Ne((()=>(Ht(F()),Et(o),Et(E),Et(R))),(()=>{F()&&Object.keys(Et(o)).length>0&&Q()&&Et(E)&&Et(R)})),Oe(),yr();var U=_s();let H;var J=me(U);cr(J);var W=ye(J,2);let K;var Z=me(W),X=e=>{const t=Ce((()=>Et(h)||void 0));Ta(e,{get style(){return C().badgeStyle},get text(){return Et(t)}})};Fn(Z,(e=>{Et(b)&&e(X)}));var Y=ye(Z,2),te=me(Y);Kr(te,{element:"div",class:"kaching-bundles__bar-main",onclick:function(e){F()&&(e.preventDefault(),e.stopPropagation(),O("dealBarDeselected"))},children:(e,t)=>{var n=bs(),r=_e(n),a=e=>{var t=rs();je((()=>gr(t,"src",Et($)))),qn(e,t)},l=e=>{qn(e,as())};Fn(r,(e=>{C().mediaImageGID?e(a):e(l,!1)}));var s=ye(r,2),c=me(s),o=me(c),d=me(o);Nn(d,(()=>Et(v)),(e=>{var t=is();Qn(me(t),(()=>Et(v))),ee(t),qn(e,t)}));var g=ye(d,2),h=e=>{var t=xn();Nn(_e(t),(()=>Et(f)),(e=>{var t=ls();Qn(me(t),(()=>Et(f))),ee(t),qn(e,t)})),qn(e,t)};Fn(g,(e=>{Et(f)&&e(h)})),ee(o);var b=ye(o,2),w=e=>{var t=xn();Nn(_e(t),(()=>Et(p)),(e=>{var t=ss();Qn(me(t),(()=>Et(p))),ee(t),qn(e,t)})),qn(e,t)};Fn(b,(e=>{Et(p)&&e(w)})),ee(c);var S=ye(c,2),B=me(S),x=e=>{var t=vs(),n=_e(t),r=me(n);Nn(r,(()=>Et(k)),(e=>{var t=cs();Qn(me(t),(()=>i()(Et(k)))),ee(t),qn(e,t)}));var a=ye(r,2),l=e=>{var t=xn();Nn(_e(t),(()=>Et(_)),(e=>{var t=us();Qn(me(t),(()=>i()(Et(_)))),ee(t),qn(e,t)})),qn(e,t)};Fn(a,(e=>{Et(P)&&e(l)})),ee(n);var s=ye(n,2),c=e=>{var t=gs(),n=me(t);Nn(n,(()=>Et(y)),(e=>{var t=os();Qn(me(t),(()=>i()(Et(y)))),ee(t),qn(e,t)}));var r=ye(n,2),a=e=>{var t=xn();Nn(_e(t),(()=>Et(m)),(e=>{var t=ds();Qn(me(t),(()=>i()(Et(m)))),ee(t),qn(e,t)})),qn(e,t)};Fn(r,(e=>{Et(P)&&e(a)})),ee(t),qn(e,t)};Fn(s,(e=>{Et(u)>1&&e(c)})),qn(e,t)},q=e=>{var t=hs(),n=_e(t);Nn(n,(()=>Et(y)),(e=>{var t=ps();Qn(me(t),(()=>i()(I().showPricesPerItem?Et(k):Et(y)))),ee(t),qn(e,t)}));var r=ye(n,2),a=e=>{var t=xn();Nn(_e(t),(()=>Et(m)),(e=>{var t=fs();Qn(me(t),(()=>i()(I().showPricesPerItem?Et(_):Et(m)))),ee(t),qn(e,t)})),qn(e,t)};Fn(r,(e=>{Et(P)&&e(a)})),qn(e,t)};Fn(B,(e=>{I().showBothPrices?e(x):e(q,!1)})),ee(S),ee(s),qn(e,n)},$$slots:{default:!0}});var ne=ye(te,2),re=e=>{var t=ms();Gn(t,5,(()=>({length:Et(u)})),On,((e,t,n)=>{var r=xn(),a=_e(r),i=e=>{const t=Ce((()=>Et(o)[n]||null));es(e,{get config(){return S()},get dealBlock(){return I()},get dealBar(){return C()},get swatchSettings(){return B()},get mediaImages(){return V()},get mainProduct(){return x()},products:[],get selectedProductVariant(){return Et(t)},onChange:e=>{O("variantSelected",{variantId:e.variant.id}),ns(n,e)}})},l=e=>{const t=Ce((()=>Et(o)[n]||null));es(e,{get config(){return S()},get dealBlock(){return I()},get dealBar(){return C()},get swatchSettings(){return B()},get mediaImages(){return V()},get products(){return q()},get selectedProductVariant(){return Et(t)},onChange:e=>{ns(n,e)},onRemove:()=>{var e;e=n,ts.update((t=>{const{[e]:n,...r}=t;return r}))}})};Fn(a,(e=>{0===n?e(i):e(l,!1)})),qn(e,r)})),ee(t),qn(e,t)};Fn(ne,(e=>{F()&&e(re)})),ee(Y);var ae=ye(Y,2);const ie=Ce((()=>C().upsells||[]));Bi(ae,{get config(){return S()},get dealBlock(){return I()},get upsells(){return Et(ie)},get otherProducts(){return D()},get complementaryProducts(){return T()},get mediaImages(){return V()},get swatchSettings(){return B()},get dealBarSelected(){return F()},get sellingPlan(){return N()},onChange:e=>{Yt(E,e)}});var le=ye(ae,2);const se=Ce((()=>C().freeGifts||[]));ai(le,{get config(){return S()},get dealBlock(){return I()},get freeGifts(){return Et(se)},get otherProducts(){return D()},get mediaImages(){return V()},get swatchSettings(){return B()},get dealBarSelected(){return F()},onChange:e=>{Yt(R,e)}}),ee(W),ee(U),je(((e,t)=>{var n;H=tr(U,1,"kaching-bundles__bar",null,H,e),gr(U,"data-deal-bar-id",C().id),gr(J,"name",`kaching-bundles-deal-${null!=(n=z())?n:""}`),ur(J,C().id),gr(J,"id",Et(w)),or(J,F()),gr(W,"for",Et(w)),K=tr(W,1,"kaching-bundles__bar-container",null,K,t)}),[()=>({"kaching-bundles__bar--selected":F()}),()=>({"kaching-bundles__bar-container--most-popular":Et(b),"kaching-bundles__bar-container--most-popular--simple":Et(b)&&"simple"===C().badgeStyle,"kaching-bundles__bar-container--most-popular--fancy":Et(b)&&"most-popular"===C().badgeStyle})],Ce),kn("change",J,(function(){O("dealBarSelected",{dealBarId:C().id,dealBarQuantity:L(C()),variantIds:[],preselected:!1})})),qn(e,U);var ce=ln({get config(){return S()},set config(e){S(e),jt()},get dealBlock(){return I()},set dealBlock(e){I(e),jt()},get swatchSettings(){return B()},set swatchSettings(e){B(e),jt()},get dealBar(){return C()},set dealBar(e){C(e),jt()},get product(){return x()},set product(e){x(e),jt()},get collectionBreaksProducts(){return q()},set collectionBreaksProducts(e){q(e),jt()},get otherProducts(){return D()},set otherProducts(e){D(e),jt()},get complementaryProducts(){return T()},set complementaryProducts(e){T(e),jt()},get mediaImages(){return V()},set mediaImages(e){V(e),jt()},get customQuantity(){return A()},set customQuantity(e){A(e),jt()},get currentVariantId(){return M()},set currentVariantId(e){M(e),jt()},get componentId(){return z()},set componentId(e){z(e),jt()},get selected(){return F()},set selected(e){F(e),jt()},get sellingPlan(){return N()},set sellingPlan(e){N(e),jt()}});return r(),ce}function ks(e,t,n){const r=Number(e.target.value),a=t().find((e=>e.id===r));n()(a)}Or(ys,{config:{},dealBlock:{},swatchSettings:{},dealBar:{},product:{},collectionBreaksProducts:{},otherProducts:{},complementaryProducts:{},mediaImages:{},customQuantity:{},currentVariantId:{},componentId:{},selected:{},sellingPlan:{}},[],[],!0);var Ps=In("<option> </option>"),ws=In('<select class="kaching-bundles__bar-variant-select kaching-bundles__selling-plan-select"></select>');function $s(e,t){an(t,!0);const n=Mr(t,"sellingPlans",7),r=Mr(t,"selectedSellingPlan",7),a=Mr(t,"onChange",7);var i,l=ws();return mr(l,(()=>r().id)),l.__change=[ks,n,a],Gn(l,21,n,(e=>e.id),((e,t)=>{var n=Ps(),r={},a=me(n,!0);ee(n),je((()=>{var e;r!==(r=Et(t).id)&&(n.value=null!=(e=n.__value=Et(t).id)?e:""),Dn(a,Et(t).name)})),qn(e,n)})),ee(l),je((()=>{var e;i!==(i=r().id)&&(l.value=null!=(e=l.__value=r().id)?e:"",br(l,r().id))})),qn(e,l),ln({get sellingPlans(){return n()},set sellingPlans(e){n(e),jt()},get selectedSellingPlan(){return r()},set selectedSellingPlan(e){r(e),jt()},get onChange(){return a()},set onChange(e){a(e),jt()}})}function Ss(e,t,n,r){t("dealBarSelected",{dealBarId:n().id,variantIds:[Et(r)],preselected:!1})}Pn(["change"]),Or($s,{sellingPlans:{},selectedSellingPlan:{},onChange:{}},[],[],!0);var Is=In('<img class="kaching-bundles__bar-image" alt="">'),Bs=In('<div class="kaching-bundles__bar-radio"></div>'),Cs=In('<span class="kaching-bundles__bar-title"><!></span>'),xs=In('<span class="kaching-bundles__bar-label"><!></span>'),qs=In('<div class="kaching-bundles__bar-subtitle"><!></div>'),Ds=In('<div class="kaching-bundles__bar-price"><!></div>'),Ts=In('<div class="kaching-bundles__bar-full-price"><!></div>'),Vs=In('<div class="kaching-bundles__bar-unit-price"><!> </div>'),As=In('<div class="kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--primary"><!> <!></div> <div class="kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--secondary"><!></div>',1),Ms=In('<div class="kaching-bundles__bar-price"><!></div>'),zs=In('<div class="kaching-bundles__bar-full-price"><!></div>'),Fs=In("<!> <!>",1),Ns=In('<!> <div class="kaching-bundles__bar-content"><div class="kaching-bundles__bar-content-left"><div class="kaching-bundles__bar-first-line"><!> <!></div> <!></div> <div class="kaching-bundles__bar-pricing"><!></div></div>',1),Os=In('<div><input type="radio"> <label><!> <div class="kaching-bundles__bar-wrapper"><!> <!></div> <!></label></div>');function Gs(e,t){an(t,!0);const[n,r]=Dr(),a=()=>qr(Ha,"$priceFormatter",n),i=()=>qr(b,"$translate",n),l=wr();let s=Mr(t,"config",7),c=Mr(t,"dealBlock",7),u=Mr(t,"swatchSettings",7),o=Mr(t,"dealBar",7),d=Mr(t,"product",7),g=Mr(t,"otherProducts",23,(()=>[])),v=Mr(t,"mediaImages",23,(()=>[])),p=Mr(t,"currentVariantId",7),f=Mr(t,"componentId",7),h=Mr(t,"selected",7,!1);const b=Yr();let m=Zt(se([])),_=Zt(se(d().sellingPlans[0])),y=!1;const k=Be((()=>p()||d().variants[0].id)),P=Be((()=>[{variant:d().variants.find((e=>e.id===Et(k))),quantity:1}])),w=Be((()=>function(e,t){const n=t.map((({variant:t,quantity:n})=>{let r=t.price;return e.useProductCompareAtPrice&&t.compareAtPrice&&(r=Math.max(r,t.compareAtPrice)),r*n}));return n.reduce(((e,t)=>e+t),0)}(c(),Et(P)))),$=Be((()=>c()&&Ra(Et(P)[0].variant,Et(_)))),S=Be((()=>Na({priceFormatter:a(),product:d(),dealBar:o(),totalFullPrice:Et(w),totalDiscountedPrice:Et($),quantity:1}))),I=Be((()=>Et(S)(i()(o().title)))),B=Be((()=>Et(S)(i()(o().subtitle)))),C=Be((()=>Et(S)(i()(o().label)))),x=Be((()=>Et(S)(i()(o().badgeText)))),q=Be((()=>("most-popular"===o().badgeStyle||"simple"===o().badgeStyle&&Et(x))&&"vertical"===c().blockLayout)),D=Be((()=>Et(w)!==Et($))),T=Be((()=>`${o().id}_${f()}`)),V=Be((()=>Et(P)[0]&&si(Et(P)[0].variant))),A=Be((()=>Et(V)&&ci(Et(P),Et($)))),M=Be((()=>v()&&function(e){if(!e)return;const t=v().find((t=>t.gid===e));return null==t?void 0:t.url}(o().mediaImageGID)||Qa));function z(e=!1){const t=[{variant:d().variants.find((e=>e.id===Et(k))),quantity:1}],n=Et($),r=Et(w)+Et(m).reduce(((e,t)=>e+t.fullPrice),0);l("variantsChanged",{variants:t,freeGifts:Et(m),sellingPlan:Et(_),pricing:{discountedPrice:n,fullPrice:r,discountedPricePerItem:Et($),fullPricePerItem:Et(w)},preselected:e})}Me((()=>{h()&&Et(k)&&Et(_)&&Et(m)&&Lt((()=>{y?z():(y=!0,l("dealBarSelected",{dealBarId:o().id,variantIds:[Et(k)],preselected:!0}),z(!0))}))}));var F=Os();let N;var O=me(F);cr(O),O.__change=[Ss,l,o,k];var G=ye(O,2);let j;var R=me(G),E=e=>{const t=Be((()=>Et(x)||void 0));Ta(e,{get style(){return o().badgeStyle},get text(){return Et(t)}})};Fn(R,(e=>{Et(q)&&e(E)}));var L=ye(R,2),Q=me(L);Kr(Q,{element:"div",class:"kaching-bundles__bar-main",onclick:function(e){h()&&(e.preventDefault(),e.stopPropagation(),l("dealBarDeselected"))},children:(e,t)=>{var n=Ns(),r=_e(n),i=e=>{var t=Is();je((()=>gr(t,"src",Et(M)))),qn(e,t)},l=e=>{qn(e,Bs())};Fn(r,(e=>{o().mediaImageGID?e(i):e(l,!1)}));var c=ye(r,2),u=me(c),d=me(u),g=me(d);Nn(g,(()=>Et(I)),(e=>{var t=Cs();Qn(me(t),(()=>Et(I))),ee(t),qn(e,t)}));var v=ye(g,2),p=e=>{var t=xn();Nn(_e(t),(()=>Et(C)),(e=>{var t=xs();Qn(me(t),(()=>Et(C))),ee(t),qn(e,t)})),qn(e,t)};Fn(v,(e=>{Et(C)&&e(p)})),ee(d);var f=ye(d,2),h=e=>{var t=xn();Nn(_e(t),(()=>Et(B)),(e=>{var t=qs();Qn(me(t),(()=>Et(B))),ee(t),qn(e,t)})),qn(e,t)};Fn(f,(e=>{Et(B)&&e(h)})),ee(u);var b=ye(u,2),m=me(b),_=e=>{var t=As(),n=_e(t),r=me(n);Nn(r,(()=>Et($)),(e=>{var t=Ds();Qn(me(t),(()=>a()(Et($)))),ee(t),qn(e,t)}));var i=ye(r,2),l=e=>{var t=xn();Nn(_e(t),(()=>Et(w)),(e=>{var t=Ts();Qn(me(t),(()=>a()(Et(w)))),ee(t),qn(e,t)})),qn(e,t)};Fn(i,(e=>{Et(D)&&e(l)})),ee(n);var s=ye(n,2);Nn(me(s),(()=>Et(A)),(e=>{var t=Vs(),n=me(t);Qn(n,(()=>a()(Et(A))));var r=ye(n);ee(t),je((()=>{var e;return Dn(r,` / ${null!=(e=Et(V))?e:""}`)})),qn(e,t)})),ee(s),qn(e,t)},y=e=>{var t=Fs(),n=_e(t);Nn(n,(()=>Et($)),(e=>{var t=Ms();Qn(me(t),(()=>a()(Et($)))),ee(t),qn(e,t)}));var r=ye(n,2),i=e=>{var t=xn();Nn(_e(t),(()=>Et(w)),(e=>{var t=zs();Qn(me(t),(()=>a()(Et(w)))),ee(t),qn(e,t)})),qn(e,t)};Fn(r,(e=>{Et(D)&&e(i)})),qn(e,t)};Fn(m,(e=>{Et(A)&&!s().ignoreUnitPrice?e(_):e(y,!1)})),ee(b),ee(c),qn(e,n)},$$slots:{default:!0}});var U=ye(Q,2),H=e=>{$s(e,{get sellingPlans(){return d().sellingPlans},get selectedSellingPlan(){return Et(_)},onChange:e=>{Yt(_,e,!0)}})};Fn(U,(e=>{h()&&d().sellingPlans.length>0&&e(H)})),ee(L);var J=ye(L,2);const W=Be((()=>o().freeGifts||[]));ai(J,{get config(){return s()},get dealBlock(){return c()},get freeGifts(){return Et(W)},get otherProducts(){return g()},get mediaImages(){return v()},get swatchSettings(){return u()},get dealBarSelected(){return h()},onChange:e=>{Yt(m,e,!0)}}),ee(G),ee(F),je(((e,t)=>{var n;N=tr(F,1,"kaching-bundles__bar",null,N,e),gr(F,"data-deal-bar-id",o().id),gr(O,"name",`kaching-bundles-deal-${null!=(n=f())?n:""}`),ur(O,o().id),gr(O,"id",Et(T)),or(O,h()),gr(G,"for",Et(T)),j=tr(G,1,"kaching-bundles__bar-container",null,j,t)}),[()=>({"kaching-bundles__bar--disabled":0===d().sellingPlans.length,"kaching-bundles__bar--selected":h()}),()=>({"kaching-bundles__bar-container--most-popular":Et(q),"kaching-bundles__bar-container--most-popular--simple":Et(q)&&"simple"===o().badgeStyle,"kaching-bundles__bar-container--most-popular--fancy":Et(q)&&"most-popular"===o().badgeStyle})]),qn(e,F);var K=ln({get config(){return s()},set config(e){s(e),jt()},get dealBlock(){return c()},set dealBlock(e){c(e),jt()},get swatchSettings(){return u()},set swatchSettings(e){u(e),jt()},get dealBar(){return o()},set dealBar(e){o(e),jt()},get product(){return d()},set product(e){d(e),jt()},get otherProducts(){return g()},set otherProducts(e=[]){g(e),jt()},get mediaImages(){return v()},set mediaImages(e=[]){v(e),jt()},get currentVariantId(){return p()},set currentVariantId(e){p(e),jt()},get componentId(){return f()},set componentId(e){f(e),jt()},get selected(){return h()},set selected(e=!1){h(e),jt()}});return r(),K}function js(e,t,n){const r=Number(e.target.value),a=t().find((e=>e.id===r));n()(a)}Pn(["change"]),Or(Gs,{config:{},dealBlock:{},swatchSettings:{},dealBar:{},product:{},otherProducts:{},mediaImages:{},currentVariantId:{},componentId:{},selected:{}},[],[],!0);var Rs=e=>e.stopPropagation(),Es=In("<option> </option>"),Ls=In('<select class="kaching-bundles__bar-variant-select kaching-bundles__selling-plan-select"></select>');function Qs(e,t){an(t,!0);const n=Mr(t,"sellingPlans",7),r=Mr(t,"selectedSellingPlan",7),a=Mr(t,"onChange",7);var i,l=Ls();return mr(l,(()=>r().id)),l.__change=[js,n,a],l.__click=[Rs],Gn(l,21,n,(e=>e.id),((e,t)=>{var n=Es(),r={},a=me(n,!0);ee(n),je((()=>{var e;r!==(r=Et(t).id)&&(n.value=null!=(e=n.__value=Et(t).id)?e:""),Dn(a,Et(t).name)})),qn(e,n)})),ee(l),je((()=>{var e;i!==(i=r().id)&&(l.value=null!=(e=l.__value=r().id)?e:"",br(l,r().id))})),qn(e,l),ln({get sellingPlans(){return n()},set sellingPlans(e){n(e),jt()},get selectedSellingPlan(){return r()},set selectedSellingPlan(e){r(e),jt()},get onChange(){return a()},set onChange(e){a(e),jt()}})}Pn(["change","click"]),Or(Qs,{sellingPlans:{},selectedSellingPlan:{},onChange:{}},[],[],!0);var Us=In('<div class="kaching-bundles__bar-radio"></div>'),Hs=In('<div class="kaching-bundles__subscriptions__title"><!></div>'),Js=In('<div class="kaching-bundles__subscriptions__subtitle"><!></div>'),Ws=In('<div class="kaching-bundles__bar-variants"><!></div>'),Ks=In('<div class="kaching-bundles__subscriptions__card kaching-bundles__bar-container"><div class="kaching-bundles__bar-wrapper"><div class="kaching-bundles__bar-main"><!> <div class="kaching-bundles__bar-content"><div class="kaching-bundles__bar-content-left"><div class="kaching-bundles__bar-first-line"><!></div> <!></div></div></div> <!></div></div>'),Zs=In('<div class="kaching-bundles__bar-radio"></div>'),Xs=In('<div class="kaching-bundles__subscriptions__title"><!></div>'),Ys=In('<div class="kaching-bundles__subscriptions__subtitle"><!></div>'),ec=In('<div class="kaching-bundles__subscriptions__card kaching-bundles__bar-container"><div class="kaching-bundles__bar-wrapper"><div class="kaching-bundles__bar-main"><!> <div class="kaching-bundles__bar-content"><div class="kaching-bundles__bar-content-left"><div class="kaching-bundles__bar-first-line"><!></div> <!></div></div></div></div></div>'),tc=In("<div></div>");function nc(e,t){an(t,!0);const[n,r]=Dr(),a=()=>qr(c,"$translate",n),i=Mr(t,"subscriptions",7),l=Mr(t,"sellingPlans",7),s=Mr(t,"onChange",7),c=Yr();let u=Zt(se(l()[0])),o=Be((()=>i().subscribeByDefault?["subscribe","one-time"]:["one-time","subscribe"])),d=Be((()=>Et(o)[0]));function g(e){Yt(d,e,!0),s()("subscribe"===e?Et(u):void 0)}function v(e){Yt(u,e,!0),"subscribe"===Et(d)&&s()(e)}Pr((()=>{"subscribe"===Et(d)&&s()(Et(u))})),Me((()=>{Et(u)&&l().find((e=>e.id===Et(u).id))||(Yt(u,l()[0],!0),s()("subscribe"===Et(d)?Et(u):void 0))}));var p=tc();let f;Gn(p,20,(()=>Et(o)),(e=>e),((e,t)=>{var n=xn(),r=_e(n),s=e=>{const t=Be((()=>0===l().length?"kaching-bundles__bar--disabled":"")),n=Be((()=>"subscribe"===Et(d)?"kaching-bundles__bar--selected":""));Kr(e,{element:"div",get class(){var e,r;return`kaching-bundles__bar ${null!=(e=Et(t))?e:""} ${null!=(r=Et(n))?r:""}`},onclick:()=>g("subscribe"),children:(e,t)=>{var n=Ks(),r=me(n),s=me(r),c=me(s),o=e=>{qn(e,Us())};Fn(c,(e=>{"vertical"===i().layout&&e(o)}));var g=ye(c,2),p=me(g),f=me(p),h=me(f),b=e=>{var t=Hs();Qn(me(t),(()=>a()(i().subscribeTitle))),ee(t),qn(e,t)};Fn(h,(e=>{i().subscribeTitle&&e(b)})),ee(f);var m=ye(f,2),_=e=>{var t=Js();Qn(me(t),(()=>a()(i().subscribeSubtitle))),ee(t),qn(e,t)};Fn(m,(e=>{i().subscribeSubtitle&&e(_)})),ee(p),ee(g),ee(s);var y=ye(s,2),k=e=>{var t=Ws();Qs(me(t),{get sellingPlans(){return l()},get selectedSellingPlan(){return Et(u)},onChange:v}),ee(t),qn(e,t)};Fn(y,(e=>{"subscribe"===Et(d)&&l().length>1&&e(k)})),ee(r),ee(n),qn(e,n)},$$slots:{default:!0}})},c=e=>{const t=Be((()=>0===l().length?"kaching-bundles__bar--disabled":"")),n=Be((()=>"one-time"===Et(d)?"kaching-bundles__bar--selected":""));Kr(e,{element:"div",get class(){var e,r;return`kaching-bundles__bar ${null!=(e=Et(t))?e:""} ${null!=(r=Et(n))?r:""}`},onclick:()=>g("one-time"),children:(e,t)=>{var n=ec(),r=me(n),l=me(r),s=me(l),c=e=>{qn(e,Zs())};Fn(s,(e=>{"vertical"===i().layout&&e(c)}));var u=ye(s,2),o=me(u),d=me(o),g=me(d),v=e=>{var t=Xs();Qn(me(t),(()=>a()(i().oneTimeTitle))),ee(t),qn(e,t)};Fn(g,(e=>{i().oneTimeTitle&&e(v)})),ee(d);var p=ye(d,2),f=e=>{var t=Ys();Qn(me(t),(()=>a()(i().oneTimeSubtitle))),ee(t),qn(e,t)};Fn(p,(e=>{i().oneTimeSubtitle&&e(f)})),ee(o),ee(u),ee(l),ee(r),ee(n),qn(e,n)},$$slots:{default:!0}})};Fn(r,(e=>{"subscribe"===t?e(s):e(c,!1)})),qn(e,n)})),ee(p),je((e=>f=tr(p,1,"kaching-bundles__subscriptions kaching-bundles__bars",null,f,e)),[()=>({"kaching-bundles__bars--horizontal":"horizontal"===i().layout})]),qn(e,p);var h=ln({get subscriptions(){return i()},set subscriptions(e){i(e),jt()},get sellingPlans(){return l()},set sellingPlans(e){l(e),jt()},get onChange(){return s()},set onChange(e){s(e),jt()}});return r(),h}Or(nc,{subscriptions:{},sellingPlans:{},onChange:{}},[],[],!0);var rc=Bn('<svg width="14" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.334 1 5 8.333 1.667 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function ac(e){qn(e,rc())}Or(ac,{},[],[],!0);var ic=In('<div class="kaching-bundles__subscriptions__title"><!></div>'),lc=In('<div class="kaching-bundles__subscriptions__subtitle"><!></div>'),sc=In('<div class="kaching-bundles__bar-variants"><!></div>'),cc=In('<div class="kaching-bundles__subscriptions__card kaching-bundles__bar-container"><div class="kaching-bundles__bar-wrapper"><div class="kaching-bundles__bar-main"><span class="kaching-bundles__subscriptions__checkbox"><!></span> <div class="kaching-bundles__bar-content"><div class="kaching-bundles__bar-content-left"><div class="kaching-bundles__bar-first-line"><!></div> <!></div></div></div> <!></div></div>'),uc=In('<div class="kaching-bundles__subscriptions kaching-bundles__bars kaching-bundles__subscriptions--checkbox"><!></div>');function oc(e,t){an(t,!0);const[n,r]=Dr(),a=()=>qr(c,"$translate",n),i=Mr(t,"subscriptions",7),l=Mr(t,"sellingPlans",7),s=Mr(t,"onChange",7),c=Yr();let u=Zt(!1),o=Zt(se(l()[0]));function d(e){Yt(o,e,!0),s()(e)}Me((()=>{Yt(u,i().subscribeByDefault,!0)})),Me((()=>{Et(o)&&l().find((e=>e.id===Et(o).id))||(Yt(o,l()[0],!0),s()(Et(u)?Et(o):void 0))})),Pr((()=>{Et(u)&&s()(Et(o))}));var g=uc(),v=me(g);const p=Be((()=>0===l().length?"kaching-bundles__bar--disabled":""));Kr(v,{element:"div",get class(){var e;return`kaching-bundles__bar ${null!=(e=Et(p))?e:""}`},onclick:function(){Yt(u,!Et(u)),s()(Et(u)?Et(o):void 0)},children:(e,t)=>{var n=cc(),r=me(n),s=me(r),c=me(s),g=me(c),v=e=>{ac(e)};Fn(g,(e=>{Et(u)&&e(v)})),ee(c);var p=ye(c,2),f=me(p),h=me(f),b=me(h),m=e=>{var t=ic();Qn(me(t),(()=>a()(i().subscribeTitle))),ee(t),qn(e,t)};Fn(b,(e=>{i().subscribeTitle&&e(m)})),ee(h);var _=ye(h,2),y=e=>{var t=lc();Qn(me(t),(()=>a()(i().subscribeSubtitle))),ee(t),qn(e,t)};Fn(_,(e=>{i().subscribeSubtitle&&e(y)})),ee(f),ee(p),ee(s);var k=ye(s,2),P=e=>{var t=sc();Qs(me(t),{get sellingPlans(){return l()},get selectedSellingPlan(){return Et(o)},onChange:d}),ee(t),qn(e,t)};Fn(k,(e=>{Et(u)&&l().length>1&&e(P)})),ee(r),ee(n),qn(e,n)},$$slots:{default:!0}}),ee(g),qn(e,g);var f=ln({get subscriptions(){return i()},set subscriptions(e){i(e),jt()},get sellingPlans(){return l()},set sellingPlans(e){l(e),jt()},get onChange(){return s()},set onChange(e){s(e),jt()}});return r(),f}function dc(e,t){an(t,!0);const n=Mr(t,"subscriptions",7),r=Mr(t,"sellingPlans",7),a=Mr(t,"onChange",7);var i=xn(),l=_e(i),s=e=>{oc(e,{get subscriptions(){return n()},get sellingPlans(){return r()},get onChange(){return a()}})},c=e=>{nc(e,{get subscriptions(){return n()},get sellingPlans(){return r()},get onChange(){return a()}})};return Fn(l,(e=>{"checkbox"===n().layout?e(s):e(c,!1)})),qn(e,i),ln({get subscriptions(){return n()},set subscriptions(e){n(e),jt()},get sellingPlans(){return r()},set sellingPlans(e){r(e),jt()},get onChange(){return a()},set onChange(e){a(e),jt()}})}Or(oc,{subscriptions:{},sellingPlans:{},onChange:{}},[],[],!0),Or(dc,{subscriptions:{},sellingPlans:{},onChange:{}},[],[],!0);function gc(e,t=4){const n=function(e){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t=Math.imul(t,16777619)>>>0;return t>>>0}(e);return function(e,t){let n="";for(let r=0;r<t;r++)n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[e%62]+n,e=Math.floor(e/62);return n}(n,t)}var vc=In('<div class="kaching-bundles__block-title"><!></div>'),pc=In('<div class="kaching-bundles__out-of-stock"><!></div>'),fc=In("<div><!> <!> <div></div> <!> <!></div>");function hc(e,t){an(t,!1);const[n,r]=Dr(),a=()=>qr(P,"$translate",n),i=()=>qr(Ha,"$priceFormatter",n),l=Xt(),s=Xt(),c=Xt(),u=Xt();let o=Mr(t,"component",12),d=Mr(t,"config",12),g=Mr(t,"translations",28,(()=>({}))),v=Mr(t,"dealBlock",12),p=Mr(t,"product",12),f=Mr(t,"currentVariantId",12),h=Mr(t,"selectedDealBarId",12),b=Mr(t,"quantity",12),m=Mr(t,"mediaImages",28,(()=>[])),_=Mr(t,"otherProducts",28,(()=>[])),y=Mr(t,"collectionBreaksProducts",28,(()=>[])),k=Mr(t,"complementaryProducts",28,(()=>[]));const{translate:P,setTranslations:w}=Xr(g());function $(){return S().map((e=>({variantId:e.id,quantity:e.quantity,properties:e.properties})))}function S(){var e,t,n,r,a;const i=function(){var e;const t=JSON.stringify([Et(x).map((({variant:e,quantity:t})=>({variantId:e.id,quantity:t}))),q.map((({id:e,variant:t,quantity:n})=>({id:e,variantId:t.id,quantity:n}))),D.map((({variant:e,quantity:t})=>({variantId:e.id,quantity:t}))),T.map((({id:e,variant:t,quantity:n})=>({id:e,variantId:t.id,quantity:n}))),V.map((({id:e,variant:t,quantity:n})=>({id:e,variantId:t.id,quantity:n}))),null==(e=Et(A))?void 0:e.id,null==I?void 0:I.id,h()]);return gc(t)}(),l=v().dealBars.find((e=>e.id===h())),s="bxgy"===(null==l?void 0:l.dealBarType),c=v().nanoId||v().id,u=v().abTestVariantNumber?na(v().abTestVariantNumber):void 0,o=s||T.length>0||V.length>0||q.length>0,d={deal:c,main:!0};v().marketId&&(d.market=v().marketId),o?(d.id=i,d.bar=h()):D.length>0&&(d.id=i),u&&(d.ab=u);const g={id:i,deal:c,bar:h()};u&&(g.ab=u);let f=(null==(e=Et(A))?void 0:e.id)||void 0;"subscription"===(null==l?void 0:l.dealBarType)&&(f=null==I?void 0:I.id);const b=(e,t)=>{if(t&&e.sellingPlans.some((e=>e.id===t)))return p().sellingPlans.find((e=>e.id===t))},m=[];let _=[],y=[];if(f&&s){let e=l.getQuantity;const t=[...Et(x)].sort(((e,t)=>e.variant.price-t.variant.price));for(const{variant:n,quantity:r}of t){const t=Math.min(e,r),a=r-t;a>0&&_.push({variant:n,quantity:a}),t>0&&y.push({variant:n,quantity:t}),e-=t}}else _=Et(x);for(const{variant:v,quantity:p}of _){const e={...d},t=b(v,f);(null==t?void 0:t.priceAdjustment)&&l&&H(l)&&(e.sellingPlan={id:t.id,priceAdjustment:t.priceAdjustment});const n={id:v.id,quantity:p,properties:{__kaching_bundles:JSON.stringify(e)}};t&&(n.selling_plan=f),m.push(n)}for(const{variant:v,quantity:p}of y){const e={...g,main:!0,bxgy:!0},t={id:v.id,quantity:p,properties:{__kaching_bundles:JSON.stringify(e)}};b(v,f)&&(t.selling_plan=f),m.push(t)}for(const v of T){const e={...g,gift:v.id},t={id:v.variant.id,quantity:v.quantity,properties:{__kaching_bundles:JSON.stringify(e)}};b(v.variant,f)&&(t.selling_plan=f),m.push(t)}for(const v of V){const e={...g,upsell:v.id},a=b(v.variant,f);(null==a?void 0:a.priceAdjustment)&&"specific"===(null==(n=null==(t=null==l?void 0:l.upsells)?void 0:t.find((e=>e.id===v.id)))?void 0:n.discountType)&&(e.sellingPlan={id:a.id,priceAdjustment:a.priceAdjustment});const i={id:v.variant.id,quantity:v.quantity,properties:{__kaching_bundles:JSON.stringify(e)}};a?i.selling_plan=f:v.product.requiresSellingPlan&&(i.selling_plan=null==(r=v.variant.sellingPlans[0])?void 0:r.id),m.push(i)}for(const v of q){const e={...g,bundleProduct:v.id},t=b(v.variant,f);(null==t?void 0:t.priceAdjustment)&&"bundle"===(null==l?void 0:l.dealBarType)&&"specific"===(null==(a=null==l?void 0:l.bundleProducts.find((e=>e.id===v.id)))?void 0:a.discountType)&&(e.sellingPlan={id:t.id,priceAdjustment:t.priceAdjustment});const n={id:v.variant.id,quantity:v.quantity,properties:{__kaching_bundles:JSON.stringify(e)}};t&&(n.selling_plan=f),m.push(n)}for(const v of D){const e={id:i,deal:c,collectionBreaksProduct:!0};o&&(e.bar=h()),u&&(e.ab=u);const t=b(v.variant,f);(null==t?void 0:t.priceAdjustment)&&l&&H(l)&&(e.sellingPlan={id:t.id,priceAdjustment:t.priceAdjustment});const n={id:v.variant.id,quantity:v.quantity,properties:{__kaching_bundles:JSON.stringify(e)}};t&&(n.selling_plan=f),m.push(n)}return m}Pr((()=>{ra(o(),"kaching-bundles-block-loaded",{component:o()},!1)}));let I,B=Xt(),C=Math.random().toString(16).slice(2),x=Xt([]),q=[],D=[],T=[],V=[],A=Xt(),M=Xt(!1);function z(e){switch(e.dealBarType){case void 0:case"quantity-break":return Number(e.quantity);case"bxgy":return Number(e.buyQuantity)+Number(e.getQuantity);case"bundle":return e.bundleProducts[0].quantity;case"subscription":return 1}}function F(e){const{dealBarId:t,dealBarQuantity:n,variantIds:r,preselected:a}=e;h(t),d().keepQuantityInput&&n&&b(n),ra(o(),"deal-bar-selected",{dealBarId:t,variantIds:r,preselected:a})}function N(){if(d().ignoreDeselect)return;h(null);const e=Et(x)[0].variant;Yt(x,[{variant:e,quantity:1}]),T=[],V=[],q=[],D=[],I=void 0,ra(o(),"deal-bar-selected",{dealBarId:null,variantIds:[],preselected:!1});const t=e.compareAtPrice&&e.compareAtPrice>e.price?e.compareAtPrice:e.price;U({pricing:{discountedPrice:e.price,fullPrice:t,discountedPricePerItem:e.price,fullPricePerItem:t},preselected:!1})}function O(e){const{variantId:t}=e;ra(o(),"variant-selected",{variantId:t})}function G(e){const{bundleProducts:t,freeGifts:n,upsells:r,pricing:a,preselected:i}=e,l=[{variant:t[0].variant,quantity:t[0].quantity}];Yt(x,l),q=t.slice(1),T=n,V=r,D=[],I=void 0,Yt(M,Q(Et(x))),U({pricing:a,preselected:i})}function j(e){const{variants:t,freeGifts:n,upsells:r,pricing:a,preselected:i}=e,l=[{variant:t[0].variant,quantity:t[0].quantity}],s=t.slice(1);Yt(x,l),T=n,V=r,q=[],D=s,I=void 0,Yt(M,Q(Et(x))),U({pricing:a,preselected:i})}function R(e){const{variants:t,freeGifts:n,upsells:r,pricing:a,preselected:i}=e;Yt(x,t),T=n,V=r,q=[],D=[],I=void 0,Yt(M,Q(Et(x))),U({pricing:a,preselected:i})}function E(e){const{variants:t,freeGifts:n,sellingPlan:r,pricing:a,preselected:i}=e;Yt(x,t),T=n,V=[],q=[],D=[],I=r,Yt(M,Q(Et(x))),U({pricing:a,preselected:i})}function L(e){if(Yt(A,e),d().featureFlags.deselected_subscription_fix&&!h()&&Et(x).length>0){const t=Et(x)[0].variant;let n=t.price;const r=null==e?void 0:e.id;if(r){const e=t.sellingPlans.find((e=>e.id===r));e&&(n=e.price)}const a=t.compareAtPrice&&t.compareAtPrice>t.price?t.compareAtPrice:t.price;U({pricing:{discountedPrice:n,fullPrice:a,discountedPricePerItem:n,fullPricePerItem:a},preselected:!1})}}function Q(e){return e.some((({variant:e,quantity:t})=>!!e&&(!!e.inventoryManagement&&("deny"===e.inventoryPolicy&&(null!==e.inventoryQuantity&&t>e.inventoryQuantity)))))}function U({pricing:e,preselected:t}){const n=Et(x).map((({variant:e,quantity:t})=>({variantId:e.id,quantity:t}))),r=T.map((({id:e,variant:t,quantity:n})=>({id:e,variantId:t.id,quantity:n}))),a=V.map((({id:e,variant:t,quantity:n})=>({id:e,variantId:t.id,quantity:n}))),l=q.map((({id:e,variant:t,quantity:n})=>({id:e,variantId:t.id,quantity:n})));ra(o(),"variants-changed",{variantIdQuantities:n,freeGifts:r,upsells:a,bundleProducts:l,pricing:{discountedPrice:{amount:e.discountedPrice,formatted:i()(e.discountedPrice)},fullPrice:{amount:e.fullPrice,formatted:i()(e.fullPrice)},discountedPricePerItem:{amount:e.discountedPricePerItem,formatted:i()(e.discountedPricePerItem)},fullPricePerItem:{amount:e.fullPricePerItem,formatted:i()(e.fullPricePerItem)}},formattedPrice:i()(e.discountedPrice),preselected:t})}function H(e){switch(e.dealBarType){case void 0:case"quantity-break":return"specific"===e.discountType;case"bundle":return"specific"===e.bundleProducts[0].discountType;case"bxgy":case"subscription":return!1}}h(h()||v().preselectedDealBarId),Ne((()=>Ht(d())),(()=>{var e;e=d().moneyFormat,Ha.set(Ua(e))})),Ne((()=>Ht(g())),(()=>{w(g())})),Ne((()=>Ht(v())),(()=>{Yt(B,v()&&{swatchOptions:v().swatchOptions||[],swatchSize:v().swatchSize,swatchShape:v().swatchShape})})),Ne((()=>(Ht(d()),Ht(f()),Ht(h()),Ht(p()))),(()=>{if(d().featureFlags.deselected_subscription_fix&&f()&&!h()){const e=p().variants.find((e=>e.id===f()));e&&Yt(x,[{variant:e,quantity:1}])}})),Ne((()=>(Ht(v()),Lr)),(()=>{Yt(l,v()&&Lr(v()))})),Ne((()=>(Ht(v()),a())),(()=>{Yt(s,v()&&a()(v().blockTitle))})),Ne((()=>(Ht(b()),Ht(v()))),(()=>{b()&&v()&&function(e,t){if(!h())return;const n=e.dealBars.slice().sort(((e,t)=>z(e)-z(t)));let r=n[0];for(const a of n)if(["quantity-break","bxgy",void 0].includes(a.dealBarType)){if(z(a)>Number(t))break;r=a}h(r.id)}(v(),b())})),Ne((()=>(Ht(p()),Et(x))),(()=>{var e,t;Yt(c,(e=p().sellingPlans,t=Et(x).map((({variant:e})=>e)),e.filter((e=>t.some((t=>t.sellingPlans.some((t=>t.id===e.id))))))))})),Ne((()=>(Ht(v()),Et(c),Ht(d()))),(()=>{Yt(u,v().subscriptionsEnabled&&v().subscriptions&&(Et(c).length>0||d().preview))})),Oe(),yr();var J=xn(),W=_e(J),K=e=>{var t=fc();let n;var r=me(t),i=e=>{var t=vc();Qn(me(t),(()=>Et(s))),ee(t),qn(e,t)};Fn(r,(e=>{Et(s)&&e(i)}));var o=ye(r,2),g=e=>{dc(e,{get subscriptions(){return v().subscriptions},get sellingPlans(){return Et(c)},onChange:L})};Fn(o,(e=>{var t;Et(u)&&"above"===(null==(t=v().subscriptions)?void 0:t.position)&&e(g)}));var P=ye(o,2);let w;Gn(P,5,(()=>v().dealBars),(e=>e.id),((e,t)=>{var n=xn(),r=_e(n),a=e=>{const n=Ce((()=>Et(t).id===h()));jl(e,{get config(){return d()},get dealBlock(){return v()},get swatchSettings(){return Et(B)},get dealBar(){return Et(t)},get product(){return p()},get otherProducts(){return _()},get complementaryProducts(){return k()},get mediaImages(){return m()},get selected(){return Et(n)},get currentVariantId(){return f()},componentId:C,get sellingPlan(){return Et(A)},onDealBarSelect:F,onDealBarDeselect:N,onVariantSelect:O,onVariantsChange:G})},i=(e,n)=>{var r=e=>{var n=xn(),r=_e(n),a=e=>{const n=Ce((()=>Et(t).id===h()));var r=Be((()=>ia(F))),a=Be((()=>ia(O))),i=Be((()=>ia(E)));Gs(e,{get config(){return d()},get dealBlock(){return v()},get swatchSettings(){return Et(B)},get dealBar(){return Et(t)},get product(){return p()},get otherProducts(){return _()},get mediaImages(){return m()},get selected(){return Et(n)},get currentVariantId(){return f()},componentId:C,$$events:{dealBarSelected(...e){var t;null==(t=Et(r))||t.apply(this,e)},dealBarDeselected:N,variantSelected(...e){var t;null==(t=Et(a))||t.apply(this,e)},variantsChanged(...e){var t;null==(t=Et(i))||t.apply(this,e)}}})};Fn(r,(e=>{(p().sellingPlans.length>0||d().preview)&&e(a)})),qn(e,n)},a=(e,n)=>{var r=e=>{const n=Ce((()=>Et(t).id===h()?b()&&Number(b()):void 0)),r=Ce((()=>Et(t).id===h()));var a=Be((()=>ia(F))),i=Be((()=>ia(O))),l=Be((()=>ia(j)));ys(e,{get config(){return d()},get dealBlock(){return v()},get swatchSettings(){return Et(B)},get dealBar(){return Et(t)},get product(){return p()},get collectionBreaksProducts(){return y()},get otherProducts(){return _()},get complementaryProducts(){return k()},get mediaImages(){return m()},get customQuantity(){return Et(n)},get selected(){return Et(r)},get currentVariantId(){return f()},componentId:C,get sellingPlan(){return Et(A)},$$events:{dealBarSelected(...e){var t;null==(t=Et(a))||t.apply(this,e)},dealBarDeselected:N,variantSelected(...e){var t;null==(t=Et(i))||t.apply(this,e)},variantsChanged(...e){var t;null==(t=Et(l))||t.apply(this,e)}}})},a=e=>{const n=Ce((()=>Et(t).id===h()?b()&&Number(b()):void 0)),r=Ce((()=>Et(t).id===h()));var a=Be((()=>ia(F))),i=Be((()=>ia(O))),l=Be((()=>ia(R)));Wi(e,{get config(){return d()},get dealBlock(){return v()},get swatchSettings(){return Et(B)},get dealBar(){return Et(t)},get product(){return p()},get otherProducts(){return _()},get complementaryProducts(){return k()},get mediaImages(){return m()},get customQuantity(){return Et(n)},get selected(){return Et(r)},get currentVariantId(){return f()},componentId:C,get sellingPlan(){return Et(A)},$$events:{dealBarSelected(...e){var t;null==(t=Et(a))||t.apply(this,e)},dealBarDeselected:N,variantSelected(...e){var t;null==(t=Et(i))||t.apply(this,e)},variantsChanged(...e){var t;null==(t=Et(l))||t.apply(this,e)}}})};Fn(e,(e=>{!v().collectionBreaksEnabled||!v().collectionBreaks||Et(t).dealBarType&&"quantity-break"!==Et(t).dealBarType&&"bxgy"!==Et(t).dealBarType?e(a,!1):e(r)}),n)};Fn(e,(e=>{"subscription"===Et(t).dealBarType?e(r):e(a,!1)}),n)};Fn(r,(e=>{"bundle"===Et(t).dealBarType?e(a):e(i,!1)})),qn(e,n)})),ee(P);var $=ye(P,2),S=e=>{dc(e,{get subscriptions(){return v().subscriptions},get sellingPlans(){return Et(c)},onChange:L})};Fn($,(e=>{var t;Et(u)&&"below"===(null==(t=v().subscriptions)?void 0:t.position)&&e(S)}));var I=ye($,2),q=e=>{var t=pc();Qn(me(t),(()=>a()("system.out_of_stock"))),ee(t),qn(e,t)};Fn(I,(e=>{Et(M)&&(Et(x).length>1||Et(x)[0].quantity>1)&&e(q)})),ee(t),je(((e,r,a)=>{n=tr(t,1,"kaching-bundles__block kaching-bundles__block--loaded",null,n,e),gr(t,"data-deal-block-id",v().id),gr(t,"data-ab-test-variant-id",v().abTestVariantId),gr(t,"data-ab-test-variant",r),rr(t,Et(l)),w=tr(P,1,"kaching-bundles__bars",null,w,a)}),[()=>({"kaching-bundles__block--horizontal":"horizontal"===v().blockLayout,"kaching-bundles__block--grid":"grid"===v().blockLayout,"kaching-bundles__block--plain":"plain"===v().blockLayout}),()=>v().abTestVariantNumber?na(v().abTestVariantNumber):void 0,()=>({"kaching-bundles__bars--horizontal":"horizontal"===v().blockLayout,"kaching-bundles__bars--grid":"grid"===v().blockLayout,"kaching-bundles__bars--plain":"plain"===v().blockLayout})],Ce),qn(e,t)};Fn(W,(e=>{v()&&e(K)})),qn(e,J),hr(t,"selectedVariants",$),hr(t,"items",S);var Z=ln({selectedVariants:$,items:S,get component(){return o()},set component(e){o(e),jt()},get config(){return d()},set config(e){d(e),jt()},get translations(){return g()},set translations(e){g(e),jt()},get dealBlock(){return v()},set dealBlock(e){v(e),jt()},get product(){return p()},set product(e){p(e),jt()},get currentVariantId(){return f()},set currentVariantId(e){f(e),jt()},get selectedDealBarId(){return h()},set selectedDealBarId(e){h(e),jt()},get quantity(){return b()},set quantity(e){b(e),jt()},get mediaImages(){return m()},set mediaImages(e){m(e),jt()},get otherProducts(){return _()},set otherProducts(e){_(e),jt()},get collectionBreaksProducts(){return y()},set collectionBreaksProducts(e){y(e),jt()},get complementaryProducts(){return k()},set complementaryProducts(e){k(e),jt()}});return r(),Z}customElements.define("kaching-bundles-block",Or(hc,{config:{attribute:"config",type:"Object"},translations:{attribute:"translations",type:"Object"},dealBlock:{attribute:"deal-block",type:"Object"},product:{attribute:"product",type:"Object"},otherProducts:{attribute:"other-products",type:"Array"},collectionBreaksProducts:{attribute:"collection-breaks-products",type:"Array"},complementaryProducts:{attribute:"complementary-products",type:"Array"},mediaImages:{attribute:"media-images",type:"Array"},currentVariantId:{attribute:"current-variant-id",type:"Number"},selectedDealBarId:{attribute:"selected-deal-bar-id",type:"String"},quantity:{attribute:"quantity",type:"Number"},component:{}},[],["selectedVariants","items"],!1,(e=>class extends e{constructor(){super(),c(this,"component"),this.component=this}})));const bc=ol,mc=hc,_c=Zi.element,yc=bc.element,kc=mc.element;return e.ChooseProduct=yc,e.DealBar=_c,e.DealBlock=kc,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e}({});
//# sourceMappingURL=kaching-bundles-block.js.map
